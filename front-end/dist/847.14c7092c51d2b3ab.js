"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[847],{2219:(P,g,n)=>{n.d(g,{j:()=>f});var a=n(4006),u=n(5412),t=n(4650),c=n(8811),e=n(6234),s=n(6895),l=n(7392),p=n(4850),r=n(8306),d=n(8885);function b(m,_){if(1&m&&(t.TgZ(0,"p",16),t._uU(1,"SALDO A CUENTA :"),t.TgZ(2,"strong"),t._uU(3),t.ALo(4,"number"),t.qZA()()),2&m){const i=t.oxw(2);t.xp6(3),t.hij(" Bs ",t.xi3(4,1,i.debt,"1.2-2")," ")}}function v(m,_){if(1&m&&(t.TgZ(0,"p",16)(1,"strong"),t._uU(2),t.qZA()()),2&m){const i=t.oxw(2);t.xp6(2),t.hij(" ",i.messaje," ")}}function C(m,_){if(1&m&&(t.TgZ(0,"div",14),t.YNc(1,b,5,4,"p",15),t.YNc(2,v,3,1,"p",15),t.qZA()),2&m){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!i.messaje),t.xp6(1),t.Q6J("ngIf",i.messaje)}}class f{constructor(_,i,o,h,O){this.dialogRef=_,this.router=o,this.service=h,this.fb=O,this.debt=0,this.form=this.fb.group({paymentDelivered:[null,[a.kI.required]],amountCredit:[null]}),this.paymentDelivered=i.amountCredit,this.id=i.id}close(){this.form.reset(),this.dialogRef.close(!1)}cancelSaleCredit(){this.form.reset(),this.dialogRef.close(!1)}onKey(_){let i=parseFloat(this.form.value.paymentDelivered);i=isNaN(i)||null===i?this.paymentDelivered:i,this.debt=this.paymentDelivered-i,this.form.get("amountCredit").setValue(this.debt),this.messaje=this.debt<0?"El monto tiene que ser menor a el total":""}save(){let _=this.form.value;_.amountCredit<0?(this.form.reset(),this.dialogRef.close(!1)):this.service.savePayment(this.id,{amount:_.paymentDelivered,pettyCashId:2}).subscribe(o=>{this.dialogRef.close(o>0?o:0)})}}f.\u0275fac=function(_){return new(_||f)(t.Y36(u.so),t.Y36(u.WI),t.Y36(c.F0),t.Y36(e.F),t.Y36(a.qu))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-add-payment"]],decls:29,vars:19,consts:[[1,"m-4","w-100"],[1,"flex","items-center","justify-between","dark:bg-gray-700"],[1,"w-full"],[1,"text-2xl","font-semibold","tracking-tight","leading-6"],["svgIcon","heroicons_outline:x",3,"click"],["ngNativeValidate","","autocomplete","off",3,"formGroup","ngSubmit"],[1,"text-center",2,"display","flex","justify-content","space-evenly"],["src","assets/images/ui/sale-credit.png",2,"max-width","250px"],[1,"text-green"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-4"],[1,"sm:col-span-4"],[3,"icon","label","formControlName","keyup"],["style","background: #ff000047;border-radius: 7px;",4,"ngIf"],[3,"color","label","icon","withFull","disabled","buttonClick"],[2,"background","#ff000047","border-radius","7px"],["class","text-red",4,"ngIf"],[1,"text-red"]],template:function(_,i){1&_&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"div",3),t._uU(5,"AGREGAR PAGO DE VENTA AL CREDITO"),t.qZA()()(),t.TgZ(6,"div")(7,"mat-icon",4),t.NdJ("click",function(){return i.close()}),t.qZA()()(),t._UZ(8,"mat-divider"),t.TgZ(9,"form",5),t.NdJ("ngSubmit",function(){return i.save()}),t.TgZ(10,"div",6),t._UZ(11,"img",7),t.qZA(),t.TgZ(12,"div")(13,"p",8),t._uU(14,"\xbfCuanto de dinero te esta dejando de los "),t.TgZ(15,"strong"),t._uU(16),t.ALo(17,"number"),t.qZA()()(),t.TgZ(18,"div",9)(19,"div",10)(20,"input-amount-cash",11),t.NdJ("keyup",function(h){return i.onKey(h)}),t.qZA()()(),t._UZ(21,"br"),t.YNc(22,C,3,2,"div",12),t._UZ(23,"br"),t.TgZ(24,"div",1)(25,"div")(26,"btn-generic",13),t.NdJ("buttonClick",function(){return i.cancelSaleCredit()}),t.qZA()(),t.TgZ(27,"div")(28,"btn-generic",13),t.NdJ("buttonClick",function(){return i.save()}),t.qZA()()()()()),2&_&&(t.xp6(9),t.Q6J("formGroup",i.form),t.xp6(7),t.hij(" ",t.xi3(17,16,i.paymentDelivered,"1.2-2")," Bs.? "),t.xp6(4),t.Q6J("icon","add")("label","Monto Dinero :")("formControlName","paymentDelivered"),t.xp6(2),t.Q6J("ngIf",i.debt),t.xp6(4),t.Q6J("color","secondary")("label","Cancelar")("icon","close")("withFull",!1)("disabled",!1),t.xp6(2),t.Q6J("color","green")("label","Guardar Pago")("icon","save")("withFull",!1)("disabled",!1))},dependencies:[s.O5,a.JJ,a.JL,l.Hw,a.sg,a.u,p.d,r.e,d.y,s.JJ],styles:[".btn-sale-credit[_ngcontent-%COMP%]{background:orange;color:#fff}.text-green[_ngcontent-%COMP%]{color:#dd7f0bf2;font-weight:600;font-size:25px;text-align:-webkit-center}.text-red[_ngcontent-%COMP%]{color:#891818f2;font-size:20px;text-align:-webkit-center}.btn-cancel[_ngcontent-%COMP%]{background:#0f172a;color:#fff}"]})},9308:(P,g,n)=>{n.d(g,{y:()=>u});var a=n(4650);class u{}u.\u0275fac=function(c){return new(c||u)},u.\u0275cmp=a.Xpm({type:u,selectors:[["app-overview-payment"]],decls:2,vars:0,template:function(c,e){1&c&&(a.TgZ(0,"p"),a._uU(1,"overview-payment works!"),a.qZA())}})},8831:(P,g,n)=>{n.d(g,{e:()=>c});var a=n(2365),u=n(4650),t=n(529);class c extends a.b{constructor(s){super(s)}getlistPatients(s){return this.http.get(`${this.baseUri}api/patient/list?${s}`,this.getHttpOptions())}store(s){return s?.id?this.http.put(`${this.baseUri}api/patient/${s.id}`,s,this.getHttpOptions()):this.http.post(`${this.baseUri}api/patient`,s,this.getHttpOptions())}getById(s){return this.http.get(`${this.baseUri}api/patient/${s}`,this.getHttpOptions())}lowById(s){return this.http.put(`${this.baseUri}api/patient/${s}/low`,this.getHttpOptions())}getListZone(){return this.http.get(`${this.baseUri}api/client/zone/list`,this.getHttpOptions())}getListClinicHistoryById(s,l){return this.http.get(`${this.baseUri}api/patient/${s}/clinical-history${l}`,this.getHttpOptions())}printReport(s,l){return this.http.get(`${this.baseUri}api/patient/report?PatientId=${s}&DoctorId=${l}`,{...this.getHttpOptions(),responseType:"blob"})}updateCita(s,l){return this.http.put(`${this.baseUri}api/patient/clinical-history/${s}/gestionary`,l,this.getHttpOptions())}}c.\u0275fac=function(s){return new(s||c)(u.LFG(t.eN))},c.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})},6771:(P,g,n)=>{n.d(g,{K:()=>m});var a=n(5412),u=n(5226),t=n.n(u),c=n(7775),e=n(4650),s=n(8831),l=n(4006),p=n(6895),r=n(7392),d=n(4859),b=n(9549),v=n(284),C=n(6709);const f=function(_,i,o){return{"bg-yellow-100 text-yellow-800":_,"bg-green-100 text-green-800":i,"bg-red-100 text-red-800":o}};class m{constructor(i,o,h,O,E){this.dialogRef=i,this.service=o,this.dialog=h,this.fb=E,this.amountTotal=0,this.cita=null,this.logoClient=c.N.logo,this.cita=O,this.saleId=O?.id,this.formCita=this.fb.group({motive:[""],diagnostic:[""],observations:[""],totalCost:[0],wasPaid:[!1]})}ngOnInit(){this.cita&&this.formCita.patchValue({motive:this.cita.motive,diagnostic:this.cita.diagnostic,observations:this.cita.observations,totalCost:this.cita.totalCost,wasPaid:this.cita.wasPaid}),this.saleId>0&&this.setData(this.saleId)}setData(i){}close(){this.dialogRef.close(!1)}updateCita(){this.formCita.invalid||this.service.updateCita(this.cita.id,{motive:this.formCita.value.motive,diagnostic:this.formCita.value.diagnostic,observations:this.formCita.value.observations,totalCost:this.formCita.value.totalCost,wasPaid:this.formCita.value.wasPaid}).subscribe(()=>{t().fire({icon:"success",title:"Cambios guardados",text:"La cita fue actualizada correctamente",showConfirmButton:!1,timer:1500}).then(()=>{this.dialogRef.close(!0)})})}downloadPDFTermic(){this.saleOrder.clientStore=c.N.nameStore,this.saleOrder.codeClient=c.N.codeClient}dowloadTermic(){}dowloadLeeter(){}}m.\u0275fac=function(i){return new(i||m)(e.Y36(a.so),e.Y36(s.e),e.Y36(a.uw),e.Y36(a.WI),e.Y36(l.qu))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-overview-sale"]],decls:50,vars:9,consts:[["id","contenido",1,"overview-sale","p-0","rounded-2xl","bg-card","print:w-auto","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"grid","grid-cols-12","border-b"],[1,"col-span-3"],[1,"p-4","flex","flex-col","flex-auto"],[1,"max-w-20",3,"src"],[1,"col-span-6"],[1,"center-item"],[1,"text-2xl","font-semibold","tracking-tight","leading-6"],[1,"mt-2","flex","items-center","gap-2"],[1,"text-sm","font-semibold"],[1,"px-3","py-1","rounded-full","text-xs","font-semibold",3,"ngClass"],[1,"flex","flex-col","flex-auto","m-4","items-end"],["svgIcon","heroicons_outline:x",1,"cursor-pointer",3,"click"],[1,"m-6","grid","grid-cols-12","gap-4",3,"formGroup"],[1,"col-span-12"],["appearance","outline",1,"w-full"],["matInput","","rows","2","formControlName","motive"],["matInput","","rows","2","formControlName","diagnostic"],["matInput","","rows","3","formControlName","observations"],["matInput","","type","number","formControlName","totalCost"],[1,"col-span-6","flex","items-center"],["formControlName","wasPaid"],[1,"col-span-12","flex","justify-end","gap-3","mt-6"],["mat-stroked-button","","color","warn","type","button",3,"click"],["mat-flat-button","","color","primary","type","button",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6)(7,"div")(8,"div",7),e._uU(9),e.qZA(),e.TgZ(10,"div",8)(11,"span",9),e._uU(12,"Estado:"),e.qZA(),e.TgZ(13,"span",10),e._uU(14),e.qZA()()()()(),e.TgZ(15,"div",2)(16,"div",11)(17,"mat-icon",12),e.NdJ("click",function(){return o.close()}),e.qZA()()()(),e.TgZ(18,"form",13)(19,"div",14)(20,"mat-form-field",15)(21,"mat-label"),e._uU(22,"Motivo"),e.qZA(),e.TgZ(23,"textarea",16),e._uU(24,"        "),e.qZA()()(),e.TgZ(25,"div",14)(26,"mat-form-field",15)(27,"mat-label"),e._uU(28,"Diagn\xf3stico"),e.qZA(),e.TgZ(29,"textarea",17),e._uU(30,"        "),e.qZA()()(),e.TgZ(31,"div",14)(32,"mat-form-field",15)(33,"mat-label"),e._uU(34,"Observaciones"),e.qZA(),e.TgZ(35,"textarea",18),e._uU(36,"        "),e.qZA()()(),e.TgZ(37,"div",5)(38,"mat-form-field",15)(39,"mat-label"),e._uU(40,"Total (Bs.)"),e.qZA(),e._UZ(41,"input",19),e.qZA()(),e.TgZ(42,"div",20)(43,"mat-checkbox",21),e._uU(44," \xbfPagado? "),e.qZA()(),e.TgZ(45,"div",22)(46,"button",23),e.NdJ("click",function(){return o.close()}),e._uU(47," Cancelar "),e.qZA(),e.TgZ(48,"button",24),e.NdJ("click",function(){return o.updateCita()}),e._uU(49," Editar "),e.qZA()()()()),2&i&&(e.xp6(4),e.Q6J("src",o.logoClient,e.LSH),e.xp6(5),e.hij(" Gesti\xf3n de Cita N\xb0 ",null==o.cita?null:o.cita.id," "),e.xp6(4),e.Q6J("ngClass",e.kEZ(5,f,1===(null==o.cita?null:o.cita.statusId),2===(null==o.cita?null:o.cita.statusId),3===(null==o.cita?null:o.cita.statusId))),e.xp6(1),e.hij(" ",1===(null==o.cita?null:o.cita.statusId)?"Pendiente":2===(null==o.cita?null:o.cita.statusId)?"Aceptado":3===(null==o.cita?null:o.cita.statusId)?"Rechazado":"Desconocido"," "),e.xp6(4),e.Q6J("formGroup",o.formCita))},dependencies:[p.mk,l._Y,l.Fj,l.wV,l.JJ,l.JL,r.Hw,l.sg,l.u,d.lW,b.KE,b.hX,v.Nt,C.oG],styles:[".overview-sale[_ngcontent-%COMP%]{background:red;max-width:700px}.box-1[_ngcontent-%COMP%]{background-color:#fff;border-width:20px;border:solid 1px #1e293b;border-radius:5px;padding:10px 1px;margin:5px 17px}.btn-export[_ngcontent-%COMP%]{border-radius:4px;background:#d4d4d4;width:-moz-fit-content;width:fit-content;cursor:pointer;width:100%;color:#f0f8ff}.btn-whatsapp[_ngcontent-%COMP%]{background:#d4d4d4}.btn-pdf[_ngcontent-%COMP%]{background:#F15642}.btn-excel[_ngcontent-%COMP%]{background:#84BD5A}.fw-700[_ngcontent-%COMP%]{font-weight:700!important}.center-item[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:space-evenly;align-self:center}.backgoud-page[_ngcontent-%COMP%]{background:#F9F9F9}.text-amount[_ngcontent-%COMP%]{font-size:17px;font-weight:700}.card-item[_ngcontent-%COMP%]{background-color:#eaeded;border-radius:6px;padding:5px;margin-top:5px;height:70px}.center-items[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.background-white[_ngcontent-%COMP%]{background:white;border-radius:4px;height:100%}.background-green[_ngcontent-%COMP%]{background:#22C55E;border-radius:4px;height:100%}.title[_ngcontent-%COMP%]{font-weight:700;font-size:25px}.label-total[_ngcontent-%COMP%]{display:flex;font-size:20px;margin-top:10px}.footet-text[_ngcontent-%COMP%]{background-image:url(/assets/images/flags/footer-sale-note.png)}.item-preview[_ngcontent-%COMP%]{background:#f2f3f4!important;padding:5px;border-radius:10px}"]})},8306:(P,g,n)=>{n.d(g,{e:()=>l});var a=n(4650),u=n(6895),t=n(4859),c=n(7392);function e(p,r){if(1&p&&a._UZ(0,"mat-icon",2),2&p){const d=a.oxw();a.s9C("fontIcon",d.icon)}}const s=function(p,r,d,b,v,C,f){return{"btn-warning-faam":p,"btn-success-faam":r,"btn-secondary-faam":d,"btn-bad-faam":b,"btn-danger-faam":v,"btn-disabled-faam":C,"btn-shadow-faam":f}};class l{set item1(r){this.color=r}set item2(r){this.label=r}set item3(r){this.icon=r}set item4(r){this.withFull=r}set item5(r){this.disabled=r}set item6(r){this.shadow=r}constructor(){this.color="green",this.label="value",this.icon="value",this.withFull=!1,this.disabled=!1,this.shadow=!1,this.buttonClick=new a.vpe}handleClick(){this.disabled||this.buttonClick.emit()}}l.\u0275fac=function(r){return new(r||l)},l.\u0275cmp=a.Xpm({type:l,selectors:[["btn-generic"]],inputs:{item1:["color","item1"],item2:["label","item2"],item3:["icon","item3"],item4:["withFull","item4"],item5:["disabled","item5"],item6:["shadow","item6"]},outputs:{buttonClick:"buttonClick"},decls:3,vars:14,consts:[["mat-flat-button","","type","button",3,"ngClass","disabled","click"],["icon","","aria-hidden","false","aria-label","Example share icon",3,"fontIcon",4,"ngIf"],["icon","","aria-hidden","false","aria-label","Example share icon",3,"fontIcon"]],template:function(r,d){1&r&&(a.TgZ(0,"button",0),a.NdJ("click",function(){return d.handleClick()}),a._uU(1),a.YNc(2,e,1,1,"mat-icon",1),a.qZA()),2&r&&(a.ekj("w-full",!0===d.withFull),a.Q6J("ngClass",a.Hh0(6,s,"orange"===d.color,"green"===d.color,"secondary"===d.color,"black"===d.color,"red"===d.color,d.disabled,d.shadow))("disabled",d.disabled),a.xp6(1),a.hij(" ",d.label," "),a.xp6(1),a.Q6J("ngIf",d.icon))},dependencies:[u.mk,u.O5,t.lW,c.Hw],styles:['@charset "UTF-8";.btn-warning-faam[_ngcontent-%COMP%]{background:#F39C12;color:#fff;border-radius:18px!important}.btn-success-faam[_ngcontent-%COMP%]{background-color:var(--fuse-primary-600)!important;color:#fff!important;border-radius:18px!important}.btn-bad-faam[_ngcontent-%COMP%]{background:#1e293b!important;color:#fff!important;border-radius:18px!important}.btn-secondary-faam[_ngcontent-%COMP%]{background:#b4beca!important;color:#fff!important;border-radius:18px!important}.btn-danger-faam[_ngcontent-%COMP%]{background:#ff5227!important;color:#fff!important;border-radius:18px!important}.btn-disabled-faam[_ngcontent-%COMP%]{background:#D3D3D3!important;color:#1e293b!important;border-radius:18px!important;cursor:not-allowed}.btn-shadow-faam[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000004d}']})}}]);