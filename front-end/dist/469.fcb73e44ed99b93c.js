"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[469],{5269:(C,h,n)=>{n.d(h,{W:()=>v});var t=n(5861),d=n(4006),g=n(3558),f=n(5226),c=n.n(f),x=n(5412),b=n(3185),e=n(4650),s=n(8811),_=n(1481),r=n(3833),a=n(6895),l=n(7392),M=n(3238),A=n(6709),E=n(1014),P=n(8306);function I(u,i){1&u&&(e.TgZ(0,"div",24),e._uU(1,"Registro de Doctor"),e.qZA())}function Z(u,i){1&u&&(e.TgZ(0,"div",24),e._uU(1,"Actualizaci\xf3n de Doctor"),e.qZA())}const U=function(u,i){return{"modal-mode":u,"page-mode":i}};class v{get formLabel(){return this.isCreate?"Registro":"Actualizaci\xf3n"}constructor(i,o,m,p,y,T,O){this.activatedRoute=i,this.fb=o,this.sanitizer=m,this.router=p,this.service=y,this.data=T,this.dialogRef=O,this.id=null,this.isSaving=!1,this.imageSource=this.sanitizer.bypassSecurityTrustResourceUrl(b.O),this.isCreate=!1,this.prop=["id","firstName","lastName","phone","ci","nit","photo","businessName","isEmergency"],this.isModal=!1,this.isModal=T,this.form=this.fb.group({id:[null],firstName:[null,[d.kI.required,d.kI.minLength(3)]],lastName:[null],phone:[null],ci:[null],nit:[null],photo:[null],businessName:[null],isEmergency:[!1]})}ngOnInit(){this.isCreate=this.router.url.endsWith("/store"),this.isCreate||this.isModal?this.isModal&&this.data?.id?(this.id=this.data.id,this.service.getById(this.id).subscribe(i=>{this.prop.forEach(o=>this.form.get(o)?.setValue(i[o])),null!==i.photo&&this.setPhoto("data:image/png;base64,"+i.photo)})):this.isCreate=!0:(this.id=parseInt(this.activatedRoute.snapshot.params.id),this.service.getById(this.id).subscribe(i=>{this.prop.forEach(o=>this.form.get(o)?.setValue(i[o])),null!==i.photo&&this.setPhoto("data:image/png;base64,"+i.photo)}))}uploadAvatar(i){var o=this;return(0,t.Z)(function*(){if(!i.length)return;const m=i[0],p=new FileReader;p.readAsDataURL(m),p.onload=()=>{o.setPhoto(p.result)}})()}setPhoto(i){var o=this;return(0,t.Z)(function*(){o.imageSource=o.sanitizer.bypassSecurityTrustResourceUrl(i),o.form.get("photo").setValue(i)})()}removeAvatar(){this.imageSource=this.sanitizer.bypassSecurityTrustResourceUrl(g.B),this.form.get("photo").setValue(null)}closeModal(i){this.dialogRef&&this.dialogRef.close(i)}cancelStore(){this.isModal?this.closeModal(null):this.router.navigate(["provider/provider"])}control(i){return this.form.controls[i]}save(){let i=this.isCreate?"Registro":"Actualizaci\xf3n";if(this.isValidForm()){let o=this.form.value;o.id=this.id,this.isSaving=!0,this.service.store(o).subscribe(m=>{c().fire({position:"top-end",icon:"success",title:"Su "+i+" se realizo con exito!",showConfirmButton:!1,timer:1500}),this.isModal?this.closeModal(m):this.router.navigate(["provider/provider"])})}}isValidForm(){return Object.keys(this.form.controls).forEach(o=>{this.form.get(o)?.markAsTouched({onlySelf:!0})}),this.form.valid}}v.\u0275fac=function(i){return new(i||v)(e.Y36(s.gz),e.Y36(d.qu),e.Y36(_.H7),e.Y36(s.F0),e.Y36(r.H),e.Y36(x.WI,8),e.Y36(x.so,8))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-store-provider"]],decls:51,vars:94,consts:[[1,"base-content",3,"ngClass"],[1,"contenido"],[1,"pd-20","card-box"],[1,""],[1,"w-full","mt-4"],["class","text-2xl font-semibold tracking-tight leading-6",4,"ngIf"],[1,"font-medium","tracking-tight","text-secondary"],["ngNativeValidate","","autocomplete","off",3,"formGroup","ngSubmit"],[1,"flex","items-center","justify-center"],["alt","Image Source",1,"image",3,"src"],[1,"flex","items-center","justify-center","mt-1"],[1,"flex","items-center","justify-center",2,"width","200px"],[1,"flex","items-center","justify-center","bg-primary-500","p-1",2,"border-radius","5px","width","100%"],["id","avatar-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["avatarFileInput",""],["for","avatar-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],[1,"flex","items-center","justify-center","bg-gray-300","p-1",2,"border-radius","5px","width","100%","height","48px",3,"click"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-4"],[3,"formControl","label","maxLength","minLength","icon","disabled","placeholder"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"-ml-2",3,"color","formControl"],[1,"flex","items-center","justify-between","dark:bg-gray-700"],[1,"px-6","ml-3",3,"color","label","icon","withFull","disabled","buttonClick"],[1,"text-2xl","font-semibold","tracking-tight","leading-6"]],template:function(i,o){if(1&i){const m=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",3)(5,"div",4),e.YNc(6,I,2,0,"div",5),e.YNc(7,Z,2,0,"div",5),e.TgZ(8,"div",6),e._uU(9,"Modulo de gestiones para proveedores"),e.qZA()(),e._UZ(10,"br")(11,"hr"),e.TgZ(12,"form",7),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(13,"div")(14,"div",8),e._UZ(15,"img",9),e.qZA(),e.TgZ(16,"div",10)(17,"div",11)(18,"div",12)(19,"input",13,14),e.NdJ("change",function(){e.CHM(m);const y=e.MAs(20);return e.KtG(o.uploadAvatar(y.files))}),e.qZA(),e.TgZ(21,"label",15),e._UZ(22,"mat-icon",16),e.qZA()(),e.TgZ(23,"div",17),e.NdJ("click",function(){return o.removeAvatar()}),e._UZ(24,"mat-icon",16),e.qZA()()()(),e.TgZ(25,"div",18)(26,"div"),e._UZ(27,"input-text",19),e.qZA(),e.TgZ(28,"div"),e._UZ(29,"input-text",19),e.qZA()(),e.TgZ(30,"div",20)(31,"div"),e._UZ(32,"input-text",19),e.qZA(),e.TgZ(33,"div"),e._UZ(34,"input-text",19),e.qZA()(),e.TgZ(35,"div",20)(36,"div"),e._UZ(37,"input-text",19),e.qZA(),e.TgZ(38,"div"),e._UZ(39,"input-text",19),e.qZA()(),e.TgZ(40,"div",20)(41,"div")(42,"mat-checkbox",21),e._uU(43," Es Emergencia? "),e.qZA()()(),e._UZ(44,"br")(45,"br"),e.TgZ(46,"div",22),e._UZ(47,"div"),e.TgZ(48,"div")(49,"btn-generic",23),e.NdJ("buttonClick",function(){return o.cancelStore()}),e.qZA(),e.TgZ(50,"btn-generic",23),e.NdJ("buttonClick",function(){return o.save()}),e.qZA()()()()()()()()()}2&i&&(e.Q6J("ngClass",e.WLB(91,U,o.isModal,!o.isModal)),e.xp6(6),e.Q6J("ngIf",o.isCreate),e.xp6(1),e.Q6J("ngIf",!o.isCreate),e.xp6(5),e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("src",o.imageSource,e.LSH),e.xp6(4),e.Q6J("multiple",!1)("accept","image/jpeg, image/png"),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:camera"),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:trash"),e.xp6(2),e.ekj("sm:col-span-2",!o.isModal)("sm:col-span-4",o.isModal),e.xp6(1),e.Q6J("formControl",o.control("firstName"))("label","Nombres:")("maxLength",50)("minLength",3)("icon","heroicons_solid:briefcase")("disabled",!1)("placeholder","nombre.."),e.xp6(1),e.ekj("sm:col-span-2",!o.isModal)("sm:col-span-4",o.isModal),e.xp6(1),e.Q6J("formControl",o.control("lastName"))("label","Apellidos:")("maxLength",50)("minLength",3)("icon","heroicons_outline:user-circle")("disabled",!1)("placeholder","apellido.."),e.xp6(2),e.ekj("sm:col-span-2",!o.isModal)("sm:col-span-4",o.isModal),e.xp6(1),e.Q6J("formControl",o.control("phone"))("label","Celular:")("maxLength",40)("minLength",3)("icon","heroicons_outline:phone")("disabled",!1)("placeholder","celular.."),e.xp6(1),e.ekj("sm:col-span-2",!o.isModal)("sm:col-span-4",o.isModal),e.xp6(1),e.Q6J("formControl",o.control("ci"))("label","N\xb0 Carnet:")("maxLength",40)("minLength",3)("icon","heroicons_outline:identification")("disabled",!1)("placeholder","Carnet.."),e.xp6(2),e.ekj("sm:col-span-2",!o.isModal)("sm:col-span-4",o.isModal),e.xp6(1),e.Q6J("formControl",o.control("nit"))("label","N\xb0 Nit:")("maxLength",40)("minLength",3)("icon","heroicons_solid:briefcase")("disabled",!1)("placeholder","Nit.."),e.xp6(1),e.ekj("sm:col-span-2",!o.isModal)("sm:col-span-4",o.isModal),e.xp6(1),e.Q6J("formControl",o.control("businessName"))("label","Razon Social:")("maxLength",50)("minLength",3)("icon","heroicons_outline:identification")("disabled",!1)("placeholder","Razon Social.."),e.xp6(2),e.ekj("sm:col-span-2",!o.isModal)("sm:col-span-4",o.isModal),e.xp6(1),e.Q6J("color","primary")("formControl",o.control("isEmergency")),e.xp6(7),e.Q6J("color","secondary")("label"," Cancelar")("icon","close")("withFull",!1)("disabled",!1),e.xp6(1),e.Q6J("color","green")("label"," Guardar")("icon","save")("withFull",!1)("disabled",o.isSaving))},dependencies:[a.mk,a.O5,d.JJ,d.JL,l.Hw,d.oH,d.sg,M.wG,A.oG,E.m,P.e],styles:[".icon[_ngcontent-%COMP%]{margin:0 10px;color:#000;font-weight:900}.contenido[_ngcontent-%COMP%]{padding:20px;border-radius:5px;background:#fff;transition:all .3s ease-in-out;box-shadow:0 0 25px #0000001a}.base-content[_ngcontent-%COMP%]{padding:8px;width:100%}.image[_ngcontent-%COMP%]{box-shadow:0 0 25px #0000001a;height:200px;width:200px;border:7px solid #BFC9CA;border-radius:5px}"]})},3833:(C,h,n)=>{n.d(h,{H:()=>c});var t=n(529),d=n(7775),g=n(4650);const f={headers:new t.WM({"Access-Control-Allow-Origin":"*",Authorization:"authkey",userid:"1"})};class c{constructor(s){this.http=s,this.baseUri="",this.baseUri=d.N.production?d.N.apiUrlProd:d.N.apiUrlLocal}getListProvider(){return this.http.get(`${this.baseUri}api/provider/list`,f)}store(s){return s?.id?this.http.put(`${this.baseUri}api/doctor/${s.id}`,s):this.http.post(`${this.baseUri}api/doctor`,s)}getById(s){return this.http.get(`${this.baseUri}api/doctor/`+s)}lowById(s){return this.http.put(`${this.baseUri}api/provider/${s}/low`,{})}}c.\u0275fac=function(s){return new(s||c)(g.LFG(t.eN))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})},5078:(C,h,n)=>{n.d(h,{i:()=>_});var t=n(4650),d=n(6895);function g(r,a){if(1&r&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&r){const l=t.oxw();t.xp6(1),t.hij(" ",l.label,"\n")}}function f(r,a){if(1&r&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&r){const l=t.oxw();t.xp6(1),t.hij(" ",l.label,"\n")}}function c(r,a){if(1&r&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&r){const l=t.oxw();t.xp6(1),t.hij(" ",l.label,"\n")}}function x(r,a){if(1&r&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&r){const l=t.oxw();t.xp6(1),t.hij(" ",l.label,"\n")}}function b(r,a){if(1&r&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&r){const l=t.oxw();t.xp6(1),t.hij(" ",l.label,"\n")}}function e(r,a){if(1&r&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&r){const l=t.oxw();t.xp6(1),t.hij(" ",l.label,"\n")}}function s(r,a){if(1&r&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&r){const l=t.oxw();t.xp6(1),t.hij(" ",l.label,"\n")}}class _{set item1(a){this.color=a}set item2(a){this.label=a}constructor(){this.color="green",this.label="value"}}_.\u0275fac=function(a){return new(a||_)},_.\u0275cmp=t.Xpm({type:_,selectors:[["chips-faam"]],inputs:{item1:["color","item1"],item2:["label","item2"]},decls:7,vars:7,consts:[["class"," style-chip-faam py-0.4 h-6 w-full px-1 rounded-full text-xs text-center font-semibold text-blue-800 bg-blue-100 dark:text-blue-50 dark:bg-blue-500",4,"ngIf"],["class","style-chip-faam py-0.4 h-6 w-full px-1 rounded-full text-xs text-center font-semibold text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500",4,"ngIf"],["class","style-chip-faam py-0.4 h-6 w-full px-1 rounded-full text-xs text-center font-semibold text-red-800 bg-red-100 dark:text-red-50 dark:bg-red-500",4,"ngIf"],["class","style-chip-faam py-0.4 h-6 w-full px-1 rounded-full text-xs text-center font-semibold text-orange-800 bg-orange-100 dark:text-orange-50 dark:bg-orange-500",4,"ngIf"],["class","style-chip-faam py-0.4 h-6 w-full px-1 rounded-full text-xs text-center font-semibold text-yellow-800 bg-yellow-100 dark:text-yellow-50 dark:bg-yellow-500",4,"ngIf"],["class","style-chip-faam py-0.4 h-6 w-full px-1 rounded-full text-xs text-center font-semibold text-black-800 bg-black-100 dark:text-black-50 dark:bg-black-500",4,"ngIf"],["class","style-chip-faam py-0.4 h-6 w-full px-1 rounded-full text-xs text-center font-semibold text-gray-800 bg-gray-100 dark:text-gray-50 dark:bg-gray-500",4,"ngIf"],[1,"style-chip-faam","py-0.4","h-6","w-full","px-1","rounded-full","text-xs","text-center","font-semibold","text-blue-800","bg-blue-100","dark:text-blue-50","dark:bg-blue-500"],[1,"style-chip-faam","py-0.4","h-6","w-full","px-1","rounded-full","text-xs","text-center","font-semibold","text-green-800","bg-green-100","dark:text-green-50","dark:bg-green-500"],[1,"style-chip-faam","py-0.4","h-6","w-full","px-1","rounded-full","text-xs","text-center","font-semibold","text-red-800","bg-red-100","dark:text-red-50","dark:bg-red-500"],[1,"style-chip-faam","py-0.4","h-6","w-full","px-1","rounded-full","text-xs","text-center","font-semibold","text-orange-800","bg-orange-100","dark:text-orange-50","dark:bg-orange-500"],[1,"style-chip-faam","py-0.4","h-6","w-full","px-1","rounded-full","text-xs","text-center","font-semibold","text-yellow-800","bg-yellow-100","dark:text-yellow-50","dark:bg-yellow-500"],[1,"style-chip-faam","py-0.4","h-6","w-full","px-1","rounded-full","text-xs","text-center","font-semibold","text-black-800","bg-black-100","dark:text-black-50","dark:bg-black-500"],[1,"style-chip-faam","py-0.4","h-6","w-full","px-1","rounded-full","text-xs","text-center","font-semibold","text-gray-800","bg-gray-100","dark:text-gray-50","dark:bg-gray-500"]],template:function(a,l){1&a&&(t.YNc(0,g,2,1,"div",0),t.YNc(1,f,2,1,"div",1),t.YNc(2,c,2,1,"div",2),t.YNc(3,x,2,1,"div",3),t.YNc(4,b,2,1,"div",4),t.YNc(5,e,2,1,"div",5),t.YNc(6,s,2,1,"div",6)),2&a&&(t.Q6J("ngIf","blue"===l.color),t.xp6(1),t.Q6J("ngIf","green"===l.color),t.xp6(1),t.Q6J("ngIf","red"===l.color),t.xp6(1),t.Q6J("ngIf","orange"===l.color),t.xp6(1),t.Q6J("ngIf","yellow"===l.color),t.xp6(1),t.Q6J("ngIf","black"===l.color),t.xp6(1),t.Q6J("ngIf","gray"===l.color))},dependencies:[d.O5],styles:[".style-chip-faam[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;padding-left:8px!important;padding-right:8px!important}"]})}}]);