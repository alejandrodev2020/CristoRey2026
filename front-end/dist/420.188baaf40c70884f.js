"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[420],{3980:(Z,g,i)=>{i.r(g),i.d(g,{ClientModule:()=>v});var e=i(6895),f=i(8811),x=i(6713),m=i(8739),d=i(671),s=i(5226),u=i.n(s),h=i(6403),c=i(262),r=i(9646),t=i(4650),p=i(4719),l=i(4006),A=i(5412),U=i(7392),E=i(4859),N=i(9549),I=i(284),O=i(5078),D=i(8306);function M(n,o){if(1&n){const a=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(a);const T=t.oxw();return t.KtG(T.clearSearch())}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function B(n,o){1&n&&(t.TgZ(0,"th",28),t._uU(1," Foto "),t.qZA())}function G(n,o){if(1&n&&(t.TgZ(0,"td",29),t._UZ(1,"img",30),t.qZA()),2&n){const a=o.$implicit;t.xp6(1),t.s9C("src",a.photo,t.LSH)}}function F(n,o){1&n&&(t.TgZ(0,"th",28),t._uU(1," No. "),t.qZA())}function P(n,o){if(1&n&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&n){const a=o.$implicit;t.xp6(1),t.hij(" ",a.id," ")}}function Y(n,o){1&n&&(t.TgZ(0,"th",28),t._uU(1," Nombres "),t.qZA())}function J(n,o){if(1&n&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&n){const a=o.$implicit;t.xp6(1),t.hij(" ",a.firstName," ")}}function Q(n,o){1&n&&(t.TgZ(0,"th",28),t._uU(1," Apellidos "),t.qZA())}function L(n,o){if(1&n&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&n){const a=o.$implicit;t.xp6(1),t.hij(" ",a.lastName," ")}}function S(n,o){1&n&&(t.TgZ(0,"th",28),t._uU(1," Celular "),t.qZA())}function j(n,o){if(1&n&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&n){const a=o.$implicit;t.xp6(1),t.hij(" ",a.phone," ")}}function R(n,o){1&n&&(t.TgZ(0,"th",28),t._uU(1," Estado "),t.qZA())}function H(n,o){1&n&&t._UZ(0,"chips-faam",32),2&n&&t.Q6J("color","green")("label","Activo")}function $(n,o){1&n&&t._UZ(0,"chips-faam",32),2&n&&t.Q6J("color","orange")("label","Inactivo")}function K(n,o){if(1&n&&(t.TgZ(0,"td",29),t.YNc(1,H,1,2,"chips-faam",31),t.YNc(2,$,1,2,"chips-faam",31),t.qZA()),2&n){const a=o.$implicit;t.xp6(1),t.Q6J("ngIf",a.isActive),t.xp6(1),t.Q6J("ngIf",!a.isActive)}}function W(n,o){1&n&&(t.TgZ(0,"th",28),t._uU(1," Acciones "),t.qZA())}function z(n,o){if(1&n){const a=t.EpF();t.TgZ(0,"td",29)(1,"mat-icon",33),t.NdJ("click",function(){const C=t.CHM(a).$implicit,b=t.oxw();return t.KtG(b.overView(C))}),t._uU(2,"visibility"),t.qZA(),t.TgZ(3,"mat-icon",33),t.NdJ("click",function(){const C=t.CHM(a).$implicit,b=t.oxw();return t.KtG(b.update(C))}),t._uU(4,"create"),t.qZA(),t.TgZ(5,"mat-icon",33),t.NdJ("click",function(){const C=t.CHM(a).$implicit,b=t.oxw();return t.KtG(b.lowWarehouse(C))}),t._uU(6,"delete_forever"),t.qZA()()}}function V(n,o){1&n&&t._UZ(0,"tr",34)}function X(n,o){1&n&&t._UZ(0,"tr",35)}const q=function(){return[10,20,50,100]},tt=[];class y{constructor(o,a,_,T){this.service=o,this.fb=a,this.router=_,this.dialog=T,this.displayedColumns=["photo","id","firstName","lastName","phone","isActive","acciones"],this.dataSource=new d.by(tt),this.isFilterVisible=!1,this.searchValue="",this.form=this.fb.group({search:[""]}),this.form.get("search")?.valueChanges.subscribe(C=>{this.applyFilter(C)}),this.dataSource.filterPredicate=(C,b)=>{const ot=C.firstName.toLowerCase().includes(b.toLowerCase()),it=C.lastName.toLowerCase().includes(b.toLowerCase());return ot||it}}applyFilter(o){this.searchValue=o,this.dataSource.filter=o.trim().toLowerCase()}ngOnInit(){this.getClientList()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}getClientList(){this.service.getAllClient().pipe((0,c.K)(o=>(console.error("Error fetching clients:",o),u().fire("Error","No se pudieron cargar los clientes.","error"),(0,r.of)([])))).subscribe(o=>{o.forEach(a=>{a.photo=a.photo?`data:image/png;base64,${a.photo}`:"https://img.freepik.com/psd-gratis/3d-ilustracion-persona-gafas-sol_23-2149436188.jpg?size=338&ext=jpg&ga=GA1.1.1788068356.1716681600&semt=ais_user"}),this.dataSource.data=o})}createNew(){this.router.navigate(["client/client/store"])}update(o){this.router.navigate(["client/client/store/",o.id])}overView(o){this.dialog.open(h.x,{data:{id:o.id}}).afterClosed().subscribe(_=>{})}clearSearch(){this.searchValue="",this.form.get("search").setValue("")}lowWarehouse(o){u().fire({title:"\xbfSeguro que quiere dar de baja?",text:"Recuerda que no est\xe1s eliminando permanentemente!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, dar de Baja!"}).then(a=>{a.isConfirmed&&(this.service.lowById(o.id).subscribe(()=>{this.getClientList()}),u().fire("Baja Exitosa!","Su cliente se dio de baja exitosamente.","success"))})}toggleFilter(){this.isFilterVisible=!this.isFilterVisible}}y.\u0275fac=function(o){return new(o||y)(t.Y36(p.y),t.Y36(l.qu),t.Y36(f.F0),t.Y36(A.uw))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-client-gestionary"]],viewQuery:function(o,a){if(1&o&&t.Gf(m.NW,5),2&o){let _;t.iGM(_=t.CRH())&&(a.paginator=_.first)}},decls:42,vars:15,consts:[[1,"contenido"],[1,"flex","flex-col","md:flex-row","items-center","justify-between","dark:bg-gray-700","p-4"],[1,"w-full","mt-4"],[1,"text-2xl","font-semibold","tracking-tight","leading-6"],[1,"font-medium","tracking-tight","text-secondary"],[1,"flex","flex-col","md:flex-row","items-center","mt-4","md:mt-0"],[1,"px-6","ml-3",3,"color","label","icon","withFull","disabled","buttonClick"],[1,"w-full",3,"formGroup"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["placeholder","Buscar por nombre..","matInput","",3,"formControlName"],["mat-icon-button","","class","absolute right-0",3,"click",4,"ngIf"],[1,"mat-elevation-z0","table-responsive","mt-8"],[1,"overflow-x-auto"],["mat-table","",1,"table","min-w-full",3,"dataSource"],["matColumnDef","photo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","firstName"],["matColumnDef","lastName"],["matColumnDef","phone"],["matColumnDef","isActive"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-icon-button","",1,"absolute","right-0",3,"click"],["mat-header-cell",""],["mat-cell",""],[2,"width","50px","border-radius","60px",3,"src"],[3,"color","label",4,"ngIf"],[3,"color","label"],[1,"mr-2",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Listado de pacientes"),t.qZA(),t.TgZ(5,"div",4),t._uU(6,"Modulo de gestiones para pacientes"),t.qZA()(),t.TgZ(7,"div",5)(8,"btn-generic",6),t.NdJ("buttonClick",function(){return a.createNew()}),t.qZA()()(),t.TgZ(9,"div")(10,"form",7)(11,"mat-form-field",8),t._UZ(12,"mat-icon",9)(13,"input",10),t.YNc(14,M,3,0,"button",11),t.qZA()()(),t.TgZ(15,"div",12)(16,"div",13)(17,"table",14),t.ynx(18,15),t.YNc(19,B,2,0,"th",16),t.YNc(20,G,2,1,"td",17),t.BQk(),t.ynx(21,18),t.YNc(22,F,2,0,"th",16),t.YNc(23,P,2,1,"td",17),t.BQk(),t.ynx(24,19),t.YNc(25,Y,2,0,"th",16),t.YNc(26,J,2,1,"td",17),t.BQk(),t.ynx(27,20),t.YNc(28,Q,2,0,"th",16),t.YNc(29,L,2,1,"td",17),t.BQk(),t.ynx(30,21),t.YNc(31,S,2,0,"th",16),t.YNc(32,j,2,1,"td",17),t.BQk(),t.ynx(33,22),t.YNc(34,R,2,0,"th",16),t.YNc(35,K,3,2,"td",17),t.BQk(),t.ynx(36,23),t.YNc(37,W,2,0,"th",16),t.YNc(38,z,7,0,"td",17),t.BQk(),t.YNc(39,V,1,0,"tr",24),t.YNc(40,X,1,0,"tr",25),t.qZA()(),t._UZ(41,"mat-paginator",26),t.qZA()()),2&o&&(t.xp6(8),t.Q6J("color","green")("label"," Crear Nuevo")("icon","add")("withFull",!1)("disabled",!1),t.xp6(2),t.Q6J("formGroup",a.form),t.xp6(1),t.Q6J("subscriptSizing","dynamic"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControlName","search"),t.xp6(1),t.Q6J("ngIf",""!==a.form.get("search").value),t.xp6(3),t.Q6J("dataSource",a.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(14,q)))},dependencies:[e.O5,l._Y,l.Fj,l.JJ,l.JL,U.Hw,l.sg,l.u,E.RK,N.KE,N.qo,I.Nt,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,m.NW,O.i,D.e],styles:[".contenido[_ngcontent-%COMP%]{width:100%;padding:20px;margin:8px;border-radius:5px;background:#fff;transition:all .3s ease-in-out;box-shadow:0 0 25px #0000001a}"]});var k=i(3461);class w{}w.\u0275fac=function(o){return new(o||w)},w.\u0275cmp=t.Xpm({type:w,selectors:[["app-history-sale"]],decls:2,vars:0,template:function(o,a){1&o&&(t.TgZ(0,"p"),t._uU(1,"history-sale works!"),t.qZA())}});var et=i(7705);const nt=[{path:"",component:y},{path:"client",component:y},{path:"client/history/:id",component:w},{path:"client/store",component:k.d},{path:"client/store/:id",component:k.d}];class v{}v.\u0275fac=function(o){return new(o||v)},v.\u0275mod=t.oAB({type:v}),v.\u0275inj=t.cJS({providers:[p.y],imports:[e.ez,x.m,A.Is,et.Y4,f.Bz.forChild(nt)]})},4719:(Z,g,i)=>{i.d(g,{y:()=>m});var e=i(2365),f=i(4650),x=i(529);class m extends e.b{constructor(s){super(s)}getAllClient(){return this.http.get(`${this.baseUri}api/client/list`,this.getHttpOptions())}store(s){return s?.id?this.http.put(`${this.baseUri}api/client/${s.id}`,s,this.getHttpOptions()):this.http.post(`${this.baseUri}api/client`,s,this.getHttpOptions())}getById(s){return this.http.get(`${this.baseUri}api/client/${s}`,this.getHttpOptions())}lowById(s){return this.http.put(`${this.baseUri}api/client/${s}/low`,this.getHttpOptions())}getListZone(){return this.http.get(`${this.baseUri}api/client/zone/list`,this.getHttpOptions())}}m.\u0275fac=function(s){return new(s||m)(f.LFG(x.eN))},m.\u0275prov=f.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})},9836:(Z,g,i)=>{i.d(g,{P:()=>u});var e=i(4650),f=i(6895),x=i(4859),m=i(7392);function d(h,c){if(1&h&&e._UZ(0,"mat-icon",2),2&h){const r=e.oxw();e.s9C("fontIcon",r.icon)}}const s=function(h,c,r,t,p){return{"btn-warning-faam":h,"btn-success-faam":c,"btn-secondary-faam":r,"btn-bad-faam":t,"btn-disabled-faam":p}};class u{set item1(c){this.color=c}set item2(c){this.label=c}set item3(c){this.icon=c}set item4(c){this.withFull=c}set item5(c){this.disabled=c}constructor(){this.color="green",this.label="value",this.icon=null,this.withFull=!1,this.disabled=!1,this.buttonClick=new e.vpe}handleClick(){this.disabled||this.buttonClick.emit()}}u.\u0275fac=function(c){return new(c||u)},u.\u0275cmp=e.Xpm({type:u,selectors:[["btn-actions"]],inputs:{item1:["color","item1"],item2:["label","item2"],item3:["icon","item3"],item4:["withFull","item4"],item5:["disabled","item5"]},outputs:{buttonClick:"buttonClick"},decls:3,vars:12,consts:[["mat-flat-button","","type","button",1,"btn-action",3,"ngClass","disabled","click"],["class","mr-2","icon","","aria-hidden","false","aria-label","Example share icon",3,"fontIcon",4,"ngIf"],["icon","","aria-hidden","false","aria-label","Example share icon",1,"mr-2",3,"fontIcon"]],template:function(c,r){1&c&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return r.handleClick()}),e._uU(1),e.YNc(2,d,1,1,"mat-icon",1),e.qZA()),2&c&&(e.ekj("w-full",!0===r.withFull),e.Q6J("ngClass",e.qbA(6,s,"orange"===r.color,"green"===r.color,"secondary"===r.color,"black"===r.color,r.disabled))("disabled",r.disabled),e.xp6(1),e.hij(" ",r.label," "),e.xp6(1),e.Q6J("ngIf",null!==r.icon))},dependencies:[f.mk,f.O5,x.lW,m.Hw],styles:[".btn-action[_ngcontent-%COMP%]{height:30px!important;min-height:30px!important;border-radius:10px!important;color:#fff!important;display:flex!important;cursor:pointer!important;padding-left:9px!important;padding-right:9px!important;box-shadow:0 4px 6px #0003}.btn-warning-faam[_ngcontent-%COMP%]{background:#F39C12!important}.btn-success-faam[_ngcontent-%COMP%]{background:var(--fuse-primary-600)!important}.btn-bad-faam[_ngcontent-%COMP%]{background:#1e293b!important}.btn-secondary-faam[_ngcontent-%COMP%]{background:#b4beca!important}.btn-disabled-faam[_ngcontent-%COMP%]{background:#D3D3D3!important;color:#1e293b!important;cursor:not-allowed}"]})},5078:(Z,g,i)=>{i.d(g,{i:()=>r});var e=i(4650),f=i(6895);function x(t,p){if(1&t&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&t){const l=e.oxw();e.xp6(1),e.hij(" ",l.label,"\n")}}function m(t,p){if(1&t&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&t){const l=e.oxw();e.xp6(1),e.hij(" ",l.label,"\n")}}function d(t,p){if(1&t&&(e.TgZ(0,"div",9),e._uU(1),e.qZA()),2&t){const l=e.oxw();e.xp6(1),e.hij(" ",l.label,"\n")}}function s(t,p){if(1&t&&(e.TgZ(0,"div",10),e._uU(1),e.qZA()),2&t){const l=e.oxw();e.xp6(1),e.hij(" ",l.label,"\n")}}function u(t,p){if(1&t&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&t){const l=e.oxw();e.xp6(1),e.hij(" ",l.label,"\n")}}function h(t,p){if(1&t&&(e.TgZ(0,"div",12),e._uU(1),e.qZA()),2&t){const l=e.oxw();e.xp6(1),e.hij(" ",l.label,"\n")}}function c(t,p){if(1&t&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&t){const l=e.oxw();e.xp6(1),e.hij(" ",l.label,"\n")}}class r{set item1(p){this.color=p}set item2(p){this.label=p}constructor(){this.color="green",this.label="value"}}r.\u0275fac=function(p){return new(p||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["chips-faam"]],inputs:{item1:["color","item1"],item2:["label","item2"]},decls:7,vars:7,consts:[["class"," style-chip-faam py-0.4 h-6 w-full px-1 rounded-full text-xs text-center font-semibold text-blue-800 bg-blue-100 dark:text-blue-50 dark:bg-blue-500",4,"ngIf"],["class","style-chip-faam py-0.4 h-6 w-full px-1 rounded-full text-xs text-center font-semibold text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500",4,"ngIf"],["class","style-chip-faam py-0.4 h-6 w-full px-1 rounded-full text-xs text-center font-semibold text-red-800 bg-red-100 dark:text-red-50 dark:bg-red-500",4,"ngIf"],["class","style-chip-faam py-0.4 h-6 w-full px-1 rounded-full text-xs text-center font-semibold text-orange-800 bg-orange-100 dark:text-orange-50 dark:bg-orange-500",4,"ngIf"],["class","style-chip-faam py-0.4 h-6 w-full px-1 rounded-full text-xs text-center font-semibold text-yellow-800 bg-yellow-100 dark:text-yellow-50 dark:bg-yellow-500",4,"ngIf"],["class","style-chip-faam py-0.4 h-6 w-full px-1 rounded-full text-xs text-center font-semibold text-black-800 bg-black-100 dark:text-black-50 dark:bg-black-500",4,"ngIf"],["class","style-chip-faam py-0.4 h-6 w-full px-1 rounded-full text-xs text-center font-semibold text-gray-800 bg-gray-100 dark:text-gray-50 dark:bg-gray-500",4,"ngIf"],[1,"style-chip-faam","py-0.4","h-6","w-full","px-1","rounded-full","text-xs","text-center","font-semibold","text-blue-800","bg-blue-100","dark:text-blue-50","dark:bg-blue-500"],[1,"style-chip-faam","py-0.4","h-6","w-full","px-1","rounded-full","text-xs","text-center","font-semibold","text-green-800","bg-green-100","dark:text-green-50","dark:bg-green-500"],[1,"style-chip-faam","py-0.4","h-6","w-full","px-1","rounded-full","text-xs","text-center","font-semibold","text-red-800","bg-red-100","dark:text-red-50","dark:bg-red-500"],[1,"style-chip-faam","py-0.4","h-6","w-full","px-1","rounded-full","text-xs","text-center","font-semibold","text-orange-800","bg-orange-100","dark:text-orange-50","dark:bg-orange-500"],[1,"style-chip-faam","py-0.4","h-6","w-full","px-1","rounded-full","text-xs","text-center","font-semibold","text-yellow-800","bg-yellow-100","dark:text-yellow-50","dark:bg-yellow-500"],[1,"style-chip-faam","py-0.4","h-6","w-full","px-1","rounded-full","text-xs","text-center","font-semibold","text-black-800","bg-black-100","dark:text-black-50","dark:bg-black-500"],[1,"style-chip-faam","py-0.4","h-6","w-full","px-1","rounded-full","text-xs","text-center","font-semibold","text-gray-800","bg-gray-100","dark:text-gray-50","dark:bg-gray-500"]],template:function(p,l){1&p&&(e.YNc(0,x,2,1,"div",0),e.YNc(1,m,2,1,"div",1),e.YNc(2,d,2,1,"div",2),e.YNc(3,s,2,1,"div",3),e.YNc(4,u,2,1,"div",4),e.YNc(5,h,2,1,"div",5),e.YNc(6,c,2,1,"div",6)),2&p&&(e.Q6J("ngIf","blue"===l.color),e.xp6(1),e.Q6J("ngIf","green"===l.color),e.xp6(1),e.Q6J("ngIf","red"===l.color),e.xp6(1),e.Q6J("ngIf","orange"===l.color),e.xp6(1),e.Q6J("ngIf","yellow"===l.color),e.xp6(1),e.Q6J("ngIf","black"===l.color),e.xp6(1),e.Q6J("ngIf","gray"===l.color))},dependencies:[f.O5],styles:[".style-chip-faam[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;padding-left:8px!important;padding-right:8px!important}"]})},2365:(Z,g,i)=>{i.d(g,{b:()=>m});var e=i(529),f=i(7775),x=i(4650);class m{constructor(s){this.http=s,this.baseUri=f.N.production?f.N.apiUrlProd:f.N.apiUrlLocal}getHttpOptions(){const s=localStorage.getItem("token");return{headers:new e.WM({Authorization:`Bearer ${s}`})}}}m.\u0275fac=function(s){return new(s||m)(x.LFG(e.eN))},m.\u0275prov=x.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}}]);