"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[276],{1276:(w,x,l)=>{l.r(x),l.d(x,{ColletionsModule:()=>f});var c=l(6895),C=l(8811),Z=l(6713),m=l(529),y=l(2365),t=l(4650);const u={headers:new m.WM({"Access-Control-Allow-Origin":"*",Authorization:"authkey",userid:"1"})},b={headers:new m.WM({Authorization:"Bearer EAACgOY6LeWMBANPLSZAQm6ixiweWA25SzybGaUOQf6iBLUMJDtj1ByGaJej1FP1MySZBpyTZABXmngjaOl1alruVqhoMiZCAeFsDcp61Hkg6SrTucgWcSZBuozcqo7DApukjbfWDZALfC4IysDX0qn7M68cQIhK2P7kyy8RjIiDJ79Wbd3aZC3IuALOX3KPEJsMuI6mRojAni6P9xg6Bsau"})};class o extends y.b{constructor(n){super(n)}getAllSaleCredit(n){return this.http.get(`${this.baseUri}api/sale/credit/list${n}`,this.getHttpOptions())}store(n){return n?.id?this.http.put(`${this.baseUri}api/product/${n.id}`,n):this.http.post(`${this.baseUri}api/sale`,n)}getById(n){return this.http.get(`${this.baseUri}api/sale/`+n)}lowById(n){return this.http.put(`${this.baseUri}api/product/${n}/low`,{})}sendMessageWhatsApp(n){return this.http.post("https://graph.facebook.com/v16.0/105589029214638/messages",n,b)}getAllSaleByWarehouseAndPettyCash(n,e){return this.http.get(`${this.baseUri}api/sale/warehouse/${n}/petty-cash/${e}/list`,u)}}o.\u0275fac=function(n){return new(n||o)(t.LFG(m.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"});var r=l(8739),a=l(671),B=l(5226),A=l.n(B),O=l(3838),N=l(6771),T=l(5412),P=l(6034),S=l(7392),q=l(8306),U=l(9836),D=l(5830);function $(i,n){1&i&&(t.TgZ(0,"th",21),t._uU(1," Id"),t.qZA())}function I(i,n){if(1&i&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function k(i,n){1&i&&(t.TgZ(0,"th",21),t._uU(1," Cliente "),t.qZA())}function j(i,n){if(1&i&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.AsE(" ",null==e||null==e.sale||null==e.sale.client?null:e.sale.client.firstName," ",null==e||null==e.sale||null==e.sale.client?null:e.sale.client.lastName," ")}}function M(i,n){1&i&&(t.TgZ(0,"th",21),t._uU(1," Fecha "),t.qZA())}function L(i,n){if(1&i&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"dateFormatHours"),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.saleCreditDate)," ")}}function Y(i,n){1&i&&(t.TgZ(0,"th",21),t._uU(1," Monto Credito "),t.qZA())}function F(i,n){if(1&i&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" Bs. ",t.xi3(2,1,e.amountCredit,"1.2-2")," ")}}function Q(i,n){1&i&&(t.TgZ(0,"th",21),t._uU(1,"Estado "),t.qZA())}function G(i,n){if(1&i&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.status.name," ")}}function J(i,n){if(1&i&&(t.TgZ(0,"div",27),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.status.name," ")}}function E(i,n){if(1&i&&(t.TgZ(0,"div",28),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.status.name," ")}}function R(i,n){if(1&i&&(t.TgZ(0,"td",22),t.YNc(1,G,2,1,"div",23),t.YNc(2,J,2,1,"div",24),t.YNc(3,E,2,1,"div",25),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",1===e.status.id),t.xp6(1),t.Q6J("ngIf",2===e.status.id),t.xp6(1),t.Q6J("ngIf",3===e.status.id)}}function H(i,n){1&i&&(t.TgZ(0,"th",21),t._uU(1," Venta "),t.qZA())}function W(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",22)(1,"mat-icon",29),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.overView(d))}),t._uU(2,"visibility"),t.qZA()()}}function z(i,n){1&i&&(t.TgZ(0,"th",21),t._uU(1," Acciones "),t.qZA())}function K(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",22)(1,"btn-actions",30),t.NdJ("buttonClick",function(){const d=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.gestionaryCredit(d))}),t.qZA()()}if(2&i){const e=n.$implicit;t.xp6(1),t.Q6J("color","secondary")("label"," Gestionar")("icon","dvr")("withFull",!1)("disabled",3==e.status.id)}}function V(i,n){1&i&&t._UZ(0,"tr",31)}function X(i,n){1&i&&t._UZ(0,"tr",32)}const tt=[];class g{constructor(n,e,s,p){this.service=n,this.router=e,this.dialog=s,this.servicePettyCash=p,this.displayedColumns=["id","client","saleCreditDate","amountCredit","status","sale","actions"],this.dataSource=new a.by(tt),this.limit=10,this.page=0,this.totalLength=400,this.isFilterVisible=!1,this.queryFilter="",this.objComplete=null,this.listOptionsPage=[5,10,20,50,100],this.listWarehouse=[],this.columns=[],this.actions=[],this.resetPaginator()}applyFilter(n){n=(n=n.trim()).toLowerCase(),this.dataSource.filter=n}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){let n=localStorage.getItem("role"),e=localStorage.getItem("userLogged"),s=JSON.parse(n);JSON.parse(e),s.id==O.H.admin&&this.service.getAllSaleCredit(this.CurrentPaginator).subscribe(d=>{this.dataSource.data=d.listSaleCredit,this.objComplete=d,this.totalLength=d.total}),this.columns=[{prop:"Id",value:"id"},{prop:"Nombre",value:"name"},{prop:"Descripci\xf3n",value:"Description"},{prop:"Ubicaci\xf3n",value:"ubication"}],this.actions=["Ver","Editar","Eliminar"]}createNew(){this.router.navigate(["sale/sale/store"])}update(n){this.router.navigate(["sale/sale/store/"+n.id])}overView(n){this.dialog.open(N.K,{panelClass:"custom-container",maxHeight:"94vh",data:{id:n?.sale?.id}}).afterClosed().subscribe(s=>{})}gestionaryCredit(n){this.router.navigate(["collections/collections/detail/"+n.id])}senfilter(n){this.queryFilter=n,this.service.getAllSaleCredit(this.CurrentPaginator+n).subscribe(s=>{})}toggleFilter(){this.isFilterVisible=!this.isFilterVisible}resetPaginator(){this.page=0,this.limit=10}get CurrentPaginator(){return`?Limit=${this.limit}&Page=${this.page}`}pageEvent(n){this.limit=n.pageSize,this.page=n.pageIndex,this.service.getAllSaleCredit(this.CurrentPaginator).subscribe(e=>{this.dataSource.data=e.listSaleCredit,this.objComplete=e,this.totalLength=e.total})}lowWarehouse(n){A().fire({title:"Seguro que quiere dar de baja?",text:"Recuerda que no estas eliminando permanentemente!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, dar de Baja!"}).then(e=>{e.isConfirmed&&A().fire("Baja Exitosa!","Su Almacen se dio de baja exitosamente.","success")})}}g.\u0275fac=function(n){return new(n||g)(t.Y36(o),t.Y36(C.F0),t.Y36(T.uw),t.Y36(P.$))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-collections-gestionary"]],viewQuery:function(n,e){if(1&n&&t.Gf(r.NW,5),2&n){let s;t.iGM(s=t.CRH())&&(e.paginator=s.first)}},decls:36,vars:12,consts:[[1,"contenido"],[1,"flex","items-center","justify-between","dark:bg-gray-700"],[1,"w-full","mt-4"],[1,"text-2xl","font-semibold","tracking-tight","leading-6"],[1,"font-medium","tracking-tight","text-secondary"],[1,"px-6","ml-3",3,"color","label","icon","withFull","disabled","buttonClick"],[1,"mat-elevation-z0","table-responsive","mt-8"],[1,"overflow-x-auto"],["mat-table","",1,"table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","client"],["matColumnDef","saleCreditDate"],["matColumnDef","amountCredit"],["matColumnDef","status"],["matColumnDef","sale"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","length","pageIndex","pageSize","page"],["mat-header-cell",""],["mat-cell",""],["class","py-0.4 h-6 w-22 px-1 rounded-full text-xs text-center font-semibold text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500",4,"ngIf"],["class","py-0.4 h-6 w-22 px-1 rounded-full text-xs text-center font-semibold text-orange-800 bg-orange-100 dark:text-orange-50 dark:bg-orange-500",4,"ngIf"],["class","py-0.4 h-6 w-22 px-1 rounded-full text-xs text-center font-semibold text-red-800 bg-red-100 dark:text-red-50 dark:bg-red-500",4,"ngIf"],[1,"py-0.4","h-6","w-22","px-1","rounded-full","text-xs","text-center","font-semibold","text-green-800","bg-green-100","dark:text-green-50","dark:bg-green-500"],[1,"py-0.4","h-6","w-22","px-1","rounded-full","text-xs","text-center","font-semibold","text-orange-800","bg-orange-100","dark:text-orange-50","dark:bg-orange-500"],[1,"py-0.4","h-6","w-22","px-1","rounded-full","text-xs","text-center","font-semibold","text-red-800","bg-red-100","dark:text-red-50","dark:bg-red-500"],[1,"mr-2",3,"click"],[3,"color","label","icon","withFull","disabled","buttonClick"],["mat-header-row",""],["mat-row",""]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Listado de ventas al credito"),t.qZA(),t.TgZ(5,"div",4),t._uU(6,"Modulo de gestiones para cobransas"),t.qZA()(),t.TgZ(7,"div")(8,"btn-generic",5),t.NdJ("buttonClick",function(){return e.createNew()}),t.qZA()()(),t.TgZ(9,"div",6)(10,"div",7)(11,"table",8),t.ynx(12,9),t.YNc(13,$,2,0,"th",10),t.YNc(14,I,2,1,"td",11),t.BQk(),t.ynx(15,12),t.YNc(16,k,2,0,"th",10),t.YNc(17,j,2,2,"td",11),t.BQk(),t.ynx(18,13),t.YNc(19,M,2,0,"th",10),t.YNc(20,L,3,3,"td",11),t.BQk(),t.ynx(21,14),t.YNc(22,Y,2,0,"th",10),t.YNc(23,F,3,4,"td",11),t.BQk(),t.ynx(24,15),t.YNc(25,Q,2,0,"th",10),t.YNc(26,R,4,3,"td",11),t.BQk(),t.ynx(27,16),t.YNc(28,H,2,0,"th",10),t.YNc(29,W,3,0,"td",11),t.BQk(),t.ynx(30,17),t.YNc(31,z,2,0,"th",10),t.YNc(32,K,2,5,"td",11),t.BQk(),t.YNc(33,V,1,0,"tr",18),t.YNc(34,X,1,0,"tr",19),t.qZA()(),t.TgZ(35,"mat-paginator",20),t.NdJ("page",function(p){return e.pageEvent(p)}),t.qZA()()()),2&n&&(t.xp6(8),t.Q6J("color","green")("label"," Crear Nuevo")("icon","add")("withFull",!1)("disabled",!1),t.xp6(3),t.Q6J("dataSource",e.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",e.listOptionsPage)("length",e.totalLength)("pageIndex",e.page)("pageSize",e.limit))},dependencies:[c.O5,S.Hw,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,r.NW,q.e,U.P,c.JJ,D.L],styles:[".contenido[_ngcontent-%COMP%]{width:100%;padding:20px;margin:8px;border-radius:5px;background:#fff;transition:all .3s ease-in-out;box-shadow:0 0 25px #0000001a}"]});class h{}h.\u0275fac=function(n){return new(n||h)},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-store-collections"]],decls:2,vars:0,template:function(n,e){1&n&&(t.TgZ(0,"p"),t._uU(1,"store-collections works!"),t.qZA())}});var et=l(2219),nt=l(9308),it=l(6234),ot=l(4850),lt=l(8659);function at(i,n){if(1&i&&(t.TgZ(0,"div",40)(1,"div",41)(2,"div",42)(3,"div",43),t._UZ(4,"mat-icon",44),t.qZA()(),t.TgZ(5,"div",45)(6,"div",14)(7,"div")(8,"div",46),t._uU(9),t.qZA(),t.TgZ(10,"div",47),t._uU(11),t.qZA()()()(),t.TgZ(12,"div",48)(13,"div",49),t._uU(14),t.qZA()()()()),2&i){const e=n.$implicit;t.xp6(9),t.Oqu(null==e.product?null:e.product.name),t.xp6(2),t.lnq("",null==e||null==e.unitMeasurenment?null:e.unitMeasurenment.name," x",e.amountOrigin," ------ Precio:",e.price,""),t.xp6(3),t.hij("Bs ",e.subTotal,"")}}function st(i,n){if(1&i&&(t.TgZ(0,"div",50),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij("Dinero Recivido: ",null==e.currentSale?null:e.currentSale.paymentDelivered," Bs ")}}function rt(i,n){if(1&i&&(t.TgZ(0,"div",51),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij("Saldo Pendiente: ",null==e.currentSale?null:e.currentSale.amountOfDebt," Bs")}}function ct(i,n){1&i&&(t.TgZ(0,"th",52),t._uU(1," No. "),t.qZA())}function dt(i,n){if(1&i&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function ut(i,n){1&i&&(t.TgZ(0,"th",52),t._uU(1," Fecha "),t.qZA())}function pt(i,n){if(1&i&&(t.TgZ(0,"td",53),t._uU(1),t.ALo(2,"dateFormatHours"),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.paymentDate)," ")}}function mt(i,n){1&i&&(t.TgZ(0,"th",52),t._uU(1," Monto "),t.qZA())}function gt(i,n){if(1&i&&(t.TgZ(0,"td",53),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij("Bs. ",t.xi3(2,1,e.amount,"1.2-2")," ")}}function ht(i,n){1&i&&(t.TgZ(0,"th",52),t._uU(1," Saldo "),t.qZA())}function ft(i,n){if(1&i&&(t.TgZ(0,"td",53),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij("Bs. ",t.xi3(2,1,e.balance,"1.2-2")," ")}}function Ct(i,n){1&i&&(t.TgZ(0,"th",52),t._uU(1," Acci\xf3n "),t.qZA())}function _t(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",53)(1,"mat-icon",54),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.overView(d))}),t._uU(2,"visibility"),t.qZA()()}}function vt(i,n){1&i&&t._UZ(0,"tr",55)}function xt(i,n){1&i&&t._UZ(0,"tr",56)}class _{set item1(n){this.id=n,this.setDataPettyCash()}constructor(n,e,s){this.activatedRoute=n,this.service=e,this.dialog=s,this.displayedColumns=["id","paymentDate","amount","balance","actions"],this.dataSource=[],this.currentSale=null,this.collectionsCurrent=null,this.id=parseInt(this.activatedRoute.snapshot.params.id),this.id>0&&this.setDataPettyCash()}setDataPettyCash(){this.service.getSaleCreditById(this.id).subscribe(n=>{this.collectionsCurrent=n,this.pettyCash=n,this.dataSource=n.detailPayment,this.getSaleById(n.sale.id)})}overView(){this.dialog.open(nt.y,{panelClass:"custom-container",maxHeight:"94vh",data:this.collectionsCurrent}).afterClosed().subscribe(e=>{this.setDataPettyCash()})}getSaleById(n){this.service.getById(n).subscribe(e=>{this.currentSale=e})}getReceiptByPaymentId(n){}addPayment(){this.dialog.open(et.j,{panelClass:"custom-container",maxHeight:"94vh",data:this.collectionsCurrent}).afterClosed().subscribe(e=>{e>0&&this.getReceiptByPaymentId(e),this.setDataPettyCash()})}}_.\u0275fac=function(n){return new(n||_)(t.Y36(C.gz),t.Y36(it.F),t.Y36(T.uw))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-collections-detail"]],inputs:{item1:["data","item1"]},decls:120,vars:36,consts:[[1,"base-content"],[1,"contenido"],[1,"p-3"],[1,"grid","grid-cols-1","sm:grid-cols-12","gap-6","w-full","min-w-0"],[1,"sm:col-span-12","md:col-span-12","lg:col-span-12"],[1,"flex","flex-col"],[1,"flex","items-center","justify-between"],[3,"label"],[2,"background","#1e293b","width","100%","height","1px"],[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-2","gap-6","w-full","min-w-0"],[1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"mt-2","text-3x2","font-extrabold","tracking-tight","leading-none"],[1,"m-4","grid","grid-cols-12"],[1,"col-span-6"],[1,"flex","flex-col","flex-auto"],["class","mt-2 mb-2",4,"ngFor","ngForOf"],[2,"text-align","end"],[1,"text-amount",2,"color","#000"],["class","text-amount","style","color: #34bcbd;",4,"ngIf"],["class","text-amount","style","color: #ff6000;",4,"ngIf"],[1,"col-span-3"],["alt","",2,"width","125px","height","125px",3,"src"],[1,"col-span-9"],[1,"text-3x2","font-extrabold","tracking-tight","leading-none"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-2","gap-4","w-full","mt-2","md:mt-6"],[1,"py-0.4","px-1","pt-3","pl-2","text-sm","text-start","font-semibold","text-green-800","bg-green-100","dark:text-green-50","dark:bg-green-500",2,"border-radius","6px"],[1,"text-3x1","font-extrabold","tracking-tight","leading-none",2,"font-size","30px"],[1,"py-0.4","px-1","pt-3","pl-2","text-sm","text-start","font-semibold","text-red-800","bg-red-100","dark:text-red-50","dark:bg-red-500",2,"border-radius","6px"],[3,"color","label","icon","withFull","disabled","buttonClick"],[1,"details"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","paymentDate"],["matColumnDef","amount"],["matColumnDef","balance"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mt-2","mb-2"],[1,"item-preview","mb-2","grid","grid-cols-1","sm:grid-cols-12","gap-4","w-full","h-full","min-w-0"],[1,"sm:col-span-3","lg:col-span-3"],[1,"background-white","center-items","flex","flex-col","flex-auto","text-center"],["svgIcon","heroicons_outline:shopping-bag"],[1,"sm:col-span-6","lg:col-span-6"],[1,"text-3x2","font-semibold","tracking-tight","leading-6"],[1,"font-medium","tracking-tight","text-secondary"],[1,"sm:col-span-3","lg:col-span-3","pr-3",2,"width","100% !important","text-align","end"],[1,"text-3x2","font-semibold","tracking-tight","leading-6",2,"color","#C0D222"],[1,"text-amount",2,"color","#34bcbd"],[1,"text-amount",2,"color","#ff6000"],["mat-header-cell",""],["mat-cell",""],[1,"mr-2",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t._UZ(7,"div"),t.TgZ(8,"div"),t._UZ(9,"btn-export-pdf",7),t.qZA()()()()(),t._UZ(10,"br"),t.TgZ(11,"div"),t._UZ(12,"div",8),t.TgZ(13,"div",9)(14,"div",10)(15,"div",11),t._uU(16,"Detalles de la Venta"),t.qZA(),t.TgZ(17,"div",12)(18,"div",13)(19,"div",14)(20,"p")(21,"strong"),t._uU(22,"Cod Venta:"),t.qZA(),t._uU(23),t.qZA(),t.TgZ(24,"p")(25,"strong"),t._uU(26,"Cliente:"),t.qZA(),t._uU(27),t.qZA(),t.TgZ(28,"p")(29,"strong"),t._uU(30,"Vendedor:"),t.qZA(),t._uU(31),t.qZA()()(),t.TgZ(32,"div",13)(33,"div",14)(34,"p")(35,"strong"),t._uU(36,"Fecha Venta:"),t.qZA(),t._uU(37),t.ALo(38,"dateFormatHours"),t.qZA(),t.TgZ(39,"p")(40,"strong"),t._uU(41,"Tipo Pago:"),t.qZA(),t._uU(42),t.qZA(),t.TgZ(43,"p")(44,"strong"),t._uU(45,"Monto Total:"),t.qZA(),t._uU(46),t.ALo(47,"number"),t.qZA()()()(),t._UZ(48,"div",8),t.YNc(49,at,15,5,"div",15),t._UZ(50,"div",8)(51,"mat-divider"),t.TgZ(52,"div",16)(53,"div",17),t._uU(54),t.qZA(),t.YNc(55,st,2,1,"div",18),t.YNc(56,rt,2,1,"div",19),t.qZA(),t._UZ(57,"mat-divider"),t.TgZ(58,"div",12)(59,"div",20)(60,"div",14),t._UZ(61,"img",21),t.qZA()(),t.TgZ(62,"div",22)(63,"div",14)(64,"p")(65,"strong"),t._uU(66,"Nota:"),t.qZA(),t._uU(67,"Escanea este codigo qr, para poder ver mas detalle de la venta realizada"),t.qZA()()()()(),t.TgZ(68,"div",10)(69,"div",23),t._uU(70,"Detalles de credito"),t.qZA(),t.TgZ(71,"div",12)(72,"div",13)(73,"div",14)(74,"p")(75,"strong"),t._uU(76,"Estado del Credito:"),t.qZA(),t._uU(77),t.qZA()()(),t._UZ(78,"div",13),t.qZA(),t.TgZ(79,"div",24)(80,"div",25)(81,"div",23),t._uU(82,"A Dejado Inicio:"),t.qZA(),t.TgZ(83,"div",26),t._uU(84),t.ALo(85,"number"),t.qZA()(),t.TgZ(86,"div",27)(87,"div",23),t._uU(88,"Deuda Pendiente:"),t.qZA(),t.TgZ(89,"div",26),t._uU(90),t.ALo(91,"number"),t.qZA()()(),t.TgZ(92,"div"),t._UZ(93,"br"),t.TgZ(94,"div",6)(95,"div")(96,"div",23),t._uU(97,"Pagos"),t.qZA()(),t.TgZ(98,"div")(99,"btn-actions",28),t.NdJ("buttonClick",function(){return e.addPayment()}),t.qZA()()(),t._UZ(100,"br"),t.TgZ(101,"div",29)(102,"table",30),t.ynx(103,31),t.YNc(104,ct,2,0,"th",32),t.YNc(105,dt,2,1,"td",33),t.BQk(),t.ynx(106,34),t.YNc(107,ut,2,0,"th",32),t.YNc(108,pt,3,3,"td",33),t.BQk(),t.ynx(109,35),t.YNc(110,mt,2,0,"th",32),t.YNc(111,gt,3,4,"td",33),t.BQk(),t.ynx(112,36),t.YNc(113,ht,2,0,"th",32),t.YNc(114,ft,3,4,"td",33),t.BQk(),t.ynx(115,37),t.YNc(116,Ct,2,0,"th",32),t.YNc(117,_t,3,0,"td",33),t.BQk(),t.YNc(118,vt,1,0,"tr",38),t.YNc(119,xt,1,0,"tr",39),t.qZA()()()()()()()()()),2&n&&(t.xp6(9),t.Q6J("label","Imprimir"),t.xp6(14),t.hij(" SALE - ",null==e.currentSale?null:e.currentSale.id,""),t.xp6(4),t.AsE(" ",null==e.currentSale||null==e.currentSale.client?null:e.currentSale.client.firstName," ",null==e.currentSale||null==e.currentSale.client?null:e.currentSale.client.lastName,""),t.xp6(4),t.AsE("",null==e.currentSale||null==e.currentSale.user?null:e.currentSale.user.firstName," ",null==e.currentSale||null==e.currentSale.user?null:e.currentSale.user.lastName,""),t.xp6(6),t.hij(" ",t.lcZ(38,25,null==e.currentSale?null:e.currentSale.saleDate),""),t.xp6(5),t.hij(" ",null==e.currentSale?null:e.currentSale.saleType.name," "),t.xp6(4),t.hij(" ",t.xi3(47,27,null==e.currentSale?null:e.currentSale.amountTotal,"1.2-2"),""),t.xp6(3),t.Q6J("ngForOf",null==e.currentSale?null:e.currentSale.details),t.xp6(5),t.hij("Total :",null==e.currentSale?null:e.currentSale.amountTotal," Bs"),t.xp6(1),t.Q6J("ngIf",2===(null==e.currentSale?null:e.currentSale.saleTypeId)),t.xp6(1),t.Q6J("ngIf",2===(null==e.currentSale?null:e.currentSale.saleTypeId)),t.xp6(5),t.Q6J("src","data:image/png;base64,"+(null==e.currentSale?null:e.currentSale.codeQrLink),t.LSH),t.xp6(16),t.Oqu(null==e.collectionsCurrent||null==e.collectionsCurrent.status?null:e.collectionsCurrent.status.name),t.xp6(7),t.hij(" Bs.",t.xi3(85,30,null==e.currentSale?null:e.currentSale.paymentDelivered,"1.2-2"),""),t.xp6(6),t.hij(" Bs.",t.xi3(91,33,null==e.collectionsCurrent?null:e.collectionsCurrent.amountCredit,"1.2-2"),""),t.xp6(9),t.Q6J("color","green")("label","Agregar")("icon","add")("withFull",!0)("disabled",2===(null==e.collectionsCurrent||null==e.collectionsCurrent.status?null:e.collectionsCurrent.status.id)),t.xp6(3),t.Q6J("dataSource",e.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns))},dependencies:[c.sg,c.O5,S.Hw,ot.d,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,lt.i,U.P,c.JJ,D.L],styles:[".contenido[_ngcontent-%COMP%]{padding:5px;border-radius:5px;height:100%;background:#fff;transition:all .3s ease-in-out;box-shadow:0 0 25px #0000001a}.base-content[_ngcontent-%COMP%]{padding:8px;width:100%}.text-amount[_ngcontent-%COMP%]{font-size:17px;font-weight:700}.item-preview[_ngcontent-%COMP%]{background:#f2f3f4!important;padding:5px;border-radius:10px}.center-items[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.background-white[_ngcontent-%COMP%]{background:white;border-radius:4px;height:100%}"]});const Zt=[{path:"",component:g},{path:"collections",component:g},{path:"collections/store",component:h},{path:"collections/store/:id",component:h},{path:"collections/detail/:id",component:_}];class f{}f.\u0275fac=function(n){return new(n||f)},f.\u0275mod=t.oAB({type:f}),f.\u0275inj=t.cJS({providers:[o],imports:[c.ez,Z.m,C.Bz.forChild(Zt)]})},6234:(w,x,l)=>{l.d(x,{F:()=>u});var c=l(529),C=l(9646),Z=l(2365),m=l(4650);const y={headers:new c.WM({"Access-Control-Allow-Origin":"*",Authorization:"authkey",userid:"1"})},t={headers:new c.WM({Authorization:"Bearer EAACgOY6LeWMBANPLSZAQm6ixiweWA25SzybGaUOQf6iBLUMJDtj1ByGaJej1FP1MySZBpyTZABXmngjaOl1alruVqhoMiZCAeFsDcp61Hkg6SrTucgWcSZBuozcqo7DApukjbfWDZALfC4IysDX0qn7M68cQIhK2P7kyy8RjIiDJ79Wbd3aZC3IuALOX3KPEJsMuI6mRojAni6P9xg6Bsau"})};class u extends Z.b{constructor(o){super(o)}getListSale(o){return this.http.get(`${this.baseUri}api/sale/list${o}`,this.getHttpOptions())}getListSaleAssistant(o){return this.http.get(`${this.baseUri}api/sale/list/assistant${o}`,this.getHttpOptions())}store(o){return o?.id?this.http.put(`${this.baseUri}api/product/${o.id}`,o,this.getHttpOptions()):this.http.post(`${this.baseUri}api/sale`,o,this.getHttpOptions())}saveQuotation(o){return this.http.post(`${this.baseUri}api/sale/quotation`,o,this.getHttpOptions())}getById(o){return this.http.get(`${this.baseUri}api/sale/${o}`,this.getHttpOptions())}getSaleCreditById(o){return this.http.get(`${this.baseUri}api/sale/credit/`+o)}getSaleStatus(){return(0,C.of)([{id:1,name:"Reservado"},{id:2,name:"Entregado"},{id:3,name:"Pendiente"},{id:4,name:"Con Deuda"},{id:5,name:"Finalizado"}])}lowById(o){return this.http.put(`${this.baseUri}api/product/${o}/low`,{})}sendMessageWhatsApp(o){return this.http.post("https://api.ultramsg.com/instance55483/messages/chat",{token:"im3q0x5rf48k4i8e",to:o.to,body:"HOla Como EStas",priority:10,referenceId:"",msgId:"",mentions:""},t)}getAllSaleByWarehouseAndPettyCash(o,r,a){return this.http.get(`${this.baseUri}api/sale/warehouse/${o}/petty-cash/${r}/list${a}`,this.getHttpOptions())}generateReportingPdfSaleById(o){return this.http.post("https://report.takysoft.com/api/pdf-termic",o,{responseType:"arraybuffer"})}generateReportingPdfSaleById2(){const o={headers:new c.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.get(`${this.baseUri}api/reporting/sales`,o)}generateReportingPdfSaleById3(o){const r={headers:new c.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.get(`${this.baseUri}api/reporting/sale/${o}`,r)}generateReportingPdfSaleByIdLetter(o){const r={headers:new c.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.get(`${this.baseUri}api/reporting/sale/${o}/letter`,r)}getSaleLastDay(){return this.http.get(`${this.baseUri}api/sale/last-day`,y)}savePayment(o,r){return this.http.post(`${this.baseUri}api/sale/credit/${o}`,r,this.getHttpOptions())}saveSaleReject(o){return this.http.put(`${this.baseUri}api/sale/${o}/low`,this.getHttpOptions())}getListEarning(){return this.http.get(`${this.baseUri}api/earning/list`,this.getHttpOptions())}}u.\u0275fac=function(o){return new(o||u)(m.LFG(c.eN))},u.\u0275prov=m.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}}]);