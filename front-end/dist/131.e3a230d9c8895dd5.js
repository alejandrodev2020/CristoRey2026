"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[131],{9056:(Si,Ve,b)=>{b.r(Ve),b.d(Ve,{CalendarModule:()=>be});var n=b(4650),v=b(6895),Ne=b(8811),ne=b(6713),me=b(5412),ae=b(7705),Ye=b(7376),q=b(3353),z=b(1281),rn=b(2687),I=b(7579),Se=b(727),Ei=b(4986),on=b(5963);function an(t=0,i=Ei.z){return t<0&&(t=0),(0,on.H)(t,t,i)}var ki=b(6406),se=b(9751),U=b(6451),$=b(2722),ge=b(8675),V=b(4004),le=b(5698),sn=b(8505),Ee=b(3900);function mt(t,i,e){for(let r in i)if(i.hasOwnProperty(r)){const o=i[r];o?t.setProperty(r,o,e?.has(r)?"important":""):t.removeProperty(r)}return t}function fe(t,i){const e=i?"":"none";mt(t.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function dn(t,i,e){mt(t.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},e)}function Ze(t,i){return i&&"none"!=i?t+" "+i:t}function cn(t){const i=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*i}function gt(t,i){return t.getPropertyValue(i).split(",").map(r=>r.trim())}function ft(t){const i=t.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function vt(t,i,e){const{top:r,bottom:o,left:a,right:s}=t;return e>=r&&e<=o&&i>=a&&i<=s}function ke(t,i,e){t.top+=i,t.bottom=t.top+t.height,t.left+=e,t.right=t.left+t.width}function pn(t,i,e,r){const{top:o,right:a,bottom:s,left:l,width:c,height:d}=t,h=c*i,m=d*i;return r>o-m&&r<s+m&&e>l-h&&e<a+h}b(445);class un{constructor(i){this._document=i,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:ft(e)})})}handleScroll(i){const e=(0,q.sA)(i),r=this.positions.get(e);if(!r)return null;const o=r.scrollPosition;let a,s;if(e===this._document){const d=this.getViewportScrollPosition();a=d.top,s=d.left}else a=e.scrollTop,s=e.scrollLeft;const l=o.top-a,c=o.left-s;return this.positions.forEach((d,h)=>{d.clientRect&&e!==h&&e.contains(h)&&ke(d.clientRect,l,c)}),o.top=a,o.left=s,{top:l,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function hn(t){const i=t.cloneNode(!0),e=i.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();i.removeAttribute("id");for(let o=0;o<e.length;o++)e[o].removeAttribute("id");return"canvas"===r?fn(t,i):("input"===r||"select"===r||"textarea"===r)&&gn(t,i),mn("canvas",t,i,fn),mn("input, textarea, select",t,i,gn),i}function mn(t,i,e,r){const o=i.querySelectorAll(t);if(o.length){const a=e.querySelectorAll(t);for(let s=0;s<o.length;s++)r(o[s],a[s])}}let xi=0;function gn(t,i){"file"!==i.type&&(i.value=t.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${xi++}`)}function fn(t,i){const e=i.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch{}}const vn=(0,q.i$)({passive:!0}),$e=(0,q.i$)({passive:!1}),yt=new Set(["position"]);class Oi{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){const e=(0,z.Ig)(i);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(r=>fe(r,e)))}constructor(i,e,r,o,a,s){this._config=e,this._document=r,this._ngZone=o,this._viewportRuler=a,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new I.x,this._pointerMoveSubscription=Se.w0.EMPTY,this._pointerUpSubscription=Se.w0.EMPTY,this._scrollSubscription=Se.w0.EMPTY,this._resizeSubscription=Se.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new I.x,this.started=new I.x,this.released=new I.x,this.ended=new I.x,this.entered=new I.x,this.exited=new I.x,this.dropped=new I.x,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const c=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(c.x-this._pickupPositionOnPage.x)+Math.abs(c.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const g=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),y=this._dropContainer;if(!g)return void this._endDragSequence(l);(!y||!y.isDragging()&&!y.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}l.preventDefault();const d=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(d),this._dropContainer)this._updateActiveDropContainer(d,c);else{const h=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,m=this._activeTransform;m.x=d.x-h.x+this._passiveTransform.x,m.y=d.y-h.y+this._passiveTransform.y,this._applyRootElementTransform(m.x,m.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:d,event:l,distance:this._getDragDistance(d),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(i).withParent(e.parentDragRef||null),this._parentPositions=new un(r),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(r=>(0,z.fI)(r)),this._handles.forEach(r=>fe(r,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&e.add(r)}),this._disabledHandles=e,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const e=(0,z.fI)(i);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,$e),e.addEventListener("touchstart",this._pointerDown,vn),e.addEventListener("dragstart",this._nativeDragStart,$e)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?(0,z.fI)(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),fe(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),fe(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){Me(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const r=this._rootElement,o=r.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();o.insertBefore(s,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),dn(r,!1,yt),this._document.body.appendChild(o.replaceChild(a,r)),this._getPreviewInsertionPoint(o,l).appendChild(this._preview),this.started.next({source:this,event:i}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(i,e){this._parentDragRef&&e.stopPropagation();const r=this.isDragging(),o=Me(e),a=!o&&0!==e.button,s=this._rootElement,l=(0,q.sA)(e),c=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),d=o?(0,rn.yG)(e):(0,rn.X6)(e);if(l&&l.draggable&&"mousedown"===e.type&&e.preventDefault(),r||a||c||d)return;if(this._handles.length){const f=s.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=ft(this._boundaryElement));const h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,i,e);const m=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:m.x,y:m.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(i){dn(this._rootElement,!0,yt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,r=e.getItemIndex(this),o=this._getPointerPositionOnPage(i),a=this._getDragDistance(o),s=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:a,dropPoint:o,event:i}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:a,dropPoint:o,event:i}),e.drop(this,r,this._initialIndex,this._initialContainer,s,a,o,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:e},{x:r,y:o}){let a=this._initialContainer._getSiblingContainerFromPosition(this,i,e);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,e)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,i,e,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,o),this._dropContainer._sortItem(this,i,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,e):this._applyPreviewTransform(i-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,e=this.previewClass,r=i?i.template:null;let o;if(r&&i){const a=i.matchSize?this._initialClientRect:null,s=i.viewContainer.createEmbeddedView(r,i.context);s.detectChanges(),o=_n(s,this._document),this._previewRef=s,i.matchSize?wn(o,a):o.style.transform=Ge(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=hn(this._rootElement),wn(o,this._initialClientRect),this._initialTransform&&(o.style.transform=this._initialTransform);return mt(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},yt),fe(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(a=>o.classList.add(a)):o.classList.add(e)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const e=function Mi(t){const i=getComputedStyle(t),e=gt(i,"transition-property"),r=e.find(l=>"transform"===l||"all"===l);if(!r)return 0;const o=e.indexOf(r),a=gt(i,"transition-duration"),s=gt(i,"transition-delay");return cn(a[o])+cn(s[o])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const o=s=>{(!s||(0,q.sA)(s)===this._preview&&"transform"===s.propertyName)&&(this._preview?.removeEventListener("transitionend",o),r(),clearTimeout(a))},a=setTimeout(o,1.5*e);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,e=i?i.template:null;let r;return e?(this._placeholderRef=i.viewContainer.createEmbeddedView(e,i.context),this._placeholderRef.detectChanges(),r=_n(this._placeholderRef,this._document)):r=hn(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(i,e,r){const o=e===this._rootElement?null:e,a=o?o.getBoundingClientRect():i,s=Me(r)?r.targetTouches[0]:r,l=this._getViewportScrollPosition();return{x:a.left-i.left+(s.pageX-a.left-l.left),y:a.top-i.top+(s.pageY-a.top-l.top)}}_getPointerPositionOnPage(i){const e=this._getViewportScrollPosition(),r=Me(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,o=r.pageX-e.left,a=r.pageY-e.top;if(this._ownerSVGElement){const s=this._ownerSVGElement.getScreenCTM();if(s){const l=this._ownerSVGElement.createSVGPoint();return l.x=o,l.y=a,l.matrixTransform(s.inverse())}}return{x:o,y:a}}_getConstrainedPointerPosition(i){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:o}=this.constrainPosition?this.constrainPosition(i,this,this._initialClientRect,this._pickupPositionInElement):i;if("x"===this.lockAxis||"x"===e?o=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:a,y:s}=this._pickupPositionInElement,l=this._boundaryRect,{width:c,height:d}=this._getPreviewRect(),h=l.top+s,m=l.bottom-(d-s);r=yn(r,l.left+a,l.right-(c-a)),o=yn(o,h,m)}return{x:r,y:o}}_updatePointerDirectionDelta(i){const{x:e,y:r}=i,o=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-a.x),l=Math.abs(r-a.y);return s>this._config.pointerDirectionChangeThreshold&&(o.x=e>a.x?1:-1,a.x=e),l>this._config.pointerDirectionChangeThreshold&&(o.y=r>a.y?1:-1,a.y=r),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,fe(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,$e),i.removeEventListener("touchstart",this._pointerDown,vn),i.removeEventListener("dragstart",this._nativeDragStart,$e)}_applyRootElementTransform(i,e){const r=Ge(i,e),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=Ze(r,this._initialTransform)}_applyPreviewTransform(i,e){const r=this._previewTemplate?.template?void 0:this._initialTransform,o=Ge(i,e);this._preview.style.transform=Ze(o,r)}_getDragDistance(i){const e=this._pickupPositionOnPage;return e?{x:i.x-e.x,y:i.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:e}=this._passiveTransform;if(0===i&&0===e||this.isDragging()||!this._boundaryElement)return;const r=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(0===o.width&&0===o.height||0===r.width&&0===r.height)return;const a=o.left-r.left,s=r.right-o.right,l=o.top-r.top,c=r.bottom-o.bottom;o.width>r.width?(a>0&&(i+=a),s>0&&(i-=s)):i=0,o.height>r.height?(l>0&&(e+=l),c>0&&(e-=c)):e=0,(i!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:i})}_getDragStartDelay(i){const e=this.dragStartDelay;return"number"==typeof e?e:Me(i)?e.touch:e?e.mouse:0}_updateOnScroll(i){const e=this._parentPositions.handleScroll(i);if(e){const r=(0,q.sA)(i);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&ke(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,q.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,e){const r=this._previewContainer||"global";if("parent"===r)return i;if("global"===r){const o=this._document;return e||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return(0,z.fI)(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(i){return this._handles.find(e=>i.target&&(i.target===e||e.contains(i.target)))}}function Ge(t,i){return`translate3d(${Math.round(t)}px, ${Math.round(i)}px, 0)`}function yn(t,i,e){return Math.max(i,Math.min(e,t))}function Me(t){return"t"===t.type[0]}function _n(t,i){const e=t.rootNodes;if(1===e.length&&e[0].nodeType===i.ELEMENT_NODE)return e[0];const r=i.createElement("div");return e.forEach(o=>r.appendChild(o)),r}function wn(t,i){t.style.width=`${i.width}px`,t.style.height=`${i.height}px`,t.style.transform=Ge(i.left,i.top)}function xe(t,i){return Math.max(0,Math.min(i,t))}class Ri{constructor(i,e){this._element=i,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(i){this.withItems(i)}sort(i,e,r,o){const a=this._itemPositions,s=this._getItemIndexFromPointerPosition(i,e,r,o);if(-1===s&&a.length>0)return null;const l="horizontal"===this.orientation,c=a.findIndex(w=>w.drag===i),d=a[s],m=d.clientRect,f=c>s?1:-1,g=this._getItemOffsetPx(a[c].clientRect,m,f),y=this._getSiblingOffsetPx(c,a,f),C=a.slice();return function Pi(t,i,e){const r=xe(i,t.length-1),o=xe(e,t.length-1);if(r===o)return;const a=t[r],s=o<r?-1:1;for(let l=r;l!==o;l+=s)t[l]=t[l+s];t[o]=a}(a,c,s),a.forEach((w,S)=>{if(C[S]===w)return;const k=w.drag===i,T=k?g:y,x=k?i.getPlaceholderElement():w.drag.getRootElement();w.offset+=T,l?(x.style.transform=Ze(`translate3d(${Math.round(w.offset)}px, 0, 0)`,w.initialTransform),ke(w.clientRect,0,T)):(x.style.transform=Ze(`translate3d(0, ${Math.round(w.offset)}px, 0)`,w.initialTransform),ke(w.clientRect,T,0))}),this._previousSwap.overlaps=vt(m,e,r),this._previousSwap.drag=d.drag,this._previousSwap.delta=l?o.x:o.y,{previousIndex:c,currentIndex:s}}enter(i,e,r,o){const a=null==o||o<0?this._getItemIndexFromPointerPosition(i,e,r):o,s=this._activeDraggables,l=s.indexOf(i),c=i.getPlaceholderElement();let d=s[a];if(d===i&&(d=s[a+1]),!d&&(null==a||-1===a||a<s.length-1)&&this._shouldEnterAsFirstChild(e,r)&&(d=s[0]),l>-1&&s.splice(l,1),d&&!this._dragDropRegistry.isDragging(d)){const h=d.getRootElement();h.parentElement.insertBefore(c,h),s.splice(a,0,i)}else(0,z.fI)(this._element).appendChild(c),s.push(i);c.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables.forEach(i=>{const e=i.getRootElement();if(e){const r=this._itemPositions.find(o=>o.drag===i)?.initialTransform;e.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===i)}updateOnScroll(i,e){this._itemPositions.forEach(({clientRect:r})=>{ke(r,i,e)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}_cacheItemPositions(){const i="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const r=e.getVisibleElement();return{drag:e,offset:0,initialTransform:r.style.transform||"",clientRect:ft(r)}}).sort((e,r)=>i?e.clientRect.left-r.clientRect.left:e.clientRect.top-r.clientRect.top)}_getItemOffsetPx(i,e,r){const o="horizontal"===this.orientation;let a=o?e.left-i.left:e.top-i.top;return-1===r&&(a+=o?e.width-i.width:e.height-i.height),a}_getSiblingOffsetPx(i,e,r){const o="horizontal"===this.orientation,a=e[i].clientRect,s=e[i+-1*r];let l=a[o?"width":"height"]*r;if(s){const c=o?"left":"top",d=o?"right":"bottom";-1===r?l-=s.clientRect[c]-a[d]:l+=a[c]-s.clientRect[d]}return l}_shouldEnterAsFirstChild(i,e){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,o="horizontal"===this.orientation;if(r[0].drag!==this._activeDraggables[0]){const s=r[r.length-1].clientRect;return o?i>=s.right:e>=s.bottom}{const s=r[0].clientRect;return o?i<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(i,e,r,o){const a="horizontal"===this.orientation,s=this._itemPositions.findIndex(({drag:l,clientRect:c})=>l!==i&&((!o||l!==this._previousSwap.drag||!this._previousSwap.overlaps||(a?o.x:o.y)!==this._previousSwap.delta)&&(a?e>=Math.floor(c.left)&&e<Math.floor(c.right):r>=Math.floor(c.top)&&r<Math.floor(c.bottom))));return-1!==s&&this._sortPredicate(s,i)?s:-1}}class Ai{constructor(i,e,r,o,a){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new I.x,this.entered=new I.x,this.exited=new I.x,this.dropped=new I.x,this.sorted=new I.x,this.receivingStarted=new I.x,this.receivingStopped=new I.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Se.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new I.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),an(0,ki.Z).pipe((0,$.R)(this._stopScrollTimers)).subscribe(()=>{const s=this._scrollNode,l=this.autoScrollStep;1===this._verticalScrollDirection?s.scrollBy(0,-l):2===this._verticalScrollDirection&&s.scrollBy(0,l),1===this._horizontalScrollDirection?s.scrollBy(-l,0):2===this._horizontalScrollDirection&&s.scrollBy(l,0)})},this.element=(0,z.fI)(i),this._document=r,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new un(r),this._sortStrategy=new Ri(this.element,e),this._sortStrategy.withSortPredicate((s,l)=>this.sortPredicate(s,l,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,e,r,o){this._draggingStarted(),null==o&&this.sortingDisabled&&(o=this._draggables.indexOf(i)),this._sortStrategy.enter(i,e,r,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,e,r,o,a,s,l,c={}){this._reset(),this.dropped.next({item:i,currentIndex:e,previousIndex:r,container:this,previousContainer:o,isPointerOverContainer:a,distance:s,dropPoint:l,event:c})}withItems(i){const e=this._draggables;return this._draggables=i,i.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(e.filter(o=>o.isDragging()).every(o=>-1===i.indexOf(o))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._sortStrategy.direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._sortStrategy.orientation=i,this}withScrollableParents(i){const e=(0,z.fI)(this.element);return this._scrollableElements=-1===i.indexOf(e)?[e,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,e,r,o){if(this.sortingDisabled||!this._clientRect||!pn(this._clientRect,.05,e,r))return;const a=this._sortStrategy.sort(i,e,r,o);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,e){if(this.autoScrollDisabled)return;let r,o=0,a=0;if(this._parentPositions.positions.forEach((s,l)=>{l===this._document||!s.clientRect||r||pn(s.clientRect,.05,i,e)&&([o,a]=function Hi(t,i,e,r){const o=Tn(i,r),a=bn(i,e);let s=0,l=0;if(o){const c=t.scrollTop;1===o?c>0&&(s=1):t.scrollHeight-c>t.clientHeight&&(s=2)}if(a){const c=t.scrollLeft;1===a?c>0&&(l=1):t.scrollWidth-c>t.clientWidth&&(l=2)}return[s,l]}(l,s.clientRect,i,e),(o||a)&&(r=l))}),!o&&!a){const{width:s,height:l}=this._viewportRuler.getViewportSize(),c={width:s,height:l,top:0,right:s,bottom:l,left:0};o=Tn(c,e),a=bn(c,i),r=window}r&&(o!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=a,this._scrollNode=r,(o||a)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=(0,z.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=(0,z.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(i).clientRect}_reset(){this._isDragging=!1;const i=(0,z.fI)(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(i,e){return null!=this._clientRect&&vt(this._clientRect,i,e)}_getSiblingContainerFromPosition(i,e,r){return this._siblings.find(o=>o._canReceive(i,e,r))}_canReceive(i,e,r){if(!this._clientRect||!vt(this._clientRect,e,r)||!this.enterPredicate(i,this))return!1;const o=this._getShadowRoot().elementFromPoint(e,r);if(!o)return!1;const a=(0,z.fI)(this.element);return o===a||a.contains(o)}_startReceiving(i,e){const r=this._activeSiblings;!r.has(i)&&e.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(r.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:e}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(i);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=(0,q.kV)((0,z.fI)(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,i))}}function Tn(t,i){const{top:e,bottom:r,height:o}=t,a=.05*o;return i>=e-a&&i<=e+a?1:i>=r-a&&i<=r+a?2:0}function bn(t,i){const{left:e,right:r,width:o}=t,a=.05*o;return i>=e-a&&i<=e+a?1:i>=r-a&&i<=r+a?2:0}const Ue=(0,q.i$)({passive:!1,capture:!0});let Bi=(()=>{class t{constructor(e,r){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new I.x,this.pointerUp=new I.x,this.scroll=new I.x,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=r}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ue)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ue)}startDragging(e,r){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const o=r.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ue}),o||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:Ue}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,s)=>{this._document.addEventListener(s,a.handler,a.options)})})}}stopDragging(e){const r=this._activeDragInstances.indexOf(e);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const r=[this.scroll];return e&&e!==this._document&&r.push(new se.y(o=>this._ngZone.runOutsideAngular(()=>{const s=l=>{this._activeDragInstances.length&&o.next(l)};return e.addEventListener("scroll",s,!0),()=>{e.removeEventListener("scroll",s,!0)}}))),(0,U.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,r)=>{this._document.removeEventListener(r,e.handler,e.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(n.R0b),n.LFG(v.K0))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Li={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let _t=(()=>{class t{constructor(e,r,o,a){this._document=e,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=a}createDrag(e,r=Li){return new Oi(e,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Ai(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(v.K0),n.LFG(n.R0b),n.LFG(Ye.rL),n.LFG(Bi))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Gi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[_t],imports:[Ye.ZD]}),t})();var je=function(){return je=Object.assign||function(i){for(var e,r=1,o=arguments.length;r<o;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a]);return i},je.apply(this,arguments)};function u(t,i,e,r){var s,o=arguments.length,a=o<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,i,e,r);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(a=(o<3?s(a):o>3?s(i,e,a):s(i,e))||a);return o>3&&a&&Object.defineProperty(i,e,a),a}function ve(t,i){return function(e,r){i(e,r,t)}}function p(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)}var Ji=function(){function t(){}return t.prototype.getAllStyles=function(i){return window.getComputedStyle(i)},t.prototype.getStyle=function(i,e){return this.getAllStyles(i)[e]},t.prototype.isStaticPositioned=function(i){return"static"===(this.getStyle(i,"position")||"static")},t.prototype.offsetParent=function(i){for(var e=i.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(i,e){void 0===e&&(e=!0);var r,o={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(i,"position"))r={top:(r=i.getBoundingClientRect()).top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{var a=this.offsetParent(i);r=this.offset(i,!1),a!==document.documentElement&&(o=this.offset(a,!1)),o.top+=a.clientTop,o.left+=a.clientLeft}return r.top-=o.top,r.bottom-=o.top,r.left-=o.left,r.right-=o.left,e&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r},t.prototype.offset=function(i,e){void 0===e&&(e=!0);var r=i.getBoundingClientRect(),o_top=window.pageYOffset-document.documentElement.clientTop,o_left=window.pageXOffset-document.documentElement.clientLeft,a={height:r.height||i.offsetHeight,width:r.width||i.offsetWidth,top:r.top+o_top,bottom:r.bottom+o_top,left:r.left+o_left,right:r.right+o_left};return e&&(a.height=Math.round(a.height),a.width=Math.round(a.width),a.top=Math.round(a.top),a.bottom=Math.round(a.bottom),a.left=Math.round(a.left),a.right=Math.round(a.right)),a},t.prototype.positionElements=function(i,e,r,o){var a=r.split("-"),s=a[0],l=void 0===s?"top":s,c=a[1],d=void 0===c?"center":c,h=o?this.offset(i,!1):this.position(i,!1),m=this.getAllStyles(e),f=parseFloat(m.marginTop),g=parseFloat(m.marginBottom),y=parseFloat(m.marginLeft),C=parseFloat(m.marginRight),w=0,S=0;switch(l){case"top":w=h.top-(e.offsetHeight+f+g);break;case"bottom":w=h.top+h.height;break;case"left":S=h.left-(e.offsetWidth+y+C);break;case"right":S=h.left+h.width}switch(d){case"top":w=h.top;break;case"bottom":w=h.top+h.height-e.offsetHeight;break;case"left":S=h.left;break;case"right":S=h.left+h.width-e.offsetWidth;break;case"center":"top"===l||"bottom"===l?S=h.left+h.width/2-e.offsetWidth/2:w=h.top+h.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(S)+"px, "+Math.round(w)+"px)";var k=e.getBoundingClientRect(),T=document.documentElement,x=window.innerHeight||T.clientHeight,R=window.innerWidth||T.clientWidth;return k.left>=0&&k.top>=0&&k.right<=R&&k.bottom<=x},t}(),Ki=/\s+/,In=new Ji,Qi=b(9646),qi=b(1135),er=b(576),j=function(){return j=Object.assign||function(t){for(var i,e=1,r=arguments.length;e<r;e++)for(var o in i=arguments[e])Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);return t},j.apply(this,arguments)},On=function(){for(var t=0,i=0,e=arguments.length;i<e;i++)t+=arguments[i].length;var r=Array(t),o=0;for(i=0;i<e;i++)for(var a=arguments[i],s=0,l=a.length;s<l;s++,o++)r[o]=a[s];return r},Ie=(()=>{return(t=Ie||(Ie={}))[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY",Ie;var t})(),nr=[Ie.SUNDAY,Ie.SATURDAY],ie=86400;function Pn(t,i){var e=i.startDate,o=i.excluded,a=i.precision;if(o.length<1)return 0;for(var l=t.getDay,c=t.addDays,d=(0,t.addSeconds)(e,i.seconds-1),h=l(e),m=l(d),f=0,g=e,y=function(){var C=l(g);o.some(function(w){return w===C})&&(f+=function ir(t,i){var r=i.day,a=i.dayEnd,s=i.startDate,l=i.endDate,c=t.differenceInSeconds,h=t.startOfDay;if("minutes"===i.precision){if(r===i.dayStart)return c((0,t.endOfDay)(s),s)+1;if(r===a)return c(l,h(l))+1}return ie}(t,{dayStart:h,dayEnd:m,day:C,precision:a,startDate:e,endDate:d})),g=c(g,1)};g<d;)y();return f}function Oe(t,i){var r=i.periodStart,o=i.periodEnd;return i.events.filter(function(a){return function ar(t,i){var e=i.event,r=i.periodStart,o=i.periodEnd,a=t.isSameSecond,s=e.start,l=e.end||e.start;return!!(s>r&&s<o||l>r&&l<o||s<r&&l>o||a(s,r)||a(s,o)||a(l,r)||a(l,o))}(t,{event:a,periodStart:r,periodEnd:o})})}function Rn(t,i){var e=i.date,r=i.weekendDays,o=void 0===r?nr:r,s=t.isSameDay,l=t.getDay,c=(0,t.startOfDay)(new Date),d=l(e);return{date:e,day:d,isPast:e<c,isToday:s(e,c),isFuture:e>c,isWeekend:o.indexOf(d)>-1}}function Et(t,i){for(var o=i.excluded,a=void 0===o?[]:o,s=i.weekendDays,l=i.viewStart,c=void 0===l?t.startOfWeek(i.viewDate,{weekStartsOn:i.weekStartsOn}):l,d=i.viewEnd,h=void 0===d?t.addDays(c,7):d,m=t.addDays,f=t.getDay,g=[],y=c;y<h;)a.some(function(C){return f(y)===C})||g.push(Rn(t,{date:y,weekendDays:s})),y=m(y,1);return g}function lr(t,i){var e=i.events,r=void 0===e?[]:e,o=i.excluded,a=void 0===o?[]:o,s=i.precision,l=void 0===s?"days":s,c=i.absolutePositionedEvents,d=void 0!==c&&c,h=i.viewStart,m=i.viewEnd;h=t.startOfDay(h),m=t.endOfDay(m);var f=t.differenceInSeconds,g=t.differenceInDays,y=function sr(t,i){for(var r=i.date2,o=i.excluded,a=i.date1,s=0;a<r;)-1===o.indexOf(t.getDay(a))&&s++,a=t.addDays(a,1);return s}(t,{date1:h,date2:m,excluded:a}),C=g(m,h)+1,w=r.filter(function(T){return T.allDay}).map(function(T){var x=function or(t,i){var e=i.event,r=i.startOfWeek,o=i.excluded,a=i.precision,s=t.differenceInDays,l=t.startOfDay,c=t.differenceInSeconds;if(e.start<r)return 0;var d=0;switch(a){case"days":d=s(l(e.start),r)*ie;break;case"minutes":d=c(e.start,r)}return d-=Pn(t,{startDate:r,seconds:d,excluded:o,precision:a}),Math.abs(d/ie)}(t,{event:T,startOfWeek:h,excluded:a,precision:l}),R=function rr(t,i){var e=i.event,r=i.offset,a=i.excluded,s=i.precision,l=i.totalDaysInView,d=t.differenceInSeconds,h=t.addDays,m=t.endOfDay,f=t.differenceInDays,g=ie,y=(0,t.max)([e.start,i.startOfWeekDate]);e.end&&(g="minutes"===s?d(e.end,y):f(h(m(e.end),1),y)*ie);var C=r*ie,S=l*ie;return C+g>S&&(g=S-C),(g-=Pn(t,{startDate:y,seconds:g,excluded:a,precision:s}))/ie}(t,{event:T,offset:x,startOfWeekDate:h,excluded:a,precision:l,totalDaysInView:C});return{event:T,offset:x,span:R}}).filter(function(T){return T.offset<y}).filter(function(T){return T.span>0}).map(function(T){return{event:T.event,offset:T.offset,span:T.span,startsBeforeWeek:T.event.start<h,endsAfterWeek:(T.event.end||T.event.start)>m}}).sort(function(T,x){var R=f(T.event.start,x.event.start);return 0===R?f(x.event.end||x.event.start,T.event.end||T.event.start):R}),S=[],k=[];return w.forEach(function(T,x){if(-1===k.indexOf(T)){k.push(T);var R=T.span+T.offset,W=w.slice(x+1).filter(function(O){if(O.offset>=R&&R+O.span<=C&&-1===k.indexOf(O)){var M=O.offset-R;return d||(O.offset=M),R+=O.span+M,k.push(O),!0}}),F=On([T],W),A=F.filter(function(O){return O.event.id}).map(function(O){return O.event.id}).join("-");S.push(j({row:F},A?{id:A}:{}))}}),S}function dr(t,i){var e=i.events,r=i.viewDate,o=i.hourSegments,a=i.hourDuration,s=i.dayStart,l=i.dayEnd,c=i.weekStartsOn,d=i.excluded,h=i.weekendDays,m=i.segmentHeight,f=i.viewStart,g=i.viewEnd,y=i.minimumEventHeight,C=function hr(t,i){var e=i.viewDate,r=i.hourSegments,o=i.hourDuration,a=i.dayStart,s=i.dayEnd,l=t.setMinutes,c=t.setHours,d=t.startOfDay,h=t.startOfMinute,m=t.endOfDay,f=t.addMinutes,y=t.addDays,C=[],w=l(c(d(e),Qe(a.hour)),qe(a.minute)),S=l(c(h(m(e)),Qe(s.hour)),qe(s.minute)),k=(o||60)/r,T=d(e),x=m(e),R=function(D){return D};T.getTimezoneOffset()!==x.getTimezoneOffset()&&(T=y(T,1),w=y(w,1),S=y(S,1),R=function(D){return y(D,-1)});for(var W=o?1440/o:60,F=0;F<W;F++){for(var A=[],O=0;O<r;O++){var M=f(f(w,F*(o||60)),O*k);M>=w&&M<S&&A.push({date:R(M),displayDate:M,isStart:0===O})}A.length>0&&C.push({segments:A})}return C}(t,{viewDate:r,hourSegments:o,hourDuration:a,dayStart:s,dayEnd:l}),w=Et(t,{viewDate:r,weekStartsOn:c,excluded:d,weekendDays:h,viewStart:f,viewEnd:g}),S=t.setHours,k=t.setMinutes,T=t.getHours,x=t.getMinutes;return w.map(function(R){var W=function ur(t,i){var e=i.events,r=i.viewDate,o=i.hourSegments,a=i.dayStart,s=i.dayEnd,l=i.eventWidth,c=i.segmentHeight,d=i.hourDuration,h=i.minimumEventHeight,m=t.setMinutes,f=t.setHours,g=t.startOfDay,y=t.startOfMinute,C=t.endOfDay,w=t.differenceInMinutes,S=m(f(g(r),Qe(a.hour)),qe(a.minute)),k=m(f(y(C(r)),Qe(s.hour)),qe(s.minute));k.setSeconds(59,999);var T=[],x=Oe(t,{events:e.filter(function(A){return!A.allDay}),periodStart:S,periodEnd:k}),R=x.sort(function(A,O){return A.start.valueOf()-O.start.valueOf()}).map(function(A){var O=A.start,M=A.end||O,D=O<S,_=M>k,L=o*c/(d||60),H=0;if(O>S){var ut=O.getTimezoneOffset(),qt=S.getTimezoneOffset()-ut;H+=w(O,S)+qt}H*=L,H=Math.floor(H);var Fe=D?S:O,en=_?k:M,Z=Fe.getTimezoneOffset()-en.getTimezoneOffset(),G=w(en,Fe)+Z;A.end?G*=L:G=c,h&&G<h&&(G=h),G=Math.floor(G);for(var tn=Xe(T,H,H+G),nn=0;tn.some(function(Ls){return Ls.left===nn});)nn+=l;var bi={event:A,height:G,width:l,top:H,left:nn,startsBeforeDay:D,endsAfterDay:_};return T.push(bi),bi}),W=Math.max.apply(Math,R.map(function(A){return A.left+A.width})),F=Oe(t,{events:e.filter(function(A){return A.allDay}),periodStart:g(S),periodEnd:C(k)});return{events:R,width:W,allDayEvents:F,period:{events:x,start:S,end:k}}}(t,{events:e,viewDate:R.date,hourSegments:o,dayStart:s,dayEnd:l,segmentHeight:m,eventWidth:1,hourDuration:a,minimumEventHeight:y}),F=C.map(function(M){var D=M.segments.map(function(_){var L=k(S(R.date,T(_.date)),x(_.date));return j(j({},_),{date:L})});return j(j({},M),{segments:D})});function A(M,D){var _=Math.max.apply(Math,D.map(function(H){return H.left+1})),L=M.filter(function(H){return H.left>=_}).filter(function(H){return Xe(D,H.top,H.top+H.height).length>0});return L.length>0?A(M,L):_}var O=W.events.map(function(M){var _=100/A(W.events,Xe(W.events,M.top,M.top+M.height));return j(j({},M),{left:M.left*_,width:_})});return{hours:F,date:R.date,events:O.map(function(M){var D=Xe(O.filter(function(_){return _.left>M.left}),M.top,M.top+M.height);return D.length>0?j(j({},M),{width:Math.min.apply(Math,D.map(function(_){return _.left}))-M.left}):M})}})}function Xe(t,i,e){return t.filter(function(r){var o=r.top,a=r.top+r.height;return i<a&&a<e||i<o&&o<e||o<=i&&e<=a})}function Qe(t){return Math.max(Math.min(23,t),0)}function qe(t){return Math.max(Math.min(59,t),0)}var re=(()=>{return(t=re||(re={})).NotArray="Events must be an array",t.StartPropertyMissing="Event is missing the `start` property",t.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",t.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",t.EndsBeforeStart="Event `start` property occurs after the `end`",re;var t})(),gr=b(4707),fr=b(9841),kt=b(4968);function Mt(t,i){return t=function vr(t,i){return typeof t>"u"?typeof i>"u"?t:i:t}(t,i),"function"==typeof t?function(){for(var r=arguments,o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=r[s];return!!t.apply(this,a)}:t?function(){return!0}:function(){return!1}}var xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},An=function(t){return null!=t&&"object"===(typeof t>"u"?"undefined":xt(t))&&1===t.nodeType&&"object"===xt(t.style)&&"object"===xt(t.ownerDocument)};function Hn(t,i){if(i=Ot(i,!0),!An(i))return-1;for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1}function It(t,i){return-1!==Hn(t,i)}function yr(t,i){for(var e=0;e<i.length;e++)It(t,i[e])||t.push(i[e]);return i}function _r(t){for(var i=arguments,e=[],r=arguments.length-1;r-- >0;)e[r]=i[r+1];return yr(t,e=e.map(Ot))}function wr(t){for(var i=arguments,e=[],r=arguments.length-1;r-- >0;)e[r]=i[r+1];return e.map(Ot).reduce(function(o,a){var s=Hn(t,a);return-1!==s?o.concat(t.splice(s,1)):o},[])}function Ot(t,i){if("string"==typeof t)try{return document.querySelector(t)}catch(e){throw e}if(!An(t)&&!i)throw new TypeError(t+" is not a DOM element.");return t}function Bn(t){if(t===window)return function Cr(){var t={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},t);var i={};return Object.defineProperties(i,t),i}();try{var i=t.getBoundingClientRect();return void 0===i.x&&(i.x=i.left,i.y=i.top),i}catch{throw new TypeError("Can't call getBoundingClientRect on "+t)}}var i,Pt=void 0;"function"!=typeof Object.create?(i=function(){},Pt=function(e,r){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");i.prototype=e||{};var o=new i;return i.prototype=null,void 0!==r&&Object.defineProperties(o,r),null===e&&(o.__proto__=null),o}):Pt=Object.create;var br=Pt,de=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Rt(t,i){i=i||{};for(var e=br(t),r=0;r<de.length;r++)void 0!==i[de[r]]&&(e[de[r]]=i[de[r]]);return e}function At(t,i){console.log("data ",i),t.data=i||{},t.dispatched="mousemove"}var Pe=["webkit","moz","ms","o"],Re=function(){if(typeof window>"u")return function(){};for(var t=0,i=Pe.length;t<i&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[Pe[t]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(r){var o=(new Date).getTime(),a=Math.max(0,16-o-e),s=window.setTimeout(function(){return r(o+a)},a);return e=o+a,s}}return window.requestAnimationFrame.bind(window)}(),ye=function(){if(typeof window>"u")return function(){};for(var t=0,i=Pe.length;t<i&&!window.cancelAnimationFrame;++t)window.cancelAnimationFrame=window[Pe[t]+"CancelAnimationFrame"]||window[Pe[t]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function Er(t,i){void 0===i&&(i={});var e=this,r=4,o=!1;if("object"!=typeof i.margin){var a=i.margin||-1;this.margin={left:a,right:a,top:a,bottom:a}}else this.margin=i.margin;this.scrollWhenOutside=i.scrollWhenOutside||!1;var s={},l=function Dr(t,i){var e=Mt((i=i||{}).allowUpdate,!0);return function(o){if(o=o||window.event,t.target=o.target||o.srcElement||o.originalTarget,t.element=this,t.type=o.type,e(o)){if(o.targetTouches)t.x=o.targetTouches[0].clientX,t.y=o.targetTouches[0].clientY,t.pageX=o.targetTouches[0].pageX,t.pageY=o.targetTouches[0].pageY,t.screenX=o.targetTouches[0].screenX,t.screenY=o.targetTouches[0].screenY;else{if(null===o.pageX&&null!==o.clientX){var a=o.target&&o.target.ownerDocument||document,s=a.documentElement,l=a.body;t.pageX=o.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),t.pageY=o.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}else t.pageX=o.pageX,t.pageY=o.pageY;t.x=o.clientX,t.y=o.clientY,t.screenX=o.screenX,t.screenY=o.screenY}t.clientX=t.x,t.clientY=t.y}}}(s),c=function Sr(t){var i={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function e(a){for(var s=0;s<de.length;s++)i[de[s]]=a[de[s]]}return void 0!==t&&t.addEventListener("mousemove",e),{destroy:function o(){t&&t.removeEventListener("mousemove",e,!1),i=null},dispatch:MouseEvent?function(s,l,c){var d=new MouseEvent("mousemove",Rt(i,l));return At(d,c),s.dispatchEvent(d)}:"function"==typeof document.createEvent?function(s,l,c){var d=Rt(i,l),h=document.createEvent("MouseEvents");return h.initMouseEvent("mousemove",!0,!0,window,0,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),At(h,c),s.dispatchEvent(h)}:"function"==typeof document.createEventObject?function(s,l,c){var d=document.createEventObject(),h=Rt(i,l);for(var m in h)d[m]=h[m];return At(d,c),s.dispatchEvent(d)}:void 0}}(),d=!1;window.addEventListener("mousemove",l,!1),window.addEventListener("touchmove",l,!1),isNaN(i.maxSpeed)||(r=i.maxSpeed),"object"!=typeof r&&(r={left:r,right:r,top:r,bottom:r}),this.autoScroll=Mt(i.autoScroll),this.syncMove=Mt(i.syncMove,!1),this.destroy=function(D){window.removeEventListener("mousemove",l,!1),window.removeEventListener("touchmove",l,!1),window.removeEventListener("mousedown",C,!1),window.removeEventListener("touchstart",C,!1),window.removeEventListener("mouseup",w,!1),window.removeEventListener("touchend",w,!1),window.removeEventListener("pointerup",w,!1),window.removeEventListener("mouseleave",k,!1),window.removeEventListener("mousemove",R,!1),window.removeEventListener("touchmove",R,!1),window.removeEventListener("scroll",y,!0),t=[],D&&S()},this.add=function(){for(var D=[],_=arguments.length;_--;)D[_]=arguments[_];return _r.apply(void 0,[t].concat(D)),this},this.remove=function(){for(var D=[],_=arguments.length;_--;)D[_]=arguments[_];return wr.apply(void 0,[t].concat(D))};var m,D,h=null;"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),D=t,t=[],D.forEach(function(_){_===window?h=window:e.add(_)}),Object.defineProperties(this,{down:{get:function(){return d}},maxSpeed:{get:function(){return r}},point:{get:function(){return s}},scrolling:{get:function(){return o}}});var g,f=null;function y(D){for(var _=0;_<t.length;_++)if(t[_]===D.target){o=!0;break}o&&Re(function(){return o=!1})}function C(){d=!0}function w(){d=!1,S()}function S(){ye(g),ye(m)}function k(){d=!1}function x(){for(var D=null,_=0;_<t.length;_++)Ln(s,t[_])&&(D=t[_]);return D}function R(D){if(e.autoScroll()&&!D.dispatched){var _=D.target,L=document.body;f&&!Ln(s,f)&&(e.scrollWhenOutside||(f=null)),_&&_.parentNode===L?_=x():(_=function T(D){if(!D)return null;if(f===D||It(t,D))return D;for(;D=D.parentNode;)if(It(t,D))return D;return null}(_),_||(_=x())),_&&_!==f&&(f=_),h&&(ye(m),m=Re(W)),f&&(ye(g),g=Re(F))}}function W(){A(h),ye(m),m=Re(W)}function F(){f&&(A(f),ye(g),g=Re(F))}function A(D){var L,H,_=Bn(D);L=s.x<_.left+e.margin.left?Math.floor(Math.max(-1,(s.x-_.left)/e.margin.left-1)*e.maxSpeed.left):s.x>_.right-e.margin.right?Math.ceil(Math.min(1,(s.x-_.right)/e.margin.right+1)*e.maxSpeed.right):0,H=s.y<_.top+e.margin.top?Math.floor(Math.max(-1,(s.y-_.top)/e.margin.top-1)*e.maxSpeed.top):s.y>_.bottom-e.margin.bottom?Math.ceil(Math.min(1,(s.y-_.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):0,e.syncMove()&&c.dispatch(D,{pageX:s.pageX+L,pageY:s.pageY+H,clientX:s.x+L,clientY:s.y+H}),setTimeout(function(){H&&function O(D,_){D===window?window.scrollTo(D.pageXOffset,D.pageYOffset+_):D.scrollTop+=_}(D,H),L&&function M(D,_){D===window?window.scrollTo(D.pageXOffset+_,D.pageYOffset):D.scrollLeft+=_}(D,L)})}window.addEventListener("mousedown",C,!1),window.addEventListener("touchstart",C,!1),window.addEventListener("mouseup",w,!1),window.addEventListener("touchend",w,!1),window.addEventListener("pointerup",w,!1),window.addEventListener("mousemove",R,!1),window.addEventListener("touchmove",R,!1),window.addEventListener("mouseleave",k,!1),window.addEventListener("scroll",y,!0)}function Ln(t,i,e){return e?t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right:function Tr(t,i){var e=Bn(i);return t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right}(t,i)}var J=b(9300),Ht=b(5577),ee=b(3099),xr=b(2035),Ir=b(7359),Or=b(4482);var Bt=b(1520),Ar=b(1884);class X{constructor(){this.currentDrag=new I.x}}X.\u0275fac=function(i){return new(i||X)},X.\u0275prov=n.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X.ngInjectableDef=(0,n.Ez6)({factory:function(){return new X},token:X,providedIn:"root"});let zn=(()=>{class t{constructor(e){this.elementRef=e,this.activeLongPressDrag=!1,this.longPressConfig={duration:300,delta:30}}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlDraggableScrollContainer",""]],inputs:{activeLongPressDrag:"activeLongPressDrag",longPressConfig:"longPressConfig"}}),t})();function Lt(t,i,e){e&&e.split(" ").forEach(r=>t.addClass(i.nativeElement,r))}function et(t,i,e){e&&e.split(" ").forEach(r=>t.removeClass(i.nativeElement,r))}let zt=(()=>{class t{constructor(e,r,o,a,s,l,c){this.element=e,this.renderer=r,this.draggableHelper=o,this.zone=a,this.vcr=s,this.scrollContainer=l,this.document=c,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new n.vpe,this.dragStart=new n.vpe,this.ghostElementCreated=new n.vpe,this.dragging=new n.vpe,this.dragEnd=new n.vpe,this.pointerDown$=new I.x,this.pointerMove$=new I.x,this.pointerUp$=new I.x,this.eventListenerSubscriptions={},this.destroy$=new I.x,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe((0,J.h)(()=>this.canDrag()),(0,Ht.z)(r=>{r.event.stopPropagation&&!this.scrollContainer&&r.event.stopPropagation();const o=this.renderer.createElement("style");this.renderer.setAttribute(o,"type","text/css"),this.renderer.appendChild(o,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(o)});const a=this.getScrollPosition(),s=new se.y(g=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",C=>g.next(C))).pipe((0,ge.O)(a),(0,V.U)(()=>this.getScrollPosition())),l=new I.x,c=new gr.t;this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const d=(0,U.T)(this.pointerUp$,this.pointerDown$,c,this.destroy$).pipe((0,ee.B)()),h=(0,fr.a)([this.pointerMove$,s]).pipe((0,V.U)(([g,y])=>({currentDrag$:l,transformX:g.clientX-r.clientX,transformY:g.clientY-r.clientY,clientX:g.clientX,clientY:g.clientY,scrollLeft:y.left,scrollTop:y.top,target:g.event.target})),(0,V.U)(g=>(this.dragSnapGrid.x&&(g.transformX=Math.round(g.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(g.transformY=Math.round(g.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),g)),(0,V.U)(g=>(this.dragAxis.x||(g.transformX=0),this.dragAxis.y||(g.transformY=0),g)),(0,V.U)(g=>Object.assign({},g,{x:g.transformX+(g.scrollLeft-a.left),y:g.transformY+(g.scrollTop-a.top)})),(0,J.h)(({x:g,y,transformX:C,transformY:w})=>!this.validateDrag||this.validateDrag({x:g,y,transform:{x:C,y:w}})),(0,$.R)(d),(0,ee.B)()),m=h.pipe((0,le.q)(1),(0,ee.B)()),f=h.pipe((0,xr.h)(1),(0,ee.B)());return m.subscribe(({clientX:g,clientY:y,x:C,y:w})=>{if(this.zone.run(()=>{this.dragStart.next({cancelDrag$:c})}),this.scroller=function kr(t,i){return new Er(t,i)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign({},this.autoScroll,{autoScroll:()=>!0})),Lt(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const S=this.element.nativeElement.getBoundingClientRect(),k=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(k):this.element.nativeElement.parentNode.insertBefore(k,this.element.nativeElement.nextSibling),this.ghostElement=k,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(k,{position:"fixed",top:`${S.top}px`,left:`${S.left}px`,width:`${S.width}px`,height:`${S.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const T=this.vcr.createEmbeddedView(this.ghostElementTemplate);k.innerHTML="",T.rootNodes.filter(x=>x instanceof Node).forEach(x=>{k.appendChild(x)}),f.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(T))})}this.zone.run(()=>{this.ghostElementCreated.emit({clientX:g-C,clientY:y-w,element:k})}),f.subscribe(()=>{k.parentElement.removeChild(k),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(l)}),f.pipe((0,Ht.z)(g=>{const y=c.pipe(function Rr(t){return function Pr(t,i){return(0,Or.e)((0,Ir.U)(t,i,arguments.length>=2,!1,!0))}((i,e,r)=>!t||t(e,r)?i+1:i,0)}(),(0,le.q)(1),(0,V.U)(C=>Object.assign({},g,{dragCancelled:C>0})));return c.complete(),y})).subscribe(({x:g,y,dragCancelled:C})=>{this.scroller.destroy(),this.zone.run(()=>{this.dragEnd.next({x:g,y,dragCancelled:C})}),et(this.renderer,this.element,this.dragActiveClass),l.complete()}),(0,U.T)(d,f).pipe((0,le.q)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(o)})}),h}),(0,ee.B)());(0,U.T)(e.pipe((0,le.q)(1),(0,V.U)(r=>[,r])),e.pipe((0,Bt.G)())).pipe((0,J.h)(([r,o])=>!r||r.x!==o.x||r.y!==o.y),(0,V.U)(([r,o])=>o)).subscribe(({x:r,y:o,currentDrag$:a,clientX:s,clientY:l,transformX:c,transformY:d,target:h})=>{this.zone.run(()=>{this.dragging.next({x:r,y:o})}),requestAnimationFrame(()=>{if(this.ghostElement){const m=`translate3d(${c}px, ${d}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:m,"-webkit-transform":m,"-ms-transform":m,"-moz-transform":m,"-o-transform":m})}}),a.next({clientX:s,clientY:l,dropData:this.dropData,target:h})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),r=Object.keys(this.eventListenerSubscriptions).length>0;e&&!r?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",o=>{this.onMouseDown(o)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",o=>{this.onMouseUp(o)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",o=>{this.onTouchStart(o)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",o=>{this.onTouchEnd(o)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",o=>{this.onTouchEnd(o)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&r&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",r=>{this.pointerMove$.next({event:r,clientX:r.clientX,clientY:r.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let r,o,a;if((this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&(this.timeLongPress.timerBegin=Date.now(),o=!1,a=this.hasScrollbar(),r=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const s=(0,kt.R)(this.document,"contextmenu").subscribe(c=>{c.preventDefault()}),l=(0,kt.R)(this.document,"touchmove",{passive:!1}).subscribe(c=>{(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&!o&&a&&(o=this.shouldBeginDrag(e,c,r)),((!this.scrollContainer||!this.scrollContainer.activeLongPressDrag)&&!this.touchStartLongPress||!a||o)&&(c.preventDefault(),this.pointerMove$.next({event:c,clientX:c.targetTouches[0].clientX,clientY:c.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{s.unsubscribe(),l.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,r){Object.keys(r).forEach(o=>{this.renderer.setStyle(e,o,r[o])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,r,o){const a=this.getScrollPosition(),s_top=Math.abs(a.top-o.top),s_left=Math.abs(a.left-o.left),l=Math.abs(r.targetTouches[0].clientX-e.touches[0].clientX)-s_left,c=Math.abs(r.targetTouches[0].clientY-e.touches[0].clientY)-s_top,h=this.touchStartLongPress?this.touchStartLongPress:{delta:this.scrollContainer.longPressConfig.delta,delay:this.scrollContainer.longPressConfig.duration};return(l+c>h.delta||s_top>0||s_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=h.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(X),n.Y36(n.R0b),n.Y36(n.s_b),n.Y36(zn,8),n.Y36(v.K0))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlDraggable",""]],inputs:{dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",dragCursor:"dragCursor",autoScroll:"autoScroll",dropData:"dropData",validateDrag:"validateDrag",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[n.TTD]}),t})();function Wn(t,i,e){return t>=e.left&&t<=e.right&&i>=e.top&&i<=e.bottom}let Wt=(()=>{class t{constructor(e,r,o,a,s){this.element=e,this.draggableHelper=r,this.zone=o,this.renderer=a,this.scrollContainer=s,this.dragEnter=new n.vpe,this.dragLeave=new n.vpe,this.dragOver=new n.vpe,this.drop=new n.vpe}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{Lt(this.renderer,this.element,this.dragActiveClass);const r={updateCache:!0},o=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{r.updateCache=!0});let a;const s=e.pipe((0,V.U)(({clientX:d,clientY:h,dropData:m,target:f})=>{a=m,r.updateCache&&(r.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(r.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),r.updateCache=!1);const g=Wn(d,h,r.rect),y=!this.validateDrop||this.validateDrop({clientX:d,clientY:h,target:f});return r.scrollContainerRect?g&&y&&Wn(d,h,r.scrollContainerRect):g&&y})),l=s.pipe((0,Ar.x)());let c;l.pipe((0,J.h)(d=>d)).subscribe(()=>{c=!0,Lt(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragEnter.next({dropData:a})})}),s.pipe((0,J.h)(d=>d)).subscribe(()=>{this.zone.run(()=>{this.dragOver.next({dropData:a})})}),l.pipe((0,Bt.G)(),(0,J.h)(([d,h])=>d&&!h)).subscribe(()=>{c=!1,et(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragLeave.next({dropData:a})})}),e.subscribe({complete:()=>{o(),et(this.renderer,this.element,this.dragActiveClass),c&&(et(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.drop.next({dropData:a})}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(X),n.Y36(n.R0b),n.Y36(n.Qsj),n.Y36(zn,8))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),t})(),tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();var Hr=b(515),Br=b(3601);const ce=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function nt(t,i,e=3){return Math.abs(t-i)<e}function Fn(t,i,e,r){const o={top:t.top,bottom:t.bottom,left:t.left,right:t.right};return i.top&&(o.top+=r),i.bottom&&(o.bottom+=r),i.left&&(o.left+=e),i.right&&(o.right+=e),o.height=o.bottom-o.top,o.width=o.right-o.left,o}function Vn({clientY:t,rect:i}){return t>=i.top&&t<=i.bottom}function Nn({clientX:t,rect:i}){return t>=i.left&&t<=i.right}function Yn({clientX:t,clientY:i,elm:e,allowedEdges:r,cursorPrecision:o}){const a=e.nativeElement.getBoundingClientRect(),s={};return r.left&&nt(t,a.left,o)&&Vn({clientY:i,rect:a})&&(s.left=!0),r.right&&nt(t,a.right,o)&&Vn({clientY:i,rect:a})&&(s.right=!0),r.top&&nt(i,a.top,o)&&Nn({clientX:t,rect:a})&&(s.top=!0),r.bottom&&nt(i,a.bottom,o)&&Nn({clientX:t,rect:a})&&(s.bottom=!0),s}const Zn=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function Ft(t,i){return t.left&&t.top?i.topLeft:t.right&&t.top?i.topRight:t.left&&t.bottom?i.bottomLeft:t.right&&t.bottom?i.bottomRight:t.left||t.right?i.leftOrRight:t.top||t.bottom?i.topOrBottom:""}function it({edges:t,initialRectangle:i,newRectangle:e}){const r={};return Object.keys(t).forEach(o=>{r[o]=(e[o]||0)-(i[o]||0)}),r}const $n="resize-active";let Gn=(()=>{class t{constructor(e,r,o,a){this.platformId=e,this.renderer=r,this.elm=o,this.zone=a,this.resizeEdges={},this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=Zn,this.resizeCursorPrecision=3,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new n.vpe,this.resizing=new n.vpe,this.resizeEnd=new n.vpe,this.mouseup=new I.x,this.mousedown=new I.x,this.mousemove=new I.x,this.destroy$=new I.x,this.resizeEdges$=new I.x,this.pointerEventListeners=_e.getInstance(r,a)}ngOnInit(){const e=(0,U.T)(this.pointerEventListeners.pointerDown,this.mousedown),r=(0,U.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,sn.b)(({event:d})=>{if(a)try{d.preventDefault()}catch{}}),(0,ee.B)()),o=(0,U.T)(this.pointerEventListeners.pointerUp,this.mouseup);let a;const s=()=>{a&&a.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(a.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},l=()=>Object.assign({},Zn,this.resizeCursors);this.resizeEdges$.pipe((0,ge.O)(this.resizeEdges),(0,V.U)(()=>this.resizeEdges&&Object.keys(this.resizeEdges).some(d=>!!this.resizeEdges[d])),(0,Ee.w)(d=>d?r:Hr.E),(0,Br.e)(this.mouseMoveThrottleMS),(0,$.R)(this.destroy$)).subscribe(({clientX:d,clientY:h})=>{const m=Yn({clientX:d,clientY:h,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}),f=l();if(!a){const g=Ft(m,f);this.renderer.setStyle(this.elm.nativeElement,"cursor",g)}this.setElementClass(this.elm,"resize-left-hover",!0===m.left),this.setElementClass(this.elm,"resize-right-hover",!0===m.right),this.setElementClass(this.elm,"resize-top-hover",!0===m.top),this.setElementClass(this.elm,"resize-bottom-hover",!0===m.bottom)}),e.pipe((0,Ht.z)(d=>{function h(g){return{clientX:g.clientX-d.clientX,clientY:g.clientY-d.clientY}}const m=()=>{const g={x:1,y:1};return a&&(this.resizeSnapGrid.left&&a.edges.left?g.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&a.edges.right&&(g.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&a.edges.top?g.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&a.edges.bottom&&(g.y=+this.resizeSnapGrid.bottom)),g};function f(g,y){return{x:Math.ceil(g.clientX/y.x),y:Math.ceil(g.clientY/y.y)}}return(0,U.T)(r.pipe((0,le.q)(1)).pipe((0,V.U)(g=>[,g])),r.pipe((0,Bt.G)())).pipe((0,V.U)(([g,y])=>[g&&h(g),h(y)])).pipe((0,J.h)(([g,y])=>{if(!g)return!0;const C=m(),w=f(g,C),S=f(y,C);return w.x!==S.x||w.y!==S.y})).pipe((0,V.U)(([,g])=>{const y=m();return{clientX:Math.round(g.clientX/y.x)*y.x,clientY:Math.round(g.clientY/y.y)*y.y}})).pipe((0,$.R)((0,U.T)(o,e)))})).pipe((0,J.h)(()=>!!a)).pipe((0,V.U)(({clientX:d,clientY:h})=>Fn(a.startingRect,a.edges,d,h))).pipe((0,J.h)(d=>this.allowNegativeResizes||!!(d.height&&d.width&&d.height>0&&d.width>0))).pipe((0,J.h)(d=>!this.validateResize||this.validateResize({rectangle:d,edges:it({edges:a.edges,initialRectangle:a.startingRect,newRectangle:d})})),(0,$.R)(this.destroy$)).subscribe(d=>{a&&a.clonedNode&&(this.renderer.setStyle(a.clonedNode,"height",`${d.height}px`),this.renderer.setStyle(a.clonedNode,"width",`${d.width}px`),this.renderer.setStyle(a.clonedNode,"top",`${d.top}px`),this.renderer.setStyle(a.clonedNode,"left",`${d.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:it({edges:a.edges,initialRectangle:a.startingRect,newRectangle:d}),rectangle:d})}),a.currentRect=d}),e.pipe((0,V.U)(({clientX:d,clientY:h,edges:m})=>m||Yn({clientX:d,clientY:h,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}))).pipe((0,J.h)(d=>Object.keys(d).length>0),(0,$.R)(this.destroy$)).subscribe(d=>{a&&s();const h=function Lr(t,i){let e=0,r=0;const o=t.nativeElement.style,s=["transform","-ms-transform","-moz-transform","-o-transform"].map(l=>o[l]).find(l=>!!l);if(s&&s.includes("translate")&&(e=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),r=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===i)return{height:t.nativeElement.offsetHeight,width:t.nativeElement.offsetWidth,top:t.nativeElement.offsetTop-r,bottom:t.nativeElement.offsetHeight+t.nativeElement.offsetTop-r,left:t.nativeElement.offsetLeft-e,right:t.nativeElement.offsetWidth+t.nativeElement.offsetLeft-e};{const l=t.nativeElement.getBoundingClientRect();return{height:l.height,width:l.width,top:l.top-r,bottom:l.bottom-r,left:l.left-e,right:l.right-e,scrollTop:t.nativeElement.scrollTop,scrollLeft:t.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);a={edges:d,startingRect:h,currentRect:h};const m=l(),f=Ft(a.edges,m);this.renderer.setStyle(document.body,"cursor",f),this.setElementClass(this.elm,$n,!0),this.enableGhostResize&&(a.clonedNode=this.elm.nativeElement.cloneNode(!0),this.elm.nativeElement.parentElement.appendChild(a.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(a.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(a.clonedNode,"left",`${a.startingRect.left}px`),this.renderer.setStyle(a.clonedNode,"top",`${a.startingRect.top}px`),this.renderer.setStyle(a.clonedNode,"height",`${a.startingRect.height}px`),this.renderer.setStyle(a.clonedNode,"width",`${a.startingRect.width}px`),this.renderer.setStyle(a.clonedNode,"cursor",Ft(a.edges,m)),this.renderer.addClass(a.clonedNode,"resize-ghost-element"),a.clonedNode.scrollTop=a.startingRect.scrollTop,a.clonedNode.scrollLeft=a.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:it({edges:d,initialRectangle:h,newRectangle:h}),rectangle:Fn(h,{},0,0)})})}),o.pipe((0,$.R)(this.destroy$)).subscribe(()=>{a&&(this.renderer.removeClass(this.elm.nativeElement,$n),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:it({edges:a.edges,initialRectangle:a.startingRect,newRectangle:a.currentRect}),rectangle:a.currentRect})}),s(),a=null)})}ngOnChanges(e){e.resizeEdges&&this.resizeEdges$.next(this.resizeEdges)}ngOnDestroy(){(0,v.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.resizeEdges$.complete(),this.destroy$.next()}setElementClass(e,r,o){o?this.renderer.addClass(e.nativeElement,r):this.renderer.removeClass(e.nativeElement,r)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.Lbi),n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(n.R0b))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlResizable",""]],inputs:{resizeEdges:"resizeEdges",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",resizeCursorPrecision:"resizeCursorPrecision",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS",validateResize:"validateResize"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"],features:[n.TTD]}),t})();class _e{static getInstance(i,e){return _e.instance||(_e.instance=new _e(i,e)),_e.instance}constructor(i,e){this.pointerDown=new se.y(r=>{let o,a;return e.runOutsideAngular(()=>{o=i.listen("document","mousedown",s=>{r.next({clientX:s.clientX,clientY:s.clientY,event:s})}),ce&&(a=i.listen("document","touchstart",s=>{r.next({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,event:s})}))}),()=>{o(),ce&&a()}}).pipe((0,ee.B)()),this.pointerMove=new se.y(r=>{let o,a;return e.runOutsideAngular(()=>{o=i.listen("document","mousemove",s=>{r.next({clientX:s.clientX,clientY:s.clientY,event:s})}),ce&&(a=i.listen("document","touchmove",s=>{r.next({clientX:s.targetTouches[0].clientX,clientY:s.targetTouches[0].clientY,event:s})}))}),()=>{o(),ce&&a()}}).pipe((0,ee.B)()),this.pointerUp=new se.y(r=>{let o,a,s;return e.runOutsideAngular(()=>{o=i.listen("document","mouseup",l=>{r.next({clientX:l.clientX,clientY:l.clientY,event:l})}),ce&&(a=i.listen("document","touchend",l=>{r.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}),s=i.listen("document","touchcancel",l=>{r.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}))}),()=>{o(),ce&&(a(),s())}}).pipe((0,ee.B)())}}let Zr=(()=>{class t{constructor(e,r,o,a){this.renderer=e,this.element=r,this.zone=o,this.resizableDirective=a,this.resizeEdges={},this.eventListeners={},this.destroy$=new I.x}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),ce&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),(0,U.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,r,o){e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",a=>{this.onMousemove(a,a.targetTouches[0].clientX,a.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",a=>{this.onMousemove(a,a.clientX,a.clientY)})),this.resizable.mousedown.next({clientX:r,clientY:o,edges:this.resizeEdges})}onMouseup(e,r){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:r,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,r,o){this.resizable.mousemove.next({clientX:r,clientY:o,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return(0,kt.R)(this.element.nativeElement,e).pipe((0,$.R)(this.destroy$))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(Gn,8))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),t})(),Un=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();var te=b(7340);const $r=function(t){return{action:t}};function Gr(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"a",5),n.NdJ("mwlClick",function(o){const s=n.CHM(e).$implicit,l=n.oxw(2).event;return n.KtG(s.onClick({event:l,sourceEvent:o}))})("mwlKeydownEnter",function(o){const s=n.CHM(e).$implicit,l=n.oxw(2).event;return n.KtG(s.onClick({event:l,sourceEvent:o}))}),n.ALo(1,"calendarA11y"),n.qZA()}if(2&t){const e=i.$implicit;n.Q6J("ngClass",e.cssClass)("innerHtml",e.label,n.oJD),n.uIk("aria-label",n.xi3(1,3,n.VKq(6,$r,e),"actionButtonLabel"))}}function Ur(t,i){if(1&t&&(n.TgZ(0,"span",3),n.YNc(1,Gr,2,8,"a",4),n.qZA()),2&t){const e=n.oxw(),r=e.event,o=e.trackByActionId;n.xp6(1),n.Q6J("ngForOf",r.actions)("ngForTrackBy",o)}}function jr(t,i){1&t&&n.YNc(0,Ur,2,2,"span",2),2&t&&n.Q6J("ngIf",i.event.actions)}function Jr(t,i){}const Kr=function(t,i){return{event:t,trackByActionId:i}},we=function(){return{}};function Xr(t,i){if(1&t&&(n._UZ(0,"span",2),n.ALo(1,"calendarEventTitle"),n.ALo(2,"calendarA11y")),2&t){const e=i.event;n.Q6J("innerHTML",n.Dn7(1,2,e.title,i.view,e),n.oJD),n.uIk("aria-hidden",n.xi3(2,6,n.DdM(9,we),"hideEventTitle"))}}function Qr(t,i){}const qr=function(t,i){return{event:t,view:i}};function eo(t,i){if(1&t&&(n.TgZ(0,"div",2),n._UZ(1,"div",3)(2,"div",4),n.qZA()),2&t){const e=i.contents;n.Q6J("ngClass","cal-tooltip-"+i.placement),n.xp6(2),n.Q6J("innerHtml",e,n.oJD)}}function to(t,i){}const no=function(t,i,e){return{contents:t,placement:i,event:e}},Ae=function(t,i){return{x:t,y:i}},rt=function(){return{delay:300,delta:30}},jn=function(t,i){return{event:t,locale:i}};function bo(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",13),n.NdJ("drop",function(o){const s=n.CHM(e).$implicit,l=n.oxw(2);return n.KtG(l.eventDropped(o,s.date,!0))})("dragEnter",function(){const a=n.CHM(e).$implicit,s=n.oxw(2);return n.KtG(s.dateDragEnter(a.date))}),n.qZA()}}const So=function(){return{left:!0}};function Eo(t,i){1&t&&n._UZ(0,"div",22),2&t&&n.Q6J("resizeEdges",n.DdM(1,So))}const ko=function(){return{right:!0}};function Mo(t,i){1&t&&n._UZ(0,"div",23),2&t&&n.Q6J("resizeEdges",n.DdM(1,ko))}const xo=function(t,i){return{left:t,right:i}},Kn=function(t,i){return{event:t,calendarId:i}},Io=function(t){return{x:t}};function Oo(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",17,18),n.NdJ("resizeStart",function(o){const s=n.CHM(e).$implicit;n.oxw();const l=n.MAs(1),c=n.oxw(2);return n.KtG(c.allDayEventResizeStarted(l,s,o))})("resizing",function(o){const s=n.CHM(e).$implicit,l=n.oxw(3);return n.KtG(l.allDayEventResizing(s,o,l.dayColumnWidth))})("resizeEnd",function(){const a=n.CHM(e).$implicit,s=n.oxw(3);return n.KtG(s.allDayEventResizeEnded(a))})("dragStart",function(){n.CHM(e);const o=n.MAs(1);n.oxw();const a=n.MAs(1),s=n.oxw(2);return n.KtG(s.dragStarted(a,o))})("dragging",function(){n.CHM(e);const o=n.oxw(3);return n.KtG(o.allDayEventDragMove())})("dragEnd",function(o){const s=n.CHM(e).$implicit,l=n.oxw(3);return n.KtG(l.dragEnded(s,o,l.dayColumnWidth))}),n.YNc(2,Eo,1,2,"div",19),n.TgZ(3,"mwl-calendar-week-view-event",20),n.NdJ("eventClicked",function(o){const s=n.CHM(e).$implicit,l=n.oxw(3);return n.KtG(l.eventClicked.emit({event:s.event,sourceEvent:o.sourceEvent}))}),n.qZA(),n.YNc(4,Mo,1,2,"div",21),n.qZA()}if(2&t){const e=i.$implicit,r=n.oxw(3);n.Udp("width",100/r.days.length*e.span,"%")("margin-left",100/r.days.length*e.offset,"%"),n.ekj("cal-draggable",e.event.draggable&&0===r.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),n.Q6J("ngClass",null==e.event?null:e.event.cssClass)("resizeSnapGrid",n.WLB(30,xo,r.dayColumnWidth,r.dayColumnWidth))("validateResize",r.validateResize)("dropData",n.WLB(33,Kn,e.event,r.calendarId))("dragAxis",n.WLB(36,Ae,e.event.draggable&&0===r.allDayEventResizes.size,!r.snapDraggedEvents&&e.event.draggable&&0===r.allDayEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?n.VKq(39,Io,r.dayColumnWidth):n.DdM(41,we))("validateDrag",r.validateDrag)("touchStartLongPress",n.DdM(42,rt)),n.xp6(2),n.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),n.xp6(1),n.Q6J("locale",r.locale)("weekEvent",e)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("daysInWeek",r.daysInWeek),n.xp6(1),n.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function Po(t,i){if(1&t&&(n.TgZ(0,"div",14,15),n.YNc(2,Oo,5,43,"div",16),n.qZA()),2&t){const e=i.$implicit,r=n.oxw(2);n.xp6(2),n.Q6J("ngForOf",e.row)("ngForTrackBy",r.trackByWeekAllDayEvent)}}function Ro(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",8,9),n.NdJ("dragEnter",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.dragEnter("allDay"))})("dragLeave",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.dragLeave("allDay"))}),n.TgZ(2,"div",5),n._UZ(3,"div",10),n.YNc(4,bo,1,0,"div",11),n.qZA(),n.YNc(5,Po,3,2,"div",12),n.qZA()}if(2&t){const e=n.oxw();n.xp6(3),n.Q6J("ngTemplateOutlet",e.allDayEventsLabelTemplate),n.xp6(1),n.Q6J("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),n.xp6(1),n.Q6J("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function Ao(t,i){if(1&t&&n._UZ(0,"mwl-calendar-week-view-hour-segment",28),2&t){const e=i.$implicit,r=n.oxw(3);n.Udp("height",r.hourSegmentHeight,"px"),n.Q6J("segment",e)("segmentHeight",r.hourSegmentHeight)("locale",r.locale)("customTemplate",r.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",r.daysInWeek)}}function Ho(t,i){if(1&t&&(n.TgZ(0,"div",26),n.YNc(1,Ao,1,8,"mwl-calendar-week-view-hour-segment",27),n.qZA()),2&t){const e=i.$implicit,r=i.odd,o=n.oxw(2);n.ekj("cal-hour-odd",r),n.xp6(1),n.Q6J("ngForOf",e.segments)("ngForTrackBy",o.trackByHourSegment)}}function Bo(t,i){if(1&t&&(n.TgZ(0,"div",24),n.YNc(1,Ho,2,4,"div",25),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const Lo=function(){return{left:!0,top:!0}};function zo(t,i){1&t&&n._UZ(0,"div",22),2&t&&n.Q6J("resizeEdges",n.DdM(1,Lo))}function Wo(t,i){}function Fo(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"mwl-calendar-week-view-event",36),n.NdJ("eventClicked",function(o){n.CHM(e);const a=n.oxw().$implicit,s=n.oxw(2);return n.KtG(s.eventClicked.emit({event:a.event,sourceEvent:o.sourceEvent}))}),n.qZA()}if(2&t){const e=n.oxw().$implicit,r=n.oxw().$implicit,o=n.oxw();n.Q6J("locale",o.locale)("weekEvent",e)("tooltipPlacement",o.tooltipPlacement)("tooltipTemplate",o.tooltipTemplate)("tooltipAppendToBody",o.tooltipAppendToBody)("tooltipDisabled",o.dragActive||o.timeEventResizes.size>0)("tooltipDelay",o.tooltipDelay)("customTemplate",o.eventTemplate)("eventTitleTemplate",o.eventTitleTemplate)("eventActionsTemplate",o.eventActionsTemplate)("column",r)("daysInWeek",o.daysInWeek)}}const Vo=function(){return{right:!0,bottom:!0}};function No(t,i){1&t&&n._UZ(0,"div",23),2&t&&n.Q6J("resizeEdges",n.DdM(1,Vo))}const Yo=function(t,i,e,r){return{left:t,right:i,top:e,bottom:r}};function Zo(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",33,18),n.NdJ("resizeStart",function(o){const s=n.CHM(e).$implicit,l=n.oxw(2),c=n.MAs(6);return n.KtG(l.timeEventResizeStarted(c,s,o))})("resizing",function(o){const s=n.CHM(e).$implicit,l=n.oxw(2);return n.KtG(l.timeEventResizing(s,o))})("resizeEnd",function(){const a=n.CHM(e).$implicit,s=n.oxw(2);return n.KtG(s.timeEventResizeEnded(a))})("dragStart",function(){const a=n.CHM(e).$implicit,s=n.MAs(1),l=n.oxw(2),c=n.MAs(6);return n.KtG(l.dragStarted(c,s,a))})("dragging",function(o){const s=n.CHM(e).$implicit,l=n.oxw(2);return n.KtG(l.dragMove(s,o))})("dragEnd",function(o){const s=n.CHM(e).$implicit,l=n.oxw(2);return n.KtG(l.dragEnded(s,o,l.dayColumnWidth,!0))}),n.YNc(2,zo,1,2,"div",19),n.YNc(3,Wo,0,0,"ng-template",34),n.YNc(4,Fo,1,12,"ng-template",null,35,n.W1O),n.YNc(6,No,1,2,"div",21),n.qZA()}if(2&t){const e=i.$implicit,r=n.MAs(5),o=n.oxw(2);n.Udp("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),n.ekj("cal-draggable",e.event.draggable&&0===o.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),n.Q6J("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeSnapGrid",n.l5B(29,Yo,o.dayColumnWidth,o.dayColumnWidth,o.eventSnapSize||o.hourSegmentHeight,o.eventSnapSize||o.hourSegmentHeight))("validateResize",o.validateResize)("allowNegativeResizes",!0)("dropData",n.WLB(34,Kn,e.event,o.calendarId))("dragAxis",n.WLB(37,Ae,e.event.draggable&&0===o.timeEventResizes.size,e.event.draggable&&0===o.timeEventResizes.size))("dragSnapGrid",o.snapDraggedEvents?n.WLB(40,Ae,o.dayColumnWidth,o.eventSnapSize||o.hourSegmentHeight):n.DdM(43,we))("touchStartLongPress",n.DdM(44,rt))("ghostDragEnabled",!o.snapDraggedEvents)("ghostElementTemplate",r)("validateDrag",o.validateDrag),n.xp6(2),n.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),n.xp6(1),n.Q6J("ngTemplateOutlet",r),n.xp6(3),n.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function $o(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"mwl-calendar-week-view-hour-segment",38),n.NdJ("mwlClick",function(o){const s=n.CHM(e).$implicit,l=n.oxw(3);return n.KtG(l.hourSegmentClicked.emit({date:s.date,sourceEvent:o}))})("drop",function(o){const s=n.CHM(e).$implicit,l=n.oxw(3);return n.KtG(l.eventDropped(o,s.date,!1))})("dragEnter",function(){const a=n.CHM(e).$implicit,s=n.oxw(3);return n.KtG(s.dateDragEnter(a.date))}),n.qZA()}if(2&t){const e=i.$implicit,r=n.oxw(3);n.Udp("height",r.hourSegmentHeight,"px"),n.Q6J("segment",e)("segmentHeight",r.hourSegmentHeight)("locale",r.locale)("customTemplate",r.hourSegmentTemplate)("daysInWeek",r.daysInWeek)("clickListenerDisabled",0===r.hourSegmentClicked.observers.length)("dragOverClass",r.dragActive&&r.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===r.daysInWeek)}}function Go(t,i){if(1&t&&(n.TgZ(0,"div",26),n.YNc(1,$o,1,10,"mwl-calendar-week-view-hour-segment",37),n.qZA()),2&t){const e=i.$implicit,r=i.odd,o=n.oxw(2);n.ekj("cal-hour-odd",r),n.xp6(1),n.Q6J("ngForOf",e.segments)("ngForTrackBy",o.trackByHourSegment)}}function Uo(t,i){if(1&t&&(n.TgZ(0,"div",29),n._UZ(1,"mwl-calendar-week-view-current-time-marker",30),n.TgZ(2,"div",31),n.YNc(3,Zo,7,45,"div",32),n.qZA(),n.YNc(4,Go,2,4,"div",25),n.qZA()),2&t){const e=i.$implicit,r=n.oxw();n.xp6(1),n.Q6J("columnDate",e.date)("dayStartHour",r.dayStartHour)("dayStartMinute",r.dayStartMinute)("dayEndHour",r.dayEndHour)("dayEndMinute",r.dayEndMinute)("hourSegments",r.hourSegments)("hourSegmentHeight",r.hourSegmentHeight)("customTemplate",r.currentTimeMarkerTemplate),n.xp6(2),n.Q6J("ngForOf",e.events)("ngForTrackBy",r.trackByWeekTimeEvent),n.xp6(1),n.Q6J("ngForOf",e.hours)("ngForTrackBy",r.trackByHour)}}function jo(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",4),n.NdJ("mwlClick",function(o){const s=n.CHM(e).$implicit,l=n.oxw().dayHeaderClicked;return n.KtG(l.emit({day:s,sourceEvent:o}))})("drop",function(o){const s=n.CHM(e).$implicit,l=n.oxw().eventDropped;return n.KtG(l.emit({event:o.dropData.event,newStart:s.date}))})("dragEnter",function(){const a=n.CHM(e).$implicit,s=n.oxw().dragEnter;return n.KtG(s.emit({date:a.date}))}),n.TgZ(1,"b"),n._uU(2),n.ALo(3,"calendarDate"),n.qZA(),n._UZ(4,"br"),n.TgZ(5,"span"),n._uU(6),n.ALo(7,"calendarDate"),n.qZA()()}if(2&t){const e=i.$implicit,r=n.oxw().locale;n.ekj("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),n.Q6J("ngClass",e.cssClass),n.xp6(2),n.Oqu(n.Dn7(3,11,e.date,"weekViewColumnHeader",r)),n.xp6(4),n.Oqu(n.Dn7(7,15,e.date,"weekViewColumnSubHeader",r))}}function Jo(t,i){if(1&t&&(n.TgZ(0,"div",2),n.YNc(1,jo,8,19,"div",3),n.qZA()),2&t){const e=i.days,r=i.trackByWeekDayHeaderDate;n.xp6(1),n.Q6J("ngForOf",e)("ngForTrackBy",r)}}function Ko(t,i){}const Xo=function(t,i,e,r,o,a){return{days:t,locale:i,dayHeaderClicked:e,eventDropped:r,dragEnter:o,trackByWeekDayHeaderDate:a}},Qo=function(t,i){return{backgroundColor:t,borderColor:i}};function qo(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",2),n.NdJ("mwlClick",function(o){const s=n.CHM(e).eventClicked;return n.KtG(s.emit({sourceEvent:o}))})("mwlKeydownEnter",function(o){const s=n.CHM(e).eventClicked;return n.KtG(s.emit({sourceEvent:o}))}),n.ALo(1,"calendarEventTitle"),n.ALo(2,"calendarA11y"),n._UZ(3,"mwl-calendar-event-actions",3),n._uU(4," "),n._UZ(5,"mwl-calendar-event-title",4),n.qZA()}if(2&t){const e=i.weekEvent,r=i.tooltipPlacement,o=i.tooltipTemplate,a=i.tooltipAppendToBody,s=i.tooltipDisabled,l=i.tooltipDelay,c=i.daysInWeek,d=n.oxw();n.Q6J("ngStyle",n.WLB(20,Qo,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",s?"":n.Dn7(1,13,e.event.title,1===c?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",r)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",o)("tooltipAppendToBody",a)("tooltipDelay",l),n.uIk("aria-label",n.xi3(2,17,n.WLB(23,jn,e.tempEvent||e.event,d.locale),"eventDescription")),n.xp6(3),n.Q6J("event",e.tempEvent||e.event)("customTemplate",d.eventActionsTemplate),n.xp6(2),n.Q6J("event",e.tempEvent||e.event)("customTemplate",d.eventTitleTemplate)("view",1===c?"day":"week")}}function ea(t,i){}const ta=function(t,i,e,r,o,a,s,l,c){return{weekEvent:t,tooltipPlacement:i,eventClicked:e,tooltipTemplate:r,tooltipAppendToBody:o,tooltipDisabled:a,tooltipDelay:s,column:l,daysInWeek:c}};function na(t,i){if(1&t&&(n.TgZ(0,"div",4),n._uU(1),n.ALo(2,"calendarDate"),n.qZA()),2&t){const e=n.oxw(),r=e.segment,o=e.daysInWeek,a=e.locale;n.xp6(1),n.hij(" ",n.Dn7(2,1,r.displayDate,1===o?"dayViewHour":"weekViewHour",a)," ")}}function ia(t,i){if(1&t&&(n.TgZ(0,"div",2),n.ALo(1,"calendarA11y"),n.YNc(2,na,3,5,"div",3),n.qZA()),2&t){const e=i.segment,o=i.isTimeLabel,a=i.daysInWeek;n.Udp("height",i.segmentHeight,"px"),n.ekj("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),n.Q6J("ngClass",e.cssClass),n.uIk("aria-hidden",n.xi3(1,9,n.DdM(12,we),1===a?"hideDayHourSegment":"hideWeekHourSegment")),n.xp6(2),n.Q6J("ngIf",o)}}function ra(t,i){}const oa=function(t,i,e,r,o){return{segment:t,locale:i,segmentHeight:e,isTimeLabel:r,daysInWeek:o}};function aa(t,i){if(1&t&&n._UZ(0,"div",3),2&t){const e=n.oxw().topPx;n.Udp("top",e,"px")}}function sa(t,i){1&t&&n.YNc(0,aa,1,2,"div",2),2&t&&n.Q6J("ngIf",i.isVisible)}function la(t,i){}const da=function(t,i,e,r,o,a,s){return{columnDate:t,dayStartHour:i,dayStartMinute:e,dayEndHour:r,dayEndMinute:o,isVisible:a,topPx:s}};let Xn=(()=>{let t=class{constructor(){this.trackByActionId=(e,r)=>r.id?r.id:r}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,r){if(1&e&&(n.YNc(0,jr,1,1,"ng-template",null,0,n.W1O),n.YNc(2,Jr,0,0,"ng-template",1)),2&e){const o=n.MAs(1);n.xp6(2),n.Q6J("ngTemplateOutlet",r.customTemplate||o)("ngTemplateOutletContext",n.WLB(2,Kr,r.event,r.trackByActionId))}},dependencies:function(){return[v.mk,v.sg,v.O5,v.tP,ue,lt,he]},encapsulation:2}),u([(0,n.IIB)(),p("design:type",Object)],t.prototype,"event",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"customTemplate",void 0),t})(),Qn=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,r){if(1&e&&(n.YNc(0,Xr,3,10,"ng-template",null,0,n.W1O),n.YNc(2,Qr,0,0,"ng-template",1)),2&e){const o=n.MAs(1);n.xp6(2),n.Q6J("ngTemplateOutlet",r.customTemplate||o)("ngTemplateOutletContext",n.WLB(2,qr,r.event,r.view))}},dependencies:function(){return[v.tP,$t,he]},encapsulation:2}),u([(0,n.IIB)(),p("design:type",Object)],t.prototype,"event",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"customTemplate",void 0),u([(0,n.IIB)(),p("design:type",String)],t.prototype,"view",void 0),t})(),ca=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,r){if(1&e&&(n.YNc(0,eo,3,2,"ng-template",null,0,n.W1O),n.YNc(2,to,0,0,"ng-template",1)),2&e){const o=n.MAs(1);n.xp6(2),n.Q6J("ngTemplateOutlet",r.customTemplate||o)("ngTemplateOutletContext",n.kEZ(2,no,r.contents,r.placement,r.event))}},dependencies:[v.mk,v.tP],encapsulation:2}),u([(0,n.IIB)(),p("design:type",String)],t.prototype,"contents",void 0),u([(0,n.IIB)(),p("design:type",String)],t.prototype,"placement",void 0),u([(0,n.IIB)(),p("design:type",Object)],t.prototype,"event",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"customTemplate",void 0),t})(),qn=(()=>{let t=class{constructor(e,r,o,a,s,l){this.elementRef=e,this.injector=r,this.renderer=o,this.viewContainerRef=s,this.document=l,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new I.x,this.tooltipFactory=a.resolveComponentFactory(ca)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?(0,Qi.of)("now"):(0,on.H)(this.delay)).pipe((0,$.R)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function Xi(t,i,e,r,o){var a=Array.isArray(e)?e:e.split(Ki),s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],l=i.classList,c=function(w){var S=w.split("-"),k=S[0],T=S[1],x=[];return o&&(x.push(o+"-"+k),T&&x.push(o+"-"+k+"-"+T),x.forEach(function(R){l.add(R)})),x};o&&s.forEach(function(w){l.remove(o+"-"+w)});var d=a.findIndex(function(w){return"auto"===w});d>=0&&s.forEach(function(w){null==a.find(function(S){return-1!==S.search("^"+w)})&&a.splice(d++,1,w)});var h=i.style;h.position="absolute",h.top="0",h.left="0",h["will-change"]="transform";for(var m,f=!1,g=0,y=a;g<y.length;g++){var C=c(m=y[g]);if(In.positionElements(t,i,m,r)){f=!0;break}o&&C.forEach(function(w){l.remove(w)})}return f||(c(m=a[0]),In.positionElements(t,i,m,r)),m}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}};return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(n.zs3),n.Y36(n.Qsj),n.Y36(n._Vd),n.Y36(n.s_b),n.Y36(v.K0))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,r){1&e&&n.NdJ("mouseenter",function(){return r.onMouseOver()})("mouseleave",function(){return r.onMouseOut()})},inputs:{placement:["tooltipPlacement","placement"],delay:["tooltipDelay","delay"],contents:["mwlCalendarTooltip","contents"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"]},features:[n.TTD]}),u([(0,n.IIB)("mwlCalendarTooltip"),p("design:type",String)],t.prototype,"contents",void 0),u([(0,n.IIB)("tooltipPlacement"),p("design:type",Object)],t.prototype,"placement",void 0),u([(0,n.IIB)("tooltipTemplate"),p("design:type",n.Rgc)],t.prototype,"customTemplate",void 0),u([(0,n.IIB)("tooltipEvent"),p("design:type",Object)],t.prototype,"event",void 0),u([(0,n.IIB)("tooltipAppendToBody"),p("design:type",Boolean)],t.prototype,"appendToBody",void 0),u([(0,n.IIB)("tooltipDelay"),p("design:type",Number)],t.prototype,"delay",void 0),u([(0,n.L6J)("mouseenter"),p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",void 0)],t.prototype,"onMouseOver",null),u([(0,n.L6J)("mouseleave"),p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",void 0)],t.prototype,"onMouseOut",null),t=u([ve(5,(0,n.tBr)(v.K0)),p("design:paramtypes",[n.SBq,n.zs3,n.Qsj,n._Vd,n.s_b,Object])],t),t})();class N{}function ti(t,i){return Math.floor(t.left)<=Math.ceil(i.left)&&Math.floor(i.left)<=Math.ceil(t.right)&&Math.floor(t.left)<=Math.ceil(i.right)&&Math.floor(i.right)<=Math.ceil(t.right)&&Math.floor(t.top)<=Math.ceil(i.top)&&Math.floor(i.top)<=Math.ceil(t.bottom)&&Math.floor(t.top)<=Math.ceil(i.bottom)&&Math.floor(i.bottom)<=Math.ceil(t.bottom)}function ni(t,i){return Math.round(t/i)*i}const Nt=(t,i)=>i.date.toISOString(),pa=(t,i)=>i.date.toISOString(),ua=(t,i)=>i.segments[0].date.toISOString(),ha=(t,i)=>i.event.id?i.event.id:i.event,ma=(t,i)=>i.event.id?i.event.id:i.event;function ri(t,i){return 60/(t*i)}function Yt(t,i,e,r){return ni(t,r||e)*ri(i,e)}function oi(t,i,e){return i.end?i.end:t.addMinutes(i.start,e)}function K(t,i,e,r){let o=0,a=0;const s=e<0?t.subDays:t.addDays;let l=i;for(;a<=Math.abs(e);){l=s(i,o);const c=t.getDay(l);-1===r.indexOf(c)&&a++,o++}return l}function Zt(t,i,e,r=[],o){let a=o?t.startOfDay(i):t.startOfWeek(i,{weekStartsOn:e});const s=t.endOfWeek(i,{weekStartsOn:e});for(;r.indexOf(t.getDay(a))>-1&&a<s;)a=t.addDays(a,1);if(o)return{viewStart:a,viewEnd:t.endOfDay(K(t,a,o-1,r))};{let l=s;for(;r.indexOf(t.getDay(l))>-1&&l>a;)l=t.subDays(l,1);return{viewStart:a,viewEnd:l}}}function ot({x:t,y:i}){return Math.abs(t)>1||Math.abs(i)>1}let _a=(()=>{let t=class{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:r}){return(0,v.p6)(e,"EEEE",r)}monthViewDayNumber({date:e,locale:r}){return(0,v.p6)(e,"d",r)}monthViewTitle({date:e,locale:r}){return(0,v.p6)(e,"LLLL y",r)}weekViewColumnHeader({date:e,locale:r}){return(0,v.p6)(e,"EEEE",r)}weekViewColumnSubHeader({date:e,locale:r}){return(0,v.p6)(e,"MMM d",r)}weekViewTitle({date:e,locale:r,weekStartsOn:o,excludeDays:a,daysInWeek:s}){const{viewStart:l,viewEnd:c}=Zt(this.dateAdapter,e,o,a,s),d=(h,m)=>(0,v.p6)(h,"MMM d"+(m?", yyyy":""),r);return`${d(l,l.getUTCFullYear()!==c.getUTCFullYear())} - ${d(c,!0)}`}weekViewHour({date:e,locale:r}){return(0,v.p6)(e,"h a",r)}dayViewHour({date:e,locale:r}){return(0,v.p6)(e,"h a",r)}dayViewTitle({date:e,locale:r}){return(0,v.p6)(e,"EEEE, MMMM d, y",r)}};return t.\u0275fac=function(e){return new(e||t)(n.LFG(N))},t.\u0275prov=n.Yz7({token:t,factory:function(i){return t.\u0275fac(i)}}),t=u([p("design:paramtypes",[N])],t),t})(),He=(()=>{let t=class extends _a{};return t.\u0275fac=function(){let i;return function(r){return(i||(i=n.n5z(t)))(r||t)}}(),t.\u0275prov=n.Yz7({token:t,factory:function(i){return t.\u0275fac(i)}}),t})(),at=(()=>{let t=class{constructor(e,r){this.dateFormatter=e,this.locale=r}transform(e,r,o=this.locale,a=0,s=[],l){if(typeof this.dateFormatter[r]>"u"){const c=Object.getOwnPropertyNames(Object.getPrototypeOf(He.prototype)).filter(d=>"constructor"!==d);throw new Error(`${r} is not a valid date formatter. Can only be one of ${c.join(", ")}`)}return this.dateFormatter[r]({date:e,locale:o,weekStartsOn:a,excludeDays:s,daysInWeek:l})}};return t.\u0275fac=function(e){return new(e||t)(n.Y36(He,16),n.Y36(n.soG,16))},t.\u0275pipe=n.Yjl({name:"calendarDate",type:t,pure:!0}),t=u([ve(1,(0,n.tBr)(n.soG)),p("design:paramtypes",[He,String])],t),t})();class st{month(i,e){return i.title}monthTooltip(i,e){return i.title}week(i,e){return i.title}weekTooltip(i,e){return i.title}day(i,e){return i.title}dayTooltip(i,e){return i.title}}let $t=(()=>{let t=class{constructor(e){this.calendarEventTitle=e}transform(e,r,o){return this.calendarEventTitle[r](o,e)}};return t.\u0275fac=function(e){return new(e||t)(n.Y36(st,16))},t.\u0275pipe=n.Yjl({name:"calendarEventTitle",type:t,pure:!0}),t=u([p("design:paramtypes",[st])],t),t})(),ue=(()=>{let t=class{constructor(e,r,o){this.renderer=e,this.elm=r,this.document=o,this.clickListenerDisabled=!1,this.click=new n.vpe,this.destroy$=new I.x}ngOnInit(){this.clickListenerDisabled||this.listen().pipe((0,$.R)(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new se.y(e=>this.renderer.listen(this.elm.nativeElement,"click",r=>{e.next(r)}))}};return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(v.K0))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),u([(0,n.IIB)(),p("design:type",Object)],t.prototype,"clickListenerDisabled",void 0),u([(0,n.r_U)("mwlClick"),p("design:type",Object)],t.prototype,"click",void 0),t=u([ve(2,(0,n.tBr)(v.K0)),p("design:paramtypes",[n.Qsj,n.SBq,Object])],t),t})(),lt=(()=>{let t=class{constructor(){this.keydown=new n.vpe}onKeyPress(e){(13===e.keyCode||13===e.which||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),this.keydown.emit(e))}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlKeydownEnter",""]],hostBindings:function(e,r){1&e&&n.NdJ("keydown",function(a){return r.onKeyPress(a)})},outputs:{keydown:"mwlKeydownEnter"}}),u([(0,n.r_U)("mwlKeydownEnter"),p("design:type",Object)],t.prototype,"keydown",void 0),u([(0,n.L6J)("keydown",["$event"]),p("design:type",Function),p("design:paramtypes",[Object]),p("design:returntype",void 0)],t.prototype,"onKeyPress",null),t})(),De=(()=>{let t=class{constructor(e){this.dateAdapter=e}getMonthView(e){return function pr(t,i){var e=i.events,r=void 0===e?[]:e,o=i.viewDate,a=i.weekStartsOn,s=i.excluded,l=void 0===s?[]:s,c=i.viewStart,d=void 0===c?t.startOfMonth(o):c,h=i.viewEnd,m=void 0===h?t.endOfMonth(o):h,f=i.weekendDays;r||(r=[]);for(var M,y=t.endOfWeek,C=t.differenceInDays,w=t.startOfDay,S=t.addHours,k=t.endOfDay,T=t.isSameMonth,x=t.getDay,W=(0,t.startOfWeek)(d,{weekStartsOn:a}),F=y(m,{weekStartsOn:a}),A=Oe(t,{events:r,periodStart:W,periodEnd:F}),O=[],D=function(en){var Z;if(M?(Z=w(S(M,24)),M.getTime()===Z.getTime()&&(Z=w(S(M,25))),M=Z):Z=M=W,!l.some(function(tn){return x(Z)===tn})){var G=Rn(t,{date:Z,weekendDays:f}),ht=Oe(t,{events:A,periodStart:w(Z),periodEnd:k(Z)});G.inMonth=T(Z,o),G.events=ht,G.badgeTotal=ht.length,O.push(G)}},_=0;_<C(F,W)+1;_++)D();var L=[],H=7-l.length;if(H<7)for(_=0;_<O.length;_+=H){var ut=O.slice(_,_+H);ut.some(function(Z){return d<=Z.date&&Z.date<m})&&(L=On(L,ut))}else L=O;var qt=Math.floor(L.length/H),Fe=[];for(_=0;_<qt;_++)Fe.push(_*H);return{rowOffsets:Fe,totalDaysVisibleInWeek:H,days:L,period:{start:L[0].date,end:k(L[L.length-1].date),events:A}}}(this.dateAdapter,e)}getWeekViewHeader(e){return Et(this.dateAdapter,e)}getWeekView(e){return function cr(t,i){var e=i.events,r=void 0===e?[]:e,o=i.viewDate,a=i.weekStartsOn,s=i.excluded,l=void 0===s?[]:s,c=i.precision,d=void 0===c?"days":c,h=i.absolutePositionedEvents,m=void 0!==h&&h,f=i.hourSegments,g=i.hourDuration,y=i.dayStart,C=i.dayEnd,w=i.weekendDays,S=i.segmentHeight,k=i.minimumEventHeight,T=i.viewStart,x=void 0===T?t.startOfWeek(o,{weekStartsOn:a}):T,R=i.viewEnd,W=void 0===R?t.endOfWeek(o,{weekStartsOn:a}):R;r||(r=[]);var A=t.endOfDay,O=Oe(t,{events:r,periodStart:x=(0,t.startOfDay)(x),periodEnd:W=A(W)}),M=Et(t,{viewDate:o,weekStartsOn:a,excluded:l,weekendDays:w,viewStart:x,viewEnd:W});return{allDayEventRows:lr(t,{events:O,excluded:l,precision:d,absolutePositionedEvents:m,viewStart:x,viewEnd:W}),period:{events:O,start:M[0].date,end:A(M[M.length-1].date)},hourColumns:dr(t,{events:r,viewDate:o,hourSegments:f,hourDuration:g,dayStart:y,dayEnd:C,weekStartsOn:a,excluded:l,weekendDays:w,segmentHeight:S,viewStart:x,viewEnd:W,minimumEventHeight:k})}}(this.dateAdapter,e)}};return t.\u0275fac=function(e){return new(e||t)(n.LFG(N))},t.\u0275prov=n.Yz7({token:t,factory:function(i){return t.\u0275fac(i)}}),t=u([p("design:paramtypes",[N])],t),t})(),Be=(()=>{let t=class{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:r}){return e.badgeTotal>0?`\n        ${(0,v.p6)(e.date,"EEEE MMMM d",r)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${(0,v.p6)(e.date,"EEEE MMMM d",r)}`}openDayEventsLandmark({date:e,locale:r}){return`\n      Beginning of expanded view for ${(0,v.p6)(e,"EEEE MMMM dd",r)}\n    `}openDayEventsAlert({date:e,locale:r}){return`${(0,v.p6)(e,"EEEE MMMM dd",r)} expanded`}eventDescription({event:e,locale:r}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:r});const o=`\n      ${(0,v.p6)(e.start,"EEEE MMMM dd",r)},\n      ${e.title}, from ${(0,v.p6)(e.start,"hh:mm a",r)}\n    `;return e.end?o+` to ${(0,v.p6)(e.end,"hh:mm a",r)}`:o}allDayEventDescription({event:e,locale:r}){const o=`\n      ${e.title}, event spans multiple days:\n      start time ${(0,v.p6)(e.start,"MMMM dd hh:mm a",r)}\n    `;return e.end?o+`, stop time ${(0,v.p6)(e.end,"MMMM d hh:mm a",r)}`:o+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}};return t.\u0275fac=function(e){return new(e||t)(n.LFG(v.Gx))},t.\u0275prov=n.Yz7({token:t,factory:function(i){return t.\u0275fac(i)}}),t=u([p("design:paramtypes",[v.Gx])],t),t})(),he=(()=>{let t=class{constructor(e,r){this.calendarA11y=e,this.locale=r}transform(e,r){if(e.locale=e.locale||this.locale,typeof this.calendarA11y[r]>"u"){const o=Object.getOwnPropertyNames(Object.getPrototypeOf(Be.prototype)).filter(a=>"constructor"!==a);throw new Error(`${r} is not a valid a11y method. Can only be one of ${o.join(", ")}`)}return this.calendarA11y[r](e)}};return t.\u0275fac=function(e){return new(e||t)(n.Y36(Be,16),n.Y36(n.soG,16))},t.\u0275pipe=n.Yjl({name:"calendarA11y",type:t,pure:!0}),t=u([ve(1,(0,n.tBr)(n.soG)),p("design:paramtypes",[Be,String])],t),t})();new n.OlP("Moment");var ai,oe=(()=>{return(t=oe||(oe={})).Drag="drag",t.Drop="drop",t.Resize="resize",oe;var t})();let Q=ai=class{static forRoot(i,e={}){return{ngModule:ai,providers:[i,e.eventTitleFormatter||st,e.dateFormatter||He,e.utils||De,e.a11y||Be]}}};Q.\u0275fac=function(i){return new(i||Q)},Q.\u0275mod=n.oAB({type:Q}),Q.\u0275inj=n.cJS({providers:[v.Gx],imports:[v.ez]}),(0,te.X$)("collapse",[(0,te.SB)("void",(0,te.oB)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,te.SB)("*",(0,te.oB)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,te.eR)("* => void",(0,te.jt)("150ms ease-out")),(0,te.eR)("void => *",(0,te.jt)("150ms ease-in"))]);let si=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[v.ez,tt,Q,tt]}),t})();class ba{constructor(i,e){this.dragContainerElement=i,this.startPosition=e.getBoundingClientRect()}validateDrag({x:i,y:e,snapDraggedEvents:r,dragAlreadyMoved:o,transform:a}){if(r){const s=Object.assign({},this.startPosition,{left:this.startPosition.left+a.x,right:this.startPosition.right+a.x,top:this.startPosition.top+a.y,bottom:this.startPosition.bottom+a.y});return(ot({x:i,y:e})||o)&&ti(this.dragContainerElement.getBoundingClientRect(),s)}return ot({x:i,y:e})||o}}class Sa{constructor(i,e){this.resizeContainerElement=i,this.minWidth=e}validateResize({rectangle:i}){return!(this.minWidth&&Math.ceil(i.width)<Math.ceil(this.minWidth))&&ti(this.resizeContainerElement.getBoundingClientRect(),i)}}let li=(()=>{let t=class{constructor(e,r,o,a){this.cdr=e,this.utils=r,this.dateAdapter=a,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new n.vpe,this.eventClicked=new n.vpe,this.eventTimesChanged=new n.vpe,this.beforeViewRender=new n.vpe,this.hourSegmentClicked=new n.vpe,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.trackByWeekDayHeaderDate=Nt,this.trackByHourSegment=pa,this.trackByHour=ua,this.trackByWeekAllDayEvent=ha,this.trackByWeekTimeEvent=ma,this.trackByHourColumn=(s,l)=>l.hours[0]?l.hours[0].segments[0].date.toISOString():l,this.trackById=(s,l)=>l.id,this.locale=o}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const r=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,o=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek;r&&this.refreshHeader(),e.events&&(t=>{(function mr(t,i){var e=!0;function r(o,a){i(o,a),e=!1}Array.isArray(t)?t.forEach(function(o){o.start?o.start instanceof Date||r(re.StartPropertyNotDate,o):r(re.StartPropertyMissing,o),o.end&&(o.end instanceof Date||r(re.EndPropertyNotDate,o),o.start>o.end&&r(re.EndsBeforeStart,o))}):i(re.NotArray,t)})(t,(...e)=>console.warn("angular-calendar",...e))})(this.events),o&&this.refreshBody(),(r||o)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}timeEventResizeStarted(e,r,o){this.timeEventResizes.set(r.event,o),this.resizeStarted(e)}timeEventResizing(e,r){this.timeEventResizes.set(e.event,r);const o=new Map,a=[...this.events];this.timeEventResizes.forEach((s,l)=>{const c=this.getTimeEventResizedDates(l,s),d=Object.assign(Object.assign({},l),c);o.set(d,l);const h=a.indexOf(l);a[h]=d}),this.restoreOriginalEvents(a,o,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const r=this.timeEventResizes.get(e.event);if(r){this.timeEventResizes.delete(e.event);const o=this.getTimeEventResizedDates(e.event,r);this.eventTimesChanged.emit({newStart:o.start,newEnd:o.end,event:e.event,type:oe.Resize})}}allDayEventResizeStarted(e,r,o){this.allDayEventResizes.set(r,{originalOffset:r.offset,originalSpan:r.span,edge:typeof o.edges.left<"u"?"left":"right"}),this.resizeStarted(e,this.getDayColumnWidth(e))}allDayEventResizing(e,r,o){const a=this.allDayEventResizes.get(e);if(typeof r.edges.left<"u"){const s=Math.round(+r.edges.left/o);e.offset=a.originalOffset+s,e.span=a.originalSpan-s}else if(typeof r.edges.right<"u"){const s=Math.round(+r.edges.right/o);e.span=a.originalSpan+s}}allDayEventResizeEnded(e){const r=this.allDayEventResizes.get(e);if(r){const o="left"===r.edge;let a;a=o?e.offset-r.originalOffset:e.span-r.originalSpan,e.offset=r.originalOffset,e.span=r.originalSpan;let s=e.event.start,l=e.event.end||e.event.start;o?s=K(this.dateAdapter,s,a,this.excludeDays):l=K(this.dateAdapter,l,a,this.excludeDays),this.eventTimesChanged.emit({newStart:s,newEnd:l,event:e.event,type:oe.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,r,o){(function ya(t,i,e,r){return t.dropData&&t.dropData.event&&(t.dropData.calendarId!==r||t.dropData.event.allDay&&!e||!t.dropData.event.allDay&&e)})(e,0,o,this.calendarId)&&this.lastDragEnterDate.getTime()===r.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:oe.Drop,event:e.dropData.event,newStart:r,allDay:o}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,r,o){this.dayColumnWidth=this.getDayColumnWidth(e);const a=new ba(e,r);this.validateDrag=({x:s,y:l,transform:c})=>0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&a.validateDrag({x:s,y:l,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:c}),this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&o&&this.view.hourColumns.forEach(s=>{const l=s.events.find(c=>c.event===o.event&&c!==o);l&&(l.width=0,l.height=0)}),this.cdr.markForCheck()}dragMove(e,r){const o=this.getDragMovedEventTimes(e,r,this.dayColumnWidth,!0),a=e.event,s=Object.assign(Object.assign({},a),o),l=this.events.map(c=>c===a?s:c);this.restoreOriginalEvents(l,new Map([[s,a]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,r,o,a=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:s,end:l}=this.getDragMovedEventTimes(e,r,o,a);(this.snapDraggedEvents||this.eventDragEnterByType[a?"time":"allDay"]>0)&&function va(t,i,e){const r=i||t;return e.start<=t&&t<=e.end||e.start<=r&&r<=e.end}(s,l,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:s,newEnd:l,event:e.event,type:oe.Drag,allDay:!a}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},Zt(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(e){return this.utils.getWeekView(Object.assign({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays},Zt(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(e,r,o,a){const s=ni(r.x,o)/o,l=a?Yt(r.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize):0,c=this.dateAdapter.addMinutes(K(this.dateAdapter,e.event.start,s,this.excludeDays),l);let d;return e.event.end&&(d=this.dateAdapter.addMinutes(K(this.dateAdapter,e.event.end,s,this.excludeDays),l)),{start:c,end:d}}restoreOriginalEvents(e,r,o=!0){const a=this.view;o&&(this.view=this.getWeekView(e));const s=e.filter(l=>r.has(l));this.view.hourColumns.forEach((l,c)=>{a.hourColumns[c].hours.forEach((d,h)=>{d.segments.forEach((m,f)=>{l.hours[h].segments[f].cssClass=m.cssClass})}),s.forEach(d=>{const h=r.get(d),m=l.events.find(f=>f.event===(o?d:h));m?(m.event=h,m.tempEvent=d,o||(m.height=0,m.width=0)):l.events.push({event:h,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:d})})}),r.clear()}getTimeEventResizedDates(e,r){const o=function fa(t,i){return ri(t,i)*i}(this.hourSegments,this.hourSegmentHeight),a={start:e.start,end:oi(this.dateAdapter,e,o)},l=function Ui(t,i){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&i.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)i.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e}(e,["end"]),c={start:this.dateAdapter.addMinutes(a.end,-1*o),end:oi(this.dateAdapter,l,o)};if(typeof r.edges.left<"u"){const d=Math.round(+r.edges.left/this.dayColumnWidth),h=K(this.dateAdapter,a.start,d,this.excludeDays);a.start=h<c.start?h:c.start}else if(typeof r.edges.right<"u"){const d=Math.round(+r.edges.right/this.dayColumnWidth),h=K(this.dateAdapter,a.end,d,this.excludeDays);a.end=h>c.end?h:c.end}if(typeof r.edges.top<"u"){const d=Yt(r.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),h=this.dateAdapter.addMinutes(a.start,d);a.start=h<c.start?h:c.start}else if(typeof r.edges.bottom<"u"){const d=Yt(r.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),h=this.dateAdapter.addMinutes(a.end,d);a.end=h>c.end?h:c.end}return a}resizeStarted(e,r){this.dayColumnWidth=this.getDayColumnWidth(e);const o=new Sa(e,r);this.validateResize=({rectangle:a})=>o.validateResize({rectangle:a}),this.cdr.markForCheck()}};return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.sBO),n.Y36(De),n.Y36(n.soG),n.Y36(N))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-week-view"]],inputs:{events:"events",excludeDays:"excludeDays",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",precision:"precision",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",locale:"locale",viewDate:"viewDate",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[n.TTD],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,r){1&e&&(n.TgZ(0,"div",0)(1,"mwl-calendar-week-view-header",1),n.NdJ("dayHeaderClicked",function(a){return r.dayHeaderClicked.emit(a)})("eventDropped",function(a){return r.eventDropped({dropData:a},a.newStart,!0)})("dragEnter",function(a){return r.dateDragEnter(a.date)}),n.qZA(),n.YNc(2,Ro,6,5,"div",2),n.TgZ(3,"div",3),n.NdJ("dragEnter",function(){return r.dragEnter("time")})("dragLeave",function(){return r.dragLeave("time")}),n.YNc(4,Bo,2,2,"div",4),n.TgZ(5,"div",5,6),n.YNc(7,Uo,5,12,"div",7),n.qZA()()()),2&e&&(n.xp6(1),n.Q6J("days",r.days)("locale",r.locale)("customTemplate",r.headerTemplate),n.xp6(1),n.Q6J("ngIf",r.view.allDayEventRows.length>0),n.xp6(2),n.Q6J("ngIf",r.view.hourColumns.length>0&&1!==r.daysInWeek),n.xp6(1),n.ekj("cal-resize-active",r.timeEventResizes.size>0),n.xp6(2),n.Q6J("ngForOf",r.view.hourColumns)("ngForTrackBy",r.trackByHourColumn))},dependencies:function(){return[v.mk,v.sg,v.O5,v.tP,Gn,Zr,zt,Wt,ue,Ea,ka,Ma,xa]},encapsulation:2}),u([(0,n.IIB)(),p("design:type",Date)],t.prototype,"viewDate",void 0),u([(0,n.IIB)(),p("design:type",Array)],t.prototype,"events",void 0),u([(0,n.IIB)(),p("design:type",Array)],t.prototype,"excludeDays",void 0),u([(0,n.IIB)(),p("design:type",I.x)],t.prototype,"refresh",void 0),u([(0,n.IIB)(),p("design:type",String)],t.prototype,"locale",void 0),u([(0,n.IIB)(),p("design:type",Object)],t.prototype,"tooltipPlacement",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"tooltipTemplate",void 0),u([(0,n.IIB)(),p("design:type",Boolean)],t.prototype,"tooltipAppendToBody",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"tooltipDelay",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"weekStartsOn",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"headerTemplate",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"eventTemplate",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"eventTitleTemplate",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"eventActionsTemplate",void 0),u([(0,n.IIB)(),p("design:type",String)],t.prototype,"precision",void 0),u([(0,n.IIB)(),p("design:type",Array)],t.prototype,"weekendDays",void 0),u([(0,n.IIB)(),p("design:type",Boolean)],t.prototype,"snapDraggedEvents",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"hourSegments",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"hourSegmentHeight",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"dayStartHour",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"dayStartMinute",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"dayEndHour",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"dayEndMinute",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"hourSegmentTemplate",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"eventSnapSize",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"allDayEventsLabelTemplate",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"daysInWeek",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"currentTimeMarkerTemplate",void 0),u([(0,n.r_U)(),p("design:type",Object)],t.prototype,"dayHeaderClicked",void 0),u([(0,n.r_U)(),p("design:type",Object)],t.prototype,"eventClicked",void 0),u([(0,n.r_U)(),p("design:type",Object)],t.prototype,"eventTimesChanged",void 0),u([(0,n.r_U)(),p("design:type",Object)],t.prototype,"beforeViewRender",void 0),u([(0,n.r_U)(),p("design:type",Object)],t.prototype,"hourSegmentClicked",void 0),t=u([ve(2,(0,n.tBr)(n.soG)),p("design:paramtypes",[n.sBO,De,String,N])],t),t})(),Ea=(()=>{let t=class{constructor(){this.dayHeaderClicked=new n.vpe,this.eventDropped=new n.vpe,this.dragEnter=new n.vpe,this.trackByWeekDayHeaderDate=Nt}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,r){if(1&e&&(n.YNc(0,Jo,2,2,"ng-template",null,0,n.W1O),n.YNc(2,Ko,0,0,"ng-template",1)),2&e){const o=n.MAs(1);n.xp6(2),n.Q6J("ngTemplateOutlet",r.customTemplate||o)("ngTemplateOutletContext",n.HTZ(2,Xo,r.days,r.locale,r.dayHeaderClicked,r.eventDropped,r.dragEnter,r.trackByWeekDayHeaderDate))}},dependencies:[v.mk,v.sg,v.tP,Wt,ue,at],encapsulation:2}),u([(0,n.IIB)(),p("design:type",Array)],t.prototype,"days",void 0),u([(0,n.IIB)(),p("design:type",String)],t.prototype,"locale",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"customTemplate",void 0),u([(0,n.r_U)(),p("design:type",Object)],t.prototype,"dayHeaderClicked",void 0),u([(0,n.r_U)(),p("design:type",Object)],t.prototype,"eventDropped",void 0),u([(0,n.r_U)(),p("design:type",Object)],t.prototype,"dragEnter",void 0),t})(),ka=(()=>{let t=class{constructor(){this.eventClicked=new n.vpe}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,r){if(1&e&&(n.YNc(0,qo,6,26,"ng-template",null,0,n.W1O),n.YNc(2,ea,0,0,"ng-template",1)),2&e){const o=n.MAs(1);n.xp6(2),n.Q6J("ngTemplateOutlet",r.customTemplate||o)("ngTemplateOutletContext",n.rFY(2,ta,[r.weekEvent,r.tooltipPlacement,r.eventClicked,r.tooltipTemplate,r.tooltipAppendToBody,r.tooltipDisabled,r.tooltipDelay,r.column,r.daysInWeek]))}},dependencies:[v.tP,v.PC,Xn,Qn,qn,ue,lt,$t,he],encapsulation:2}),u([(0,n.IIB)(),p("design:type",String)],t.prototype,"locale",void 0),u([(0,n.IIB)(),p("design:type",Object)],t.prototype,"weekEvent",void 0),u([(0,n.IIB)(),p("design:type",Object)],t.prototype,"tooltipPlacement",void 0),u([(0,n.IIB)(),p("design:type",Boolean)],t.prototype,"tooltipAppendToBody",void 0),u([(0,n.IIB)(),p("design:type",Boolean)],t.prototype,"tooltipDisabled",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"tooltipDelay",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"customTemplate",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"eventTitleTemplate",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"eventActionsTemplate",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"tooltipTemplate",void 0),u([(0,n.IIB)(),p("design:type",Object)],t.prototype,"column",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"daysInWeek",void 0),u([(0,n.r_U)(),p("design:type",Object)],t.prototype,"eventClicked",void 0),t})(),Ma=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,r){if(1&e&&(n.YNc(0,ia,3,13,"ng-template",null,0,n.W1O),n.YNc(2,ra,0,0,"ng-template",1)),2&e){const o=n.MAs(1);n.xp6(2),n.Q6J("ngTemplateOutlet",r.customTemplate||o)("ngTemplateOutletContext",n.qbA(2,oa,r.segment,r.locale,r.segmentHeight,r.isTimeLabel,r.daysInWeek))}},dependencies:[v.mk,v.O5,v.tP,at,he],encapsulation:2}),u([(0,n.IIB)(),p("design:type",Object)],t.prototype,"segment",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"segmentHeight",void 0),u([(0,n.IIB)(),p("design:type",String)],t.prototype,"locale",void 0),u([(0,n.IIB)(),p("design:type",Boolean)],t.prototype,"isTimeLabel",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"daysInWeek",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"customTemplate",void 0),t})(),xa=(()=>{let t=class{constructor(e,r){this.dateAdapter=e,this.zone=r,this.columnDate$=new qi.X(this.columnDate),this.marker$=this.zone.onStable.pipe((0,Ee.w)(()=>an(6e4)),(0,ge.O)(0),function tr(t,i){return(0,er.m)(i)?(0,Ee.w)(()=>t,i):(0,Ee.w)(()=>t)}(this.columnDate$),(0,V.U)(o=>{const a=this.dateAdapter.setMinutes(this.dateAdapter.setHours(o,this.dayStartHour),this.dayStartMinute),s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(o,this.dayEndHour),this.dayEndMinute),l=this.hourSegments*this.hourSegmentHeight/60,c=new Date;return{isVisible:this.dateAdapter.isSameDay(o,c)&&c>=a&&c<=s,top:this.dateAdapter.differenceInMinutes(c,a)*l}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}};return t.\u0275fac=function(e){return new(e||t)(n.Y36(N),n.Y36(n.R0b))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[n.TTD],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,r){if(1&e&&(n.YNc(0,sa,1,1,"ng-template",null,0,n.W1O),n.YNc(2,la,0,0,"ng-template",1),n.ALo(3,"async"),n.ALo(4,"async")),2&e){const o=n.MAs(1);let a;n.xp6(2),n.Q6J("ngTemplateOutlet",r.customTemplate||o)("ngTemplateOutletContext",n.Hh0(6,da,r.columnDate,r.dayStartHour,r.dayStartMinute,r.dayEndHour,r.dayEndMinute,null==(a=n.lcZ(3,2,r.marker$))?null:a.isVisible,null==(a=n.lcZ(4,4,r.marker$))?null:a.top))}},dependencies:[v.O5,v.tP,v.Ov],encapsulation:2}),u([(0,n.IIB)(),p("design:type",Date)],t.prototype,"columnDate",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"dayStartHour",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"dayStartMinute",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"dayEndHour",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"dayEndMinute",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"hourSegments",void 0),u([(0,n.IIB)(),p("design:type",Number)],t.prototype,"hourSegmentHeight",void 0),u([(0,n.IIB)(),p("design:type",n.Rgc)],t.prototype,"customTemplate",void 0),t=u([p("design:paramtypes",[N,n.R0b])],t),t})(),Gt=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[v.ez,Un,tt,Q,Un,tt]}),t})(),di=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[v.ez,Q,Gt]}),t})();var ci;let Ce=ci=class{static forRoot(i,e={}){return{ngModule:ci,providers:[i,e.eventTitleFormatter||st,e.dateFormatter||He,e.utils||De,e.a11y||Be]}}};function Y(t){if(null===t||!0===t||!1===t)return NaN;var i=Number(t);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}function E(t,i){if(i.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+i.length+" present")}function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function P(t){E(1,arguments);var i=Object.prototype.toString.call(t);return t instanceof Date||"object"===dt(t)&&"[object Date]"===i?new Date(t.getTime()):"number"==typeof t||"[object Number]"===i?new Date(t):(("string"==typeof t||"[object String]"===i)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Ut(t,i){E(2,arguments);var e=P(t),r=Y(i);return isNaN(r)?new Date(NaN):(r&&e.setDate(e.getDate()+r),e)}function jt(t,i){E(2,arguments);var e=P(t).getTime(),r=Y(i);return new Date(e+r)}function Oa(t,i){E(2,arguments);var e=Y(i);return jt(t,36e5*e)}function Ra(t,i){E(2,arguments);var e=Y(i);return jt(t,6e4*e)}function Aa(t,i){E(2,arguments);var e=Y(i);return jt(t,1e3*e)}function pi(t){var i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return i.setUTCFullYear(t.getFullYear()),t.getTime()-i.getTime()}function Le(t){E(1,arguments);var i=P(t);return i.setHours(0,0,0,0),i}function Ba(t,i){E(2,arguments);var e=Le(t),r=Le(i),o=e.getTime()-pi(e),a=r.getTime()-pi(r);return Math.round((o-a)/864e5)}function ui(t,i){var e=t.getFullYear()-i.getFullYear()||t.getMonth()-i.getMonth()||t.getDate()-i.getDate()||t.getHours()-i.getHours()||t.getMinutes()-i.getMinutes()||t.getSeconds()-i.getSeconds()||t.getMilliseconds()-i.getMilliseconds();return e<0?-1:e>0?1:e}function La(t,i){E(2,arguments);var e=P(t),r=P(i),o=ui(e,r),a=Math.abs(Ba(e,r));e.setDate(e.getDate()-o*a);var s=Number(ui(e,r)===-o),l=o*(a-s);return 0===l?0:l}function mi(t,i){return E(2,arguments),P(t).getTime()-P(i).getTime()}Ce.\u0275fac=function(i){return new(i||Ce)},Ce.\u0275mod=n.oAB({type:Ce}),Ce.\u0275inj=n.cJS({imports:[Q,si,Gt,di,Q,si,Gt,di]}),Math.pow(10,8);var gi={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(i){return i<0?Math.ceil(i):Math.floor(i)}};function fi(t){return t?gi[t]:gi.trunc}function $a(t,i,e){E(2,arguments);var r=mi(t,i)/6e4;return fi(e?.roundingMethod)(r)}function Ga(t,i,e){E(2,arguments);var r=mi(t,i)/1e3;return fi(e?.roundingMethod)(r)}function Ua(t){E(1,arguments);var i=P(t);return i.setHours(23,59,59,999),i}function ja(t){E(1,arguments);var i=P(t),e=i.getMonth();return i.setFullYear(i.getFullYear(),e+1,0),i.setHours(23,59,59,999),i}var vi={};function yi(){return vi}function Ja(t,i){var e,r,o,a,s,l,c,d;E(1,arguments);var h=yi(),m=Y(null!==(e=null!==(r=null!==(o=null!==(a=i?.weekStartsOn)&&void 0!==a?a:null==i||null===(s=i.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==o?o:h.weekStartsOn)&&void 0!==r?r:null===(c=h.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==e?e:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=P(t),g=f.getDay(),y=6+(g<m?-7:0)-(g-m);return f.setDate(f.getDate()+y),f.setHours(23,59,59,999),f}function Ka(t){E(1,arguments);var i=P(t),e=i.getDay();return e}function Xa(t){E(1,arguments);var i=P(t),e=i.getMonth();return e}function Qa(t,i){E(2,arguments);var e=Le(t),r=Le(i);return e.getTime()===r.getTime()}function qa(t,i){E(2,arguments);var e=P(t),r=P(i);return e.getFullYear()===r.getFullYear()&&e.getMonth()===r.getMonth()}function _i(t){E(1,arguments);var i=P(t);return i.setMilliseconds(0),i}function es(t,i){E(2,arguments);var e=_i(t),r=_i(i);return e.getTime()===r.getTime()}function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ts(t){var i,e;if(E(1,arguments),t&&"function"==typeof t.forEach)i=t;else{if("object"!==ct(t)||null===t)return new Date(NaN);i=Array.prototype.slice.call(t)}return i.forEach(function(r){var o=P(r);(void 0===e||e<o||isNaN(Number(o)))&&(e=o)}),e||new Date(NaN)}function ns(t,i){E(2,arguments);var e=P(t),r=Y(i);return e.setHours(r),e}function is(t,i){E(2,arguments);var e=P(t),r=Y(i);return e.setMinutes(r),e}function rs(t){E(1,arguments);var i=P(t);return i.setSeconds(0,0),i}function os(t){E(1,arguments);var i=P(t);return i.setDate(1),i.setHours(0,0,0,0),i}function wi(t,i){var e,r,o,a,s,l,c,d;E(1,arguments);var h=yi(),m=Y(null!==(e=null!==(r=null!==(o=null!==(a=i?.weekStartsOn)&&void 0!==a?a:null==i||null===(s=i.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==o?o:h.weekStartsOn)&&void 0!==r?r:null===(c=h.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==e?e:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=P(t),g=f.getDay(),y=(g<m?7:0)+g-m;return f.setDate(f.getDate()-y),f.setHours(0,0,0,0),f}function as(t){E(1,arguments);var i=P(t),e=i.getHours();return e}function ss(t){E(1,arguments);var i=P(t),e=i.getMinutes();return e}function Jt(t,i){E(2,arguments);var e=Y(i),r=7*e;return Ut(t,r)}function Di(t,i){E(2,arguments);var e=P(t),r=Y(i);if(isNaN(r))return new Date(NaN);if(!r)return e;var o=e.getDate(),a=new Date(e.getTime());a.setMonth(e.getMonth()+r+1,0);var s=a.getDate();return o>=s?a:(e.setFullYear(a.getFullYear(),a.getMonth(),o),e)}function ds(t,i){E(2,arguments);var e=Y(i);return Ut(t,-e)}function Ci(t,i){E(2,arguments);var e=Y(i);return Jt(t,-e)}function cs(t,i){E(2,arguments);var e=Y(i);return Di(t,-e)}function pt(t){return E(1,arguments),wi(t,{weekStartsOn:1})}function ps(t){E(1,arguments);var i=P(t),e=i.getFullYear(),r=new Date(0);r.setFullYear(e+1,0,4),r.setHours(0,0,0,0);var o=pt(r),a=new Date(0);a.setFullYear(e,0,4),a.setHours(0,0,0,0);var s=pt(a);return i.getTime()>=o.getTime()?e+1:i.getTime()>=s.getTime()?e:e-1}function us(t){E(1,arguments);var i=ps(t),e=new Date(0);e.setFullYear(i,0,4),e.setHours(0,0,0,0);var r=pt(e);return r}var hs=6048e5;function ms(t){E(1,arguments);var i=P(t),e=pt(i).getTime()-us(i).getTime();return Math.round(e/hs)+1}function gs(t,i){E(2,arguments);var e=P(t),r=Y(i);return e.setDate(r),e}function fs(t){E(1,arguments);var i=P(t),e=i.getFullYear(),r=i.getMonth(),o=new Date(0);return o.setFullYear(e,r+1,0),o.setHours(0,0,0,0),o.getDate()}function vs(t,i){E(2,arguments);var e=P(t),r=Y(i),o=e.getFullYear(),a=e.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var l=fs(s);return e.setMonth(r,Math.min(a,l)),e}function ys(t,i){E(2,arguments);var e=P(t),r=Y(i);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(r),e)}function _s(t){E(1,arguments);var i=P(t),e=i.getDate();return e}function ws(t){return E(1,arguments),P(t).getFullYear()}var Cs=b(5226),Ti=b.n(Cs),Kt=b(8595),Xt=b(4006),Ts=b(7392),bs=b(4859);const Ss=["aForm2"];function Es(t,i){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.hij(" ",null==e.appointment?null:e.appointment.motive," ")}}function ks(t,i){1&t&&(n.TgZ(0,"span",18),n._uU(1," Sin motivo registrado "),n.qZA())}function Ms(t,i){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.hij(" ",null==e.appointment?null:e.appointment.observations," ")}}function xs(t,i){1&t&&(n.TgZ(0,"span",18),n._uU(1," Sin observaciones "),n.qZA())}function Is(t,i){1&t&&(n.TgZ(0,"span"),n._uU(1,"Pendiente"),n.qZA())}function Os(t,i){1&t&&(n.TgZ(0,"span"),n._uU(1,"Confirmada"),n.qZA())}function Ps(t,i){1&t&&(n.TgZ(0,"span"),n._uU(1,"Atendida"),n.qZA())}function Rs(t,i){1&t&&(n.TgZ(0,"span"),n._uU(1,"Cancelada"),n.qZA())}class ze{constructor(i,e,r,o){this.dialogRef=i,this.service=r,this.fb=o,this.appointment=e?.data||e,this.patient=this.appointment?.patient,this.doctor=this.appointment?.doctor,this.form=this.fb.group({note:[null]})}ngAfterViewInit(){}close(){this.dialogRef.close(null)}onAccept(){this.service.aceptCita(this.appointment.id).subscribe(i=>{Ti().fire({position:"top-end",icon:"success",title:"Su cita se acepto, con exito!",showConfirmButton:!1,timer:1500}),this.dialogRef.close({action:"accept",appointment:this.appointment})})}onReject(){this.service.rejectCita(this.appointment.id).subscribe(i=>{Ti().fire({position:"top-end",icon:"success",title:"Su cita se rechazo, con exito!",showConfirmButton:!1,timer:1500}),this.dialogRef.close({action:"reject",appointment:this.appointment})})}control(i){return this.form.controls[i]}}ze.\u0275fac=function(i){return new(i||ze)(n.Y36(me.so),n.Y36(me.WI),n.Y36(Kt.o),n.Y36(Xt.qu))},ze.\u0275cmp=n.Xpm({type:ze,selectors:[["app-preview-confirmation"]],viewQuery:function(i,e){if(1&i&&n.Gf(Ss,5),2&i){let r;n.iGM(r=n.CRH())&&(e.aForm2=r.first)}},decls:56,vars:21,consts:[[1,"preview-sale","p-0","rounded-2xl","bg-card","print:w-auto","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"flex","items-start","justify-between"],[1,"w-full","ml-4","mt-4"],[1,"text-2xl","font-semibold","tracking-tight","leading-6"],[1,"font-medium","tracking-tight","text-secondary"],[1,"p-4","cursor-pointer",3,"click"],["svgIcon","heroicons_outline:x"],["ngNativeValidate","","autocomplete","off",3,"formGroup"],["aForm2",""],[1,"px-4","pb-4","space-y-4"],[1,"px-4","pb-4","space-y-3"],[1,"text-base","font-semibold","mb-2"],[1,"text-sm"],[4,"ngIf"],["class","text-gray-500",4,"ngIf"],[1,"px-4","pb-4","flex","justify-end","gap-3"],["mat-stroked-button","","color","warn","type","button",3,"click"],["mat-flat-button","","color","primary","type","button",3,"click"],[1,"text-gray-500"]],template:function(i,e){1&i&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"div",3),n._uU(5," Previsualizar informaci\xf3n "),n.qZA(),n.TgZ(6,"div",4),n._uU(7," Revisa los datos antes de confirmar "),n.qZA()()(),n.TgZ(8,"div",5),n.NdJ("click",function(){return e.close()}),n._UZ(9,"mat-icon",6),n.qZA()(),n.TgZ(10,"form",7,8)(12,"div",9)(13,"div",10)(14,"h3",11),n._uU(15,"Informaci\xf3n de la cita"),n.qZA(),n.TgZ(16,"div",12)(17,"strong"),n._uU(18,"Paciente:"),n.qZA(),n._uU(19),n.qZA(),n.TgZ(20,"div",12)(21,"strong"),n._uU(22,"Doctor:"),n.qZA(),n._uU(23),n.qZA(),n.TgZ(24,"div",12)(25,"strong"),n._uU(26,"Fecha:"),n.qZA(),n._uU(27),n.ALo(28,"date"),n.qZA(),n.TgZ(29,"div",12)(30,"strong"),n._uU(31,"Hora:"),n.qZA(),n._uU(32),n.ALo(33,"date"),n.qZA(),n.TgZ(34,"div",12)(35,"strong"),n._uU(36,"Motivo:"),n.qZA(),n.YNc(37,Es,2,1,"span",13),n.YNc(38,ks,2,0,"span",14),n.qZA(),n.TgZ(39,"div",12)(40,"strong"),n._uU(41,"Observaciones:"),n.qZA(),n.YNc(42,Ms,2,1,"span",13),n.YNc(43,xs,2,0,"span",14),n.qZA(),n.TgZ(44,"div",12)(45,"strong"),n._uU(46,"Estado:"),n.qZA(),n.YNc(47,Is,2,0,"span",13),n.YNc(48,Os,2,0,"span",13),n.YNc(49,Ps,2,0,"span",13),n.YNc(50,Rs,2,0,"span",13),n.qZA()()(),n.TgZ(51,"div",15)(52,"button",16),n.NdJ("click",function(){return e.onReject()}),n._uU(53," Rechazar "),n.qZA(),n.TgZ(54,"button",17),n.NdJ("click",function(){return e.onAccept()}),n._uU(55," Aceptar "),n.qZA()()()()),2&i&&(n.xp6(10),n.Q6J("formGroup",e.form),n.xp6(9),n.AsE(" ",null==e.patient?null:e.patient.firstName," ",null==e.patient?null:e.patient.lastName," "),n.xp6(4),n.AsE(" ",null==e.doctor?null:e.doctor.firstName," ",null==e.doctor?null:e.doctor.lastName," "),n.xp6(4),n.hij(" ",n.xi3(28,15,null==e.appointment?null:e.appointment.dateQuery,"dd/MM/yyyy")," "),n.xp6(5),n.hij(" ",n.xi3(33,18,null==e.appointment?null:e.appointment.dateQuery,"HH:mm")," "),n.xp6(5),n.Q6J("ngIf",(null==e.appointment?null:e.appointment.motive)&&""!==(null==e.appointment?null:e.appointment.motive.trim())),n.xp6(1),n.Q6J("ngIf",!(null!=e.appointment&&e.appointment.motive)||""===(null==e.appointment?null:e.appointment.motive.trim())),n.xp6(4),n.Q6J("ngIf",null==e.appointment?null:e.appointment.observations),n.xp6(1),n.Q6J("ngIf",!(null!=e.appointment&&e.appointment.observations)),n.xp6(4),n.Q6J("ngIf",0===(null==e.appointment?null:e.appointment.statusId)),n.xp6(1),n.Q6J("ngIf",1===(null==e.appointment?null:e.appointment.statusId)),n.xp6(1),n.Q6J("ngIf",2===(null==e.appointment?null:e.appointment.statusId)),n.xp6(1),n.Q6J("ngIf",3===(null==e.appointment?null:e.appointment.statusId)))},dependencies:[v.O5,Xt.JL,Ts.Hw,Xt.sg,bs.lW,v.uU],styles:['@charset "UTF-8";.mdc-dialog__container[_ngcontent-%COMP%]   .mat-mdc-dialog-surface[_ngcontent-%COMP%]{padding:0!important;background:red}.fw-700[_ngcontent-%COMP%]{color:#000;font-weight:900;font-size:1.4em!important}.size-lg[_ngcontent-%COMP%]{font-size:18px}.background-solid[_ngcontent-%COMP%]{background:#D5D8DC!important}.container-botton[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.add-client[_ngcontent-%COMP%]{background:#5FB960;border-radius:10px;width:50px;height:50px;color:#fff;margin-top:3px;box-shadow:0 4px 6px #00000026}.btn-quantity[_ngcontent-%COMP%]{background:#5FB960;border-radius:10px;width:30px;height:30px;color:#fff;margin-top:3px}.btn-quantity-tab[_ngcontent-%COMP%]{background:#5FB960;border-radius:5px;width:20px;height:20px;color:#fff;margin-top:3px}.icon-btn[_ngcontent-%COMP%]{height:21px;width:21px}.visibility-component[_ngcontent-%COMP%]{display:none}.card-item-xs[_ngcontent-%COMP%]{background:#fff;margin:0 17px;border-radius:10px;padding:10px;box-shadow:0 4px 8px #0000001a,0 6px 10px #00000005!important}.shadow[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000001a,0 6px 10px #00000005!important}.item-product[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 6px #00000026}.card-info[_ngcontent-%COMP%]{background:#b4beca!important;border-radius:11px;height:40px!important;box-shadow:0 4px 6px #0000004d}@media (max-width: 599px){.hidden-component[_ngcontent-%COMP%]{display:none}.visibility-component[_ngcontent-%COMP%]{display:block}.card-product[_ngcontent-%COMP%]{height:100vh}}.card-info[_ngcontent-%COMP%]{background:#a2c747;border-radius:11px;height:55px;box-shadow:0 4px 6px #0000004d}.label-primary[_ngcontent-%COMP%]{display:flex;color:#fff;justify-content:center;align-items:center;height:100%;font-size:20px;font-weight:600}  .swal2-popup{border-radius:30px!important;max-width:80vw!important;width:300px!important}  .confirm-btn{background-color:#a2c747!important;color:#fff!important;border-radius:10px!important;padding:10px 20px!important;font-weight:700!important}  .cancel-btn{background-color:#b4beca!important;color:#fff!important;border-radius:10px!important;padding:10px 20px!important;font-weight:700!important}']});class Te{constructor(i,e){this.service=i,this.dialog=e,this.listAppoint=[],this.events=[],this.viewDate=new Date}ngOnInit(){let i=localStorage.getItem("userLogged"),e=JSON.parse(i);this.getListAppoint(e?.id)}getListAppoint(i){this.service.getListAppoint(i).subscribe({next:e=>{this.listAppoint=e,this.events=this.mapAppointmentsToEvents(e)},error:e=>{console.error("Error al obtener citas:",e)}})}mapAppointmentsToEvents(i){return i.map(e=>{const r=new Date(e.dateQuery);return{start:r,end:new Date(r.getTime()+36e5),title:this.buildTitle(e),color:this.getColorByStatus(e.statusId),meta:{appointment:e}}})}getColorByStatus(i){switch(i){case 1:return{primary:"#1E88E5",secondary:"#BBDEFB"};case 2:return{primary:"#2E7D32",secondary:"#C8E6C9"};case 3:return{primary:"#C62828",secondary:"#FFCDD2"};default:return{primary:"#757575",secondary:"#E0E0E0"}}}buildTitle(i){return`${i.doctor?`${i.doctor.firstName} ${i.doctor.lastName}`:"Sin doctor"} - ${i.motive&&""!==i.motive.trim()?i.motive:"Consulta general"}`}previousWeek(){this.viewDate=Ci(this.viewDate,1)}nextWeek(){this.viewDate=Jt(this.viewDate,1)}onEventClicked(i){console.log("Evento clickeado:",i);const e=i.meta?.appointment;this.dialog.open(ze,{panelClass:"custom-container",maxWidth:"90vw",width:"450px",maxHeight:"85vh",data:{data:e}}).afterClosed().subscribe(o=>{this.ngOnInit()}),e&&console.log("Cita completa:",e)}}Te.\u0275fac=function(i){return new(i||Te)(n.Y36(Kt.o),n.Y36(me.uw))},Te.\u0275cmp=n.Xpm({type:Te,selectors:[["app-gestionary-calendar"]],decls:10,vars:10,consts:[[1,"contenido"],[1,"calendar-nav"],[1,"nav-btn",3,"click"],[1,"current-date"],[3,"viewDate","events","hourSegments","dayStartHour","dayEndHour","hourSegmentHeight","eventClicked"]],template:function(i,e){1&i&&(n.TgZ(0,"div",0)(1,"div",1)(2,"button",2),n.NdJ("click",function(){return e.previousWeek()}),n._uU(3,"\u27e8"),n.qZA(),n.TgZ(4,"div",3),n._uU(5),n.ALo(6,"date"),n.qZA(),n.TgZ(7,"button",2),n.NdJ("click",function(){return e.nextWeek()}),n._uU(8,"\u27e9"),n.qZA()(),n.TgZ(9,"mwl-calendar-week-view",4),n.NdJ("eventClicked",function(o){return e.onEventClicked(o.event)}),n.qZA()()),2&i&&(n.xp6(5),n.hij(" ",n.xi3(6,7,e.viewDate,"EEEE d MMMM yyyy")," "),n.xp6(4),n.Q6J("viewDate",e.viewDate)("events",e.events)("hourSegments",2)("dayStartHour",6)("dayEndHour",20)("hourSegmentHeight",30))},dependencies:[li,v.uU],styles:[".contenido[_ngcontent-%COMP%]{width:100%;padding:20px;margin:8px;border-radius:5px;background:#fff;transition:all .3s ease-in-out;box-shadow:0 0 25px #0000001a}.calendar-nav[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;gap:15px;margin-bottom:15px;margin-top:10px}.nav-btn[_ngcontent-%COMP%]{background:#4285f4;height:50px;width:50px;color:#fff;border:none;padding:8px 14px;border-radius:50%;font-size:18px;font-weight:700;cursor:pointer;transition:.2s;box-shadow:0 2px 5px #0003}.nav-btn[_ngcontent-%COMP%]:hover{background:#2f6cd6}.current-date[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#333;text-transform:capitalize}"]});class We{}We.\u0275fac=function(i){return new(i||We)},We.\u0275cmp=n.Xpm({type:We,selectors:[["app-manage-calendar"]],decls:2,vars:0,template:function(i,e){1&i&&(n.TgZ(0,"p"),n._uU(1,"manage-calendar works!"),n.qZA())}});const B=void 0,Hs=["es",[["a.\xa0m.","p.\xa0m."],B,B],B,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],B,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],B,[["a. C.","d. C."],B,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",B,B,B],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[B,"$"],BRL:[B,"R$"],BYN:[B,"\u0440."],CAD:[B,"$"],CNY:[B,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[B,"\xa3"],HKD:[B,"$"],ILS:[B,"\u20aa"],INR:[B,"\u20b9"],JPY:[B,"\xa5"],KRW:[B,"\u20a9"],MXN:[B,"$"],NZD:[B,"$"],PHP:[B,"\u20b1"],RON:[B,"L"],THB:["\u0e3f"],TWD:[B,"NT$"],USD:["US$","$"],XAF:[],XCD:[B,"$"],XOF:[]},"ltr",function As(t){const i=t,e=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===i?1:0===o&&0!==e&&e%1e6==0&&0===r||!(o>=0&&o<=5)?4:5}],Bs=[{path:"",component:Te},{path:"gestionary",component:Te},{path:"manage",component:We}];(0,v.qS)(Hs);class be{}be.\u0275fac=function(i){return new(i||be)},be.\u0275mod=n.oAB({type:be}),be.\u0275inj=n.cJS({providers:[Kt.o,{provide:n.soG,useValue:"es"}],imports:[v.ez,Gi,Ne.Bz.forChild(Bs),ne.m,me.Is,ae.Y4,Ce.forRoot({provide:N,useFactory:function Ds(){return je(je({},function ls(){return{addDays:Ut,addHours:Oa,addMinutes:Ra,addSeconds:Aa,differenceInDays:La,differenceInMinutes:$a,differenceInSeconds:Ga,endOfDay:Ua,endOfMonth:ja,endOfWeek:Ja,getDay:Ka,getMonth:Xa,isSameDay:Qa,isSameMonth:qa,isSameSecond:es,max:ts,setHours:ns,setMinutes:is,startOfDay:Le,startOfMinute:rs,startOfMonth:os,startOfWeek:wi,getHours:as,getMinutes:ss}}()),{addWeeks:Jt,addMonths:Di,subDays:ds,subWeeks:Ci,subMonths:cs,getISOWeek:ms,setDate:gs,setMonth:vs,setYear:ys,getDate:_s,getYear:ws})}})]})},2365:(Si,Ve,b)=>{b.d(Ve,{b:()=>ne});var n=b(529),v=b(7775),Ne=b(4650);class ne{constructor(ae){this.http=ae,this.baseUri=v.N.production?v.N.apiUrlProd:v.N.apiUrlLocal}getHttpOptions(){const ae=localStorage.getItem("token");return{headers:new n.WM({Authorization:`Bearer ${ae}`})}}}ne.\u0275fac=function(ae){return new(ae||ne)(Ne.LFG(n.eN))},ne.\u0275prov=Ne.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"})}}]);