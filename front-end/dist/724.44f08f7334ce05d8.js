"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[724],{3724:(v,u,i)=>{i.r(u),i.d(u,{OverviewModule:()=>m});var r=i(6895),l=i(7775),t=i(4650),d=i(6234),o=i(8811),c=i(8181),g=i(4006),O=i(7392),n=i(4850),p=i(5830);function x(a,s){if(1&a&&(t.TgZ(0,"div")(1,"div",21)(2,"div",22)(3,"div",23),t._UZ(4,"mat-icon",24),t.qZA()(),t.TgZ(5,"div",25)(6,"div",13)(7,"div")(8,"div",26),t._uU(9),t.qZA(),t.TgZ(10,"div",27),t._uU(11),t.qZA()()()(),t.TgZ(12,"div",28)(13,"div",29),t._uU(14),t.qZA()()()()),2&a){const e=s.$implicit;t.xp6(9),t.Oqu(null==e.product?null:e.product.name),t.xp6(2),t.lnq("",null==e||null==e.unitMeasurenment?null:e.unitMeasurenment.name," x",e.amountOrigin," ------ Precio:",e.price,""),t.xp6(3),t.hij("Bs ",e.subTotal,"")}}const b=function(a){return[a]};function y(a,s){if(1&a&&(t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),t._UZ(4,"img",6),t.qZA()(),t.TgZ(5,"div",7)(6,"div",8)(7,"div")(8,"div",9),t._uU(9),t.qZA()()(),t._UZ(10,"div",10),t.qZA(),t.TgZ(11,"div",4)(12,"div",11)(13,"p")(14,"strong"),t._uU(15,"Estado"),t.qZA(),t._uU(16),t.qZA()()()(),t.TgZ(17,"div",12)(18,"div",7)(19,"div",13)(20,"p")(21,"strong"),t._uU(22,"Cod Venta:"),t.qZA(),t._uU(23),t.qZA(),t.TgZ(24,"p")(25,"strong"),t._uU(26,"Cliente:"),t.qZA(),t._uU(27),t.qZA(),t.TgZ(28,"p")(29,"strong"),t._uU(30,"Vendedor:"),t.qZA(),t._uU(31," Carlos E.."),t.qZA()()(),t.TgZ(32,"div",7)(33,"div",13)(34,"p")(35,"strong"),t._uU(36,"Fecha Venta:"),t.qZA(),t._uU(37),t.ALo(38,"dateFormatHours"),t.qZA(),t.TgZ(39,"p")(40,"strong"),t._uU(41,"Tipo Pago:"),t.qZA(),t._uU(42),t.qZA(),t.TgZ(43,"p")(44,"strong"),t._uU(45,"Monto Total:"),t.qZA(),t._uU(46),t.ALo(47,"number"),t.qZA()()()(),t._UZ(48,"div",14),t.TgZ(49,"div",15),t._UZ(50,"mat-divider",16),t.YNc(51,x,15,5,"div",17),t._UZ(52,"mat-divider"),t.qZA(),t.TgZ(53,"div",18),t._UZ(54,"img",19),t.qZA(),t.TgZ(55,"div",20)(56,"p")(57,"strong"),t._uU(58,"Nota:"),t.qZA(),t._uU(59,"Nota: Esta nota de venta, generada por takysoft.com, es aut\xe9ntica. Escanea el c\xf3digo QR para previsualizar. La adulteraci\xf3n ser\xe1 penada por ley."),t.qZA()(),t._UZ(60,"br"),t.qZA()),2&a){const e=t.oxw();t.xp6(4),t.Q6J("src",t.VKq(16,b,e.logoClient),t.LSH),t.xp6(5),t.hij("Nota de Venta N\xb0 ",null==e.saleOrder?null:e.saleOrder.order," "),t.xp6(7),t.hij(" ",null==e.saleOrder||null==e.saleOrder.saleStatus?null:e.saleOrder.saleStatus.name,""),t.xp6(7),t.hij(" SALE - ",null==e.saleOrder?null:e.saleOrder.id,""),t.xp6(4),t.AsE(" ",null==e.saleOrder||null==e.saleOrder.client?null:e.saleOrder.client.firstName," ",null==e.saleOrder||null==e.saleOrder.client?null:e.saleOrder.client.lastName,""),t.xp6(10),t.hij(" ",t.lcZ(38,11,null==e.saleOrder?null:e.saleOrder.saleDate),""),t.xp6(5),t.hij(" ",null==e.saleOrder?null:e.saleOrder.saleType.name," "),t.xp6(4),t.hij(" ",t.xi3(47,13,null==e.saleOrder?null:e.saleOrder.amountTotal,"1.2-2"),""),t.xp6(5),t.Q6J("ngForOf",null==e.saleOrder?null:e.saleOrder.details),t.xp6(3),t.Q6J("src","data:image/png;base64,"+(null==e.saleOrder?null:e.saleOrder.codeQrLink),t.LSH)}}const _=function(a){return{show:a}};function C(a,s){if(1&a&&(t.TgZ(0,"div",30)(1,"div")(2,"div",31),t._UZ(3,"img",32),t.qZA(),t.TgZ(4,"div",33)(5,"span",34),t._uU(6),t.qZA()()()()),2&a){const e=t.oxw();t.xp6(5),t.Q6J("ngClass",t.VKq(2,_,e.displayText.length===e.text.length)),t.xp6(1),t.Oqu(e.displayText)}}class h{constructor(s,e,f,Z){this.service=s,this.activatedRoute=e,this.serviceConfiguration=f,this.fb=Z,this.amountTotal=0,this.preload=!0,this.pdfObj="https://docs.google.com/viewerng/viewer?url=https://files.elfsight.com/storage/_assets/pdf-embed/files/research.pdf",this.logoClient=l.N.logo,this.titulo="Como Convertir el contenido de un Div a Imagen en Angular 10",this.imgcreada=!1,this.link="https://tu-enlace.com",this.id=0,this.text="\xa1TakySoft, El mejor software para gestion de tu negocio!",this.displayText="",this.index=0,this.saleId=parseInt(this.activatedRoute.snapshot.params.id),this.saleId>0&&this.setData(this.saleId),this.type()}setData(s){this.service.getById(s).subscribe(e=>{this.saleOrder=e,this.amountTotal=e.amountTotal})}close(){}downloadPDFTermic(){this.saleOrder.clientStore=l.N.nameStore,this.saleOrder.codeClient=l.N.codeClient,this.service.generateReportingPdfSaleById(this.saleOrder).subscribe(s=>{let e=new Blob([s],{type:"application/pdf"});var f=URL.createObjectURL(e);window.open(f)},s=>{})}type(){this.index<this.text.length?(this.displayText+=this.text.charAt(this.index),this.index++,setTimeout(()=>this.type(),50)):this.preload=!1}dowloadLeeter(){this.saleOrder.clientStore=l.N.nameStore,this.saleOrder.codeClient=l.N.codeClient,this.service.generateReportingPdfSaleById2().subscribe(s=>{const e=URL.createObjectURL(s);window.open(e,"_blank"),setTimeout(()=>{URL.revokeObjectURL(e)},100)},s=>{console.error("Error al descargar el PDF:",s)})}setImage(s,e){this.serviceConfiguration.sendSaleNoteImageClient(s,this.imagenCreada).subscribe(f=>{})}}h.\u0275fac=function(s){return new(s||h)(t.Y36(d.F),t.Y36(o.gz),t.Y36(c.e),t.Y36(g.qu))},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-overview-find-sale"]],decls:2,vars:2,consts:[["id","contenido","class","overview-sale  p-0 rounded-2xl bg-card print:w-auto print:rounded-none print:shadow-none print:bg-transparent",4,"ngIf"],["class","preload center-items",4,"ngIf"],["id","contenido",1,"overview-sale","p-0","rounded-2xl","bg-card","print:w-auto","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"grid","grid-cols-12"],[1,"col-span-3"],[1,"p-4","flex","flex-col","flex-auto"],[1,"max-w-20",3,"src"],[1,"col-span-6"],[1,"center-item"],[1,"text-2xl","font-semibold","tracking-tight","leading-6"],[1,"flex","center-item"],[1,"flex","flex-col","flex-auto","m-4",2,"justify-self","self-end"],[1,"m-4","grid","grid-cols-12"],[1,"flex","flex-col","flex-auto"],[1,"pl-4"],[1,"mt-2","mb-2","pl-4","pr-4"],[1,"mb-3"],[4,"ngFor","ngForOf"],[1,"center-items",2,"margin","0px 11px"],["alt","",2,"width","125px","height","125px",3,"src"],[1,"m-4","center-items",2,"max-width","500px"],[1,"item-preview","mb-2","grid","grid-cols-1","sm:grid-cols-12","gap-4","w-full","h-full","min-w-0"],[1,"sm:col-span-3","lg:col-span-3"],[1,"background-white","center-items","flex","flex-col","flex-auto","text-center"],["svgIcon","heroicons_outline:shopping-bag"],[1,"sm:col-span-6","lg:col-span-6"],[1,"text-3x2","font-semibold","tracking-tight","leading-6"],[1,"font-medium","tracking-tight","text-secondary"],[1,"sm:col-span-3","lg:col-span-3","pr-3",2,"width","100% !important","text-align","end"],[1,"text-3x2","font-semibold","tracking-tight","leading-6",2,"color","#C0D222"],[1,"preload","center-items"],[1,"center-items"],["src","assets/images/logo/logo-2.png","alt","","srcset","",2,"width","25vw","max-width","350px"],[1,"m4","text-container"],[1,"text",3,"ngClass"]],template:function(s,e){1&s&&(t.YNc(0,y,61,18,"div",0),t.YNc(1,C,7,4,"div",1)),2&s&&(t.Q6J("ngIf",!e.preload),t.xp6(1),t.Q6J("ngIf",e.preload))},dependencies:[r.mk,r.sg,r.O5,O.Hw,n.d,r.JJ,p.L],styles:[".overview-sale[_ngcontent-%COMP%]{background:red;max-width:700px}.box-1[_ngcontent-%COMP%]{background-color:#fff;border-width:20px;border:solid 1px #1e293b;border-radius:5px;padding:10px 1px;margin:5px 17px}.btn-export[_ngcontent-%COMP%]{border-radius:4px;background:#d4d4d4;width:-moz-fit-content;width:fit-content;cursor:pointer;color:#f0f8ff}.btn-whatsapp[_ngcontent-%COMP%]{background:#d4d4d4}.btn-pdf[_ngcontent-%COMP%]{background:#F15642}.btn-excel[_ngcontent-%COMP%]{background:#84BD5A}.fw-700[_ngcontent-%COMP%]{font-weight:700!important}.center-item[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:space-evenly;align-self:center}.backgoud-page[_ngcontent-%COMP%]{background:#F9F9F9}.card-item[_ngcontent-%COMP%]{background-color:#eaeded;border-radius:6px;padding:5px;margin-top:5px;height:70px}.center-items[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.background-white[_ngcontent-%COMP%]{background:white;border-radius:4px;height:100%}.background-green[_ngcontent-%COMP%]{background:#22C55E;border-radius:4px;height:100%}.title[_ngcontent-%COMP%]{font-weight:700;font-size:25px}.label-total[_ngcontent-%COMP%]{display:flex;font-size:20px;margin-top:10px}.footet-text[_ngcontent-%COMP%]{background-image:url(/assets/images/flags/footer-sale-note.png)}.item-preview[_ngcontent-%COMP%]{background:#f2f3f4!important;padding:5px;border-radius:10px}.preload[_ngcontent-%COMP%]{height:100vh;width:100vw}.text-container[_ngcontent-%COMP%]{font-size:2em;overflow:hidden;display:inline-block;border-right:3px solid transparent}.text[_ngcontent-%COMP%]{display:inline-block;transition:opacity .5s ease;opacity:0,5;font-size:10px}.show[_ngcontent-%COMP%]{opacity:1}"]});var U=i(6713);const A=[{path:"",component:h},{path:"sale",component:h},{path:"sale/:id",component:h}];class m{}m.\u0275fac=function(s){return new(s||m)},m.\u0275mod=t.oAB({type:m}),m.\u0275inj=t.cJS({imports:[r.ez,U.m,o.Bz.forChild(A)]})},6234:(v,u,i)=>{i.d(u,{F:()=>g});var r=i(529),l=i(9646),t=i(2365),d=i(4650);const o={headers:new r.WM({"Access-Control-Allow-Origin":"*",Authorization:"authkey",userid:"1"})},c={headers:new r.WM({Authorization:"Bearer EAACgOY6LeWMBANPLSZAQm6ixiweWA25SzybGaUOQf6iBLUMJDtj1ByGaJej1FP1MySZBpyTZABXmngjaOl1alruVqhoMiZCAeFsDcp61Hkg6SrTucgWcSZBuozcqo7DApukjbfWDZALfC4IysDX0qn7M68cQIhK2P7kyy8RjIiDJ79Wbd3aZC3IuALOX3KPEJsMuI6mRojAni6P9xg6Bsau"})};class g extends t.b{constructor(n){super(n)}getListSale(n){return this.http.get(`${this.baseUri}api/sale/list${n}`,this.getHttpOptions())}getListSaleAssistant(n){return this.http.get(`${this.baseUri}api/sale/list/assistant${n}`,this.getHttpOptions())}store(n){return n?.id?this.http.put(`${this.baseUri}api/product/${n.id}`,n,this.getHttpOptions()):this.http.post(`${this.baseUri}api/sale`,n,this.getHttpOptions())}saveQuotation(n){return this.http.post(`${this.baseUri}api/sale/quotation`,n,this.getHttpOptions())}getById(n){return this.http.get(`${this.baseUri}api/sale/${n}`,this.getHttpOptions())}getSaleCreditById(n){return this.http.get(`${this.baseUri}api/sale/credit/`+n)}getSaleStatus(){return(0,l.of)([{id:1,name:"Reservado"},{id:2,name:"Entregado"},{id:3,name:"Pendiente"},{id:4,name:"Con Deuda"},{id:5,name:"Finalizado"}])}lowById(n){return this.http.put(`${this.baseUri}api/product/${n}/low`,{})}sendMessageWhatsApp(n){return this.http.post("https://api.ultramsg.com/instance55483/messages/chat",{token:"im3q0x5rf48k4i8e",to:n.to,body:"HOla Como EStas",priority:10,referenceId:"",msgId:"",mentions:""},c)}getAllSaleByWarehouseAndPettyCash(n,p,x){return this.http.get(`${this.baseUri}api/sale/warehouse/${n}/petty-cash/${p}/list${x}`,this.getHttpOptions())}generateReportingPdfSaleById(n){return this.http.post("https://report.takysoft.com/api/pdf-termic",n,{responseType:"arraybuffer"})}generateReportingPdfSaleById2(){const n={headers:new r.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.get(`${this.baseUri}api/reporting/sales`,n)}generateReportingPdfSaleById3(n){const p={headers:new r.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.get(`${this.baseUri}api/reporting/sale/${n}`,p)}generateReportingPdfSaleByIdLetter(n){const p={headers:new r.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.get(`${this.baseUri}api/reporting/sale/${n}/letter`,p)}getSaleLastDay(){return this.http.get(`${this.baseUri}api/sale/last-day`,o)}savePayment(n,p){return this.http.post(`${this.baseUri}api/sale/credit/${n}`,p,this.getHttpOptions())}saveSaleReject(n){return this.http.put(`${this.baseUri}api/sale/${n}/low`,this.getHttpOptions())}getListEarning(){return this.http.get(`${this.baseUri}api/earning/list`,this.getHttpOptions())}}g.\u0275fac=function(n){return new(n||g)(d.LFG(r.eN))},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})},2365:(v,u,i)=>{i.d(u,{b:()=>d});var r=i(529),l=i(7775),t=i(4650);class d{constructor(c){this.http=c,this.baseUri=l.N.production?l.N.apiUrlProd:l.N.apiUrlLocal}getHttpOptions(){const c=localStorage.getItem("token");return{headers:new r.WM({Authorization:`Bearer ${c}`})}}}d.\u0275fac=function(c){return new(c||d)(t.LFG(r.eN))},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})},5830:(v,u,i)=>{i.d(u,{L:()=>t});var r=i(6895),l=i(4650);class t{transform(o){return o?(o=new r.uU("en-US").transform(o,"dd/MM/yyyy HH:mm")||o)||"":o||""}}t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=l.Yjl({name:"dateFormatHours",type:t,pure:!0})}}]);