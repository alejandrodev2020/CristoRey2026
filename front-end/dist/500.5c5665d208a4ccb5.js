"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[500],{8831:(Z,v,a)=>{a.d(v,{e:()=>u});var l=a(2365),h=a(4650),_=a(529);class u extends l.b{constructor(c){super(c)}getlistPatients(c){return this.http.get(`${this.baseUri}api/patient/list?${c}`,this.getHttpOptions())}store(c){return c?.id?this.http.put(`${this.baseUri}api/patient/${c.id}`,c,this.getHttpOptions()):this.http.post(`${this.baseUri}api/patient`,c,this.getHttpOptions())}getById(c){return this.http.get(`${this.baseUri}api/patient/${c}`,this.getHttpOptions())}lowById(c){return this.http.put(`${this.baseUri}api/patient/${c}/low`,this.getHttpOptions())}getListZone(){return this.http.get(`${this.baseUri}api/client/zone/list`,this.getHttpOptions())}getListClinicHistoryById(c,s){return this.http.get(`${this.baseUri}api/patient/${c}/clinical-history${s}`,this.getHttpOptions())}printReport(c,s){return this.http.get(`${this.baseUri}api/patient/report?PatientId=${c}&DoctorId=${s}`,{...this.getHttpOptions(),responseType:"blob"})}updateCita(c,s){return this.http.put(`${this.baseUri}api/patient/clinical-history/${c}/gestionary`,s,this.getHttpOptions())}}u.\u0275fac=function(c){return new(c||u)(h.LFG(_.eN))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})},6034:(Z,v,a)=>{a.d(v,{$:()=>o});var l=a(529),h=a(7775),_=a(4650);const u={headers:new l.WM({"Access-Control-Allow-Origin":"*",Authorization:"authkey",userid:"1"})};class o{constructor(s){this.http=s,this.baseUri="",this.baseUri=h.N.production?h.N.apiUrlProd:h.N.apiUrlLocal}getAllPettyCash(s){return this.http.get(`${this.baseUri}api/petty-cash/list${s}`,u)}store(s){return s?.id?this.http.put(`${this.baseUri}api/petty-cash/${s.id}`,s):this.http.post(`${this.baseUri}api/petty-cash`,s)}getById(s){return this.http.get(`${this.baseUri}api/petty-cash/`+s)}getBySellerId(s){return this.http.get(`${this.baseUri}api/petty-cash/seller/`+s)}getByWarehouseId(s){return this.http.get(`${this.baseUri}api/petty-cash/warehouse/`+s)}lowById(s){return this.http.put(`${this.baseUri}api/petty-cash/${s}/low`,{})}closePettyCash(s,m){return this.http.put(`${this.baseUri}api/petty-cash/${s}/close`,m)}getMovementsById(s){return this.http.get(`${this.baseUri}api/petty-cash/${s}/movements`)}getReportPettyCashById(s){const m={headers:new l.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.get(`${this.baseUri}api/reporting/petty-cash/${s}/movement`,m)}getReportExcelPettyCashById(s){const m={headers:new l.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.get(`${this.baseUri}api/reporting/excel/petty-cash/${s}/movement`,m)}saveOperators(s){return this.http.post(`${this.baseUri}api/petty-cash/assistant`,s)}getOperatorsByPettyCashId(s){return this.http.get(`${this.baseUri}api/petty-cash/${s}/assistant`)}}o.\u0275fac=function(s){return new(s||o)(_.LFG(l.eN))},o.\u0275prov=_.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})},6771:(Z,v,a)=>{a.d(v,{K:()=>T});var l=a(5412),h=a(5226),_=a.n(h),u=a(7775),o=a(4650),c=a(8831),s=a(4006),m=a(6895),d=a(7392),p=a(4859),y=a(9549),t=a(284),A=a(6709);const I=function(O,C,g){return{"bg-yellow-100 text-yellow-800":O,"bg-green-100 text-green-800":C,"bg-red-100 text-red-800":g}};class T{constructor(C,g,M,w,N){this.dialogRef=C,this.service=g,this.dialog=M,this.fb=N,this.amountTotal=0,this.cita=null,this.logoClient=u.N.logo,this.cita=w,this.saleId=w?.id,this.formCita=this.fb.group({motive:[""],diagnostic:[""],observations:[""],totalCost:[0],wasPaid:[!1]})}ngOnInit(){this.cita&&this.formCita.patchValue({motive:this.cita.motive,diagnostic:this.cita.diagnostic,observations:this.cita.observations,totalCost:this.cita.totalCost,wasPaid:this.cita.wasPaid}),this.saleId>0&&this.setData(this.saleId)}setData(C){}close(){this.dialogRef.close(!1)}updateCita(){this.formCita.invalid||this.service.updateCita(this.cita.id,{motive:this.formCita.value.motive,diagnostic:this.formCita.value.diagnostic,observations:this.formCita.value.observations,totalCost:this.formCita.value.totalCost,wasPaid:this.formCita.value.wasPaid}).subscribe(()=>{_().fire({icon:"success",title:"Cambios guardados",text:"La cita fue actualizada correctamente",showConfirmButton:!1,timer:1500}).then(()=>{this.dialogRef.close(!0)})})}downloadPDFTermic(){this.saleOrder.clientStore=u.N.nameStore,this.saleOrder.codeClient=u.N.codeClient}dowloadTermic(){}dowloadLeeter(){}}T.\u0275fac=function(C){return new(C||T)(o.Y36(l.so),o.Y36(c.e),o.Y36(l.uw),o.Y36(l.WI),o.Y36(s.qu))},T.\u0275cmp=o.Xpm({type:T,selectors:[["app-overview-sale"]],decls:50,vars:9,consts:[["id","contenido",1,"overview-sale","p-0","rounded-2xl","bg-card","print:w-auto","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"grid","grid-cols-12","border-b"],[1,"col-span-3"],[1,"p-4","flex","flex-col","flex-auto"],[1,"max-w-20",3,"src"],[1,"col-span-6"],[1,"center-item"],[1,"text-2xl","font-semibold","tracking-tight","leading-6"],[1,"mt-2","flex","items-center","gap-2"],[1,"text-sm","font-semibold"],[1,"px-3","py-1","rounded-full","text-xs","font-semibold",3,"ngClass"],[1,"flex","flex-col","flex-auto","m-4","items-end"],["svgIcon","heroicons_outline:x",1,"cursor-pointer",3,"click"],[1,"m-6","grid","grid-cols-12","gap-4",3,"formGroup"],[1,"col-span-12"],["appearance","outline",1,"w-full"],["matInput","","rows","2","formControlName","motive"],["matInput","","rows","2","formControlName","diagnostic"],["matInput","","rows","3","formControlName","observations"],["matInput","","type","number","formControlName","totalCost"],[1,"col-span-6","flex","items-center"],["formControlName","wasPaid"],[1,"col-span-12","flex","justify-end","gap-3","mt-6"],["mat-stroked-button","","color","warn","type","button",3,"click"],["mat-flat-button","","color","primary","type","button",3,"click"]],template:function(C,g){1&C&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._UZ(4,"img",4),o.qZA()(),o.TgZ(5,"div",5)(6,"div",6)(7,"div")(8,"div",7),o._uU(9),o.qZA(),o.TgZ(10,"div",8)(11,"span",9),o._uU(12,"Estado:"),o.qZA(),o.TgZ(13,"span",10),o._uU(14),o.qZA()()()()(),o.TgZ(15,"div",2)(16,"div",11)(17,"mat-icon",12),o.NdJ("click",function(){return g.close()}),o.qZA()()()(),o.TgZ(18,"form",13)(19,"div",14)(20,"mat-form-field",15)(21,"mat-label"),o._uU(22,"Motivo"),o.qZA(),o.TgZ(23,"textarea",16),o._uU(24,"        "),o.qZA()()(),o.TgZ(25,"div",14)(26,"mat-form-field",15)(27,"mat-label"),o._uU(28,"Diagn\xf3stico"),o.qZA(),o.TgZ(29,"textarea",17),o._uU(30,"        "),o.qZA()()(),o.TgZ(31,"div",14)(32,"mat-form-field",15)(33,"mat-label"),o._uU(34,"Observaciones"),o.qZA(),o.TgZ(35,"textarea",18),o._uU(36,"        "),o.qZA()()(),o.TgZ(37,"div",5)(38,"mat-form-field",15)(39,"mat-label"),o._uU(40,"Total (Bs.)"),o.qZA(),o._UZ(41,"input",19),o.qZA()(),o.TgZ(42,"div",20)(43,"mat-checkbox",21),o._uU(44," \xbfPagado? "),o.qZA()(),o.TgZ(45,"div",22)(46,"button",23),o.NdJ("click",function(){return g.close()}),o._uU(47," Cancelar "),o.qZA(),o.TgZ(48,"button",24),o.NdJ("click",function(){return g.updateCita()}),o._uU(49," Editar "),o.qZA()()()()),2&C&&(o.xp6(4),o.Q6J("src",g.logoClient,o.LSH),o.xp6(5),o.hij(" Gesti\xf3n de Cita N\xb0 ",null==g.cita?null:g.cita.id," "),o.xp6(4),o.Q6J("ngClass",o.kEZ(5,I,1===(null==g.cita?null:g.cita.statusId),2===(null==g.cita?null:g.cita.statusId),3===(null==g.cita?null:g.cita.statusId))),o.xp6(1),o.hij(" ",1===(null==g.cita?null:g.cita.statusId)?"Pendiente":2===(null==g.cita?null:g.cita.statusId)?"Aceptado":3===(null==g.cita?null:g.cita.statusId)?"Rechazado":"Desconocido"," "),o.xp6(4),o.Q6J("formGroup",g.formCita))},dependencies:[m.mk,s._Y,s.Fj,s.wV,s.JJ,s.JL,d.Hw,s.sg,s.u,p.lW,y.KE,y.hX,t.Nt,A.oG],styles:[".overview-sale[_ngcontent-%COMP%]{background:red;max-width:700px}.box-1[_ngcontent-%COMP%]{background-color:#fff;border-width:20px;border:solid 1px #1e293b;border-radius:5px;padding:10px 1px;margin:5px 17px}.btn-export[_ngcontent-%COMP%]{border-radius:4px;background:#d4d4d4;width:-moz-fit-content;width:fit-content;cursor:pointer;width:100%;color:#f0f8ff}.btn-whatsapp[_ngcontent-%COMP%]{background:#d4d4d4}.btn-pdf[_ngcontent-%COMP%]{background:#F15642}.btn-excel[_ngcontent-%COMP%]{background:#84BD5A}.fw-700[_ngcontent-%COMP%]{font-weight:700!important}.center-item[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:space-evenly;align-self:center}.backgoud-page[_ngcontent-%COMP%]{background:#F9F9F9}.text-amount[_ngcontent-%COMP%]{font-size:17px;font-weight:700}.card-item[_ngcontent-%COMP%]{background-color:#eaeded;border-radius:6px;padding:5px;margin-top:5px;height:70px}.center-items[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.background-white[_ngcontent-%COMP%]{background:white;border-radius:4px;height:100%}.background-green[_ngcontent-%COMP%]{background:#22C55E;border-radius:4px;height:100%}.title[_ngcontent-%COMP%]{font-weight:700;font-size:25px}.label-total[_ngcontent-%COMP%]{display:flex;font-size:20px;margin-top:10px}.footet-text[_ngcontent-%COMP%]{background-image:url(/assets/images/flags/footer-sale-note.png)}.item-preview[_ngcontent-%COMP%]{background:#f2f3f4!important;padding:5px;border-radius:10px}"]})},8500:(Z,v,a)=>{a.r(v),a.d(v,{SaleModule:()=>S});var l=a(6895),h=a(8811),_=a(6713),u=a(6234),o=a(8739),c=a(671),s=a(5226),m=a.n(s),d=a(6771),p=a(3838),y=a(2854),t=a(4650),A=a(5412),I=a(6034),T=a(7392),O=a(8306),C=a(9836),g=a(4859);const M=function(i,n,e,r,f){return{"btn-warning-faam":i,"btn-success-faam":n,"btn-secondary-faam":e,"btn-bad-faam":r,"btn-disabled-faam":f}};class w{set item1(n){this.color=n}set item2(n){this.label=n}set item3(n){this.icon=n}set item4(n){this.withFull=n}set item5(n){this.disabled=n}constructor(){this.color="green",this.label="value",this.icon=null,this.withFull=!1,this.disabled=!1,this.buttonClick=new t.vpe}handleClick(){this.disabled||this.buttonClick.emit()}}w.\u0275fac=function(n){return new(n||w)},w.\u0275cmp=t.Xpm({type:w,selectors:[["btn-actions-whatsapp"]],inputs:{item1:["color","item1"],item2:["label","item2"],item3:["icon","item3"],item4:["withFull","item4"],item5:["disabled","item5"]},outputs:{buttonClick:"buttonClick"},decls:9,vars:11,consts:[["mat-flat-button","","type","button",1,"btn-action",3,"ngClass","disabled","click"],["fill","#fff","height","20px","width","20px","version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 308 308",0,"xml","space","preserve"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["id","XMLID_468_"],["id","XMLID_469_","d","M227.904,176.981c-0.6-0.288-23.054-11.345-27.044-12.781c-1.629-0.585-3.374-1.156-5.23-1.156 c-3.032,0-5.579,1.511-7.563,4.479c-2.243,3.334-9.033,11.271-11.131,13.642c-0.274,0.313-0.648,0.687-0.872,0.687 c-0.201,0-3.676-1.431-4.728-1.888c-24.087-10.463-42.37-35.624-44.877-39.867c-0.358-0.61-0.373-0.887-0.376-0.887 c0.088-0.323,0.898-1.135,1.316-1.554c1.223-1.21,2.548-2.805,3.83-4.348c0.607-0.731,1.215-1.463,1.812-2.153 c1.86-2.164,2.688-3.844,3.648-5.79l0.503-1.011c2.344-4.657,0.342-8.587-0.305-9.856c-0.531-1.062-10.012-23.944-11.02-26.348 c-2.424-5.801-5.627-8.502-10.078-8.502c-0.413,0,0,0-1.732,0.073c-2.109,0.089-13.594,1.601-18.672,4.802 c-5.385,3.395-14.495,14.217-14.495,33.249c0,17.129,10.87,33.302,15.537,39.453c0.116,0.155,0.329,0.47,0.638,0.922 c17.873,26.102,40.154,45.446,62.741,54.469c21.745,8.686,32.042,9.69,37.896,9.69c0.001,0,0.001,0,0.001,0 c2.46,0,4.429-0.193,6.166-0.364l1.102-0.105c7.512-0.666,24.02-9.22,27.775-19.655c2.958-8.219,3.738-17.199,1.77-20.458 C233.168,179.508,230.845,178.393,227.904,176.981z"],["id","XMLID_470_","d","M156.734,0C73.318,0,5.454,67.354,5.454,150.143c0,26.777,7.166,52.988,20.741,75.928L0.212,302.716 c-0.484,1.429-0.124,3.009,0.933,4.085C1.908,307.58,2.943,308,4,308c0.405,0,0.813-0.061,1.211-0.188l79.92-25.396 c21.87,11.685,46.588,17.853,71.604,17.853C240.143,300.27,308,232.923,308,150.143C308,67.354,240.143,0,156.734,0z M156.734,268.994c-23.539,0-46.338-6.797-65.936-19.657c-0.659-0.433-1.424-0.655-2.194-0.655c-0.407,0-0.815,0.062-1.212,0.188 l-40.035,12.726l12.924-38.129c0.418-1.234,0.209-2.595-0.561-3.647c-14.924-20.392-22.813-44.485-22.813-69.677 c0-65.543,53.754-118.867,119.826-118.867c66.064,0,119.812,53.324,119.812,118.867 C276.546,215.678,222.799,268.994,156.734,268.994z"]],template:function(n,e){1&n&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return e.handleClick()}),t.O4$(),t.TgZ(1,"svg",1),t._UZ(2,"g",2)(3,"g",3),t.TgZ(4,"g",4)(5,"g",5),t._UZ(6,"path",6)(7,"path",7),t.qZA()()(),t._uU(8),t.qZA()),2&n&&(t.ekj("w-full",!0===e.withFull),t.Q6J("ngClass",t.qbA(5,M,"orange"===e.color,"green"===e.color,"secondary"===e.color,"black"===e.color,e.disabled))("disabled",e.disabled),t.xp6(8),t.hij(" ",e.label,"\n"))},dependencies:[l.mk,g.lW],styles:[".btn-action[_ngcontent-%COMP%]{height:30px!important;min-height:30px!important;border-radius:10px!important;color:#fff!important;display:ruby-text!important;cursor:pointer!important;padding-left:9px!important;padding-right:9px!important;box-shadow:0 4px 6px #0003}.btn-warning-faam[_ngcontent-%COMP%]{background:#F39C12!important}.btn-success-faam[_ngcontent-%COMP%]{background:#25D366!important}.btn-bad-faam[_ngcontent-%COMP%]{background:#1e293b!important}.btn-secondary-faam[_ngcontent-%COMP%]{background:#b4beca!important}.btn-disabled-faam[_ngcontent-%COMP%]{background:#D3D3D3!important;color:#1e293b!important;cursor:not-allowed}"]});const N=function(i,n,e,r,f){return{"btn-warning-faam":i,"btn-success-faam":n,"btn-secondary-faam":e,"btn-bad-faam":r,"btn-disabled-faam":f}};class k{set item1(n){this.color=n}set item2(n){this.label=n}set item3(n){this.icon=n}set item4(n){this.withFull=n}set item5(n){this.disabled=n}constructor(){this.color="green",this.label="value",this.icon=null,this.withFull=!1,this.disabled=!1,this.buttonClick=new t.vpe}handleClick(){this.disabled||this.buttonClick.emit()}}k.\u0275fac=function(n){return new(n||k)},k.\u0275cmp=t.Xpm({type:k,selectors:[["btn-actions-pdf"]],inputs:{item1:["color","item1"],item2:["label","item2"],item3:["icon","item3"],item4:["withFull","item4"],item5:["disabled","item5"]},outputs:{buttonClick:"buttonClick"},decls:13,vars:11,consts:[["mat-flat-button","","type","button",1,"btn-action",3,"ngClass","disabled","click"],["height","20px","width","20px","version","1.1","id","_x32_","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 512 512",0,"xml","space","preserve","fill","#fff","stroke","#fff"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["type","text/css"],["d","M347.746,346.204c-8.398-0.505-28.589,0.691-48.81,4.533c-11.697-11.839-21.826-26.753-29.34-39.053 c24.078-69.232,8.829-88.91-11.697-88.91c-16.119,0-24.167,17.011-22.376,35.805c0.906,9.461,8.918,29.34,18.78,48.223 c-6.05,15.912-16.847,42.806-27.564,62.269c-12.545,3.812-23.305,8.048-31.027,11.622c-38.465,17.888-41.556,41.773-33.552,51.894 c15.197,19.226,47.576,2.638,80.066-55.468c22.243-6.325,51.508-14.752,54.146-14.752c0.304,0,0.721,0.097,1.204,0.253 c16.215,14.298,35.366,30.67,51.128,32.825c22.808,3.136,35.791-13.406,34.891-23.692 C382.703,361.461,376.691,347.942,347.746,346.204z M203.761,408.88c-9.401,11.178-24.606,21.9-29.972,18.334 c-5.373-3.574-6.265-13.86,5.819-25.497c12.076-11.623,32.29-17.657,35.329-18.787c3.59-1.337,4.482,0,4.482,1.791 C219.419,386.512,213.154,397.689,203.761,408.88z M244.923,258.571c-0.899-11.192,1.33-21.922,10.731-23.26 c9.386-1.352,13.868,9.386,10.292,26.828c-3.582,17.464-5.38,29.08-7.164,30.44c-1.79,1.338-3.567-3.144-3.567-3.144 C251.627,282.27,245.815,269.748,244.923,258.571z M248.505,363.697c4.912-8.064,17.442-40.702,17.442-40.702 c2.683,4.926,23.699,29.956,23.699,29.956S257.438,360.123,248.505,363.697z M345.999,377.995 c-13.414-1.768-36.221-17.895-36.221-17.895c-3.128-1.337,24.992-5.157,35.79-4.466c13.875,0.9,18.794,6.718,18.794,12.53 C364.362,373.982,359.443,379.787,345.999,377.995z",1,"st0"],["d","M461.336,107.66l-98.34-98.348L353.683,0H340.5H139.946C92.593,0,54.069,38.532,54.069,85.901v6.57H41.353 v102.733h12.716v230.904c0,47.361,38.525,85.893,85.878,85.893h244.808c47.368,0,85.893-38.532,85.893-85.893V130.155v-13.176 L461.336,107.66z M384.754,480.193H139.946c-29.875,0-54.086-24.212-54.086-54.086V195.203h157.31V92.47H85.86v-6.57 c0-29.882,24.211-54.102,54.086-54.102H332.89v60.894c0,24.888,20.191,45.065,45.079,45.065h60.886v288.349 C438.855,455.982,414.636,480.193,384.754,480.193z M88.09,166.086v-47.554c0-0.839,0.683-1.524,1.524-1.524h15.108 c2.49,0,4.786,0.409,6.837,1.212c2.029,0.795,3.812,1.91,5.299,3.322c1.501,1.419,2.653,3.144,3.433,5.121 c0.78,1.939,1.182,4.058,1.182,6.294c0,2.282-0.402,4.414-1.19,6.332c-0.78,1.918-1.932,3.619-3.418,5.054 c-1.479,1.427-3.27,2.549-5.321,3.329c-2.036,0.78-4.332,1.174-6.822,1.174h-6.376v17.241c0,0.84-0.683,1.523-1.523,1.523h-7.208 C88.773,167.61,88.09,166.926,88.09,166.086z M134.685,166.086v-47.554c0-0.839,0.684-1.524,1.524-1.524h16.698 c3.173,0,5.968,0.528,8.324,1.568c2.386,1.062,4.518,2.75,6.347,5.009c0.944,1.189,1.694,2.504,2.236,3.916 c0.528,1.375,0.929,2.862,1.189,4.407c0.253,1.531,0.401,3.181,0.453,4.957c0.045,1.694,0.067,3.515,0.067,5.447 c0,1.924-0.022,3.746-0.067,5.44c-0.052,1.769-0.2,3.426-0.453,4.964c-0.26,1.546-0.661,3.025-1.189,4.399 c-0.55,1.427-1.3,2.743-2.23,3.909c-1.842,2.282-3.976,3.969-6.354,5.016c-2.334,1.04-5.135,1.568-8.324,1.568h-16.698 C135.368,167.61,134.685,166.926,134.685,166.086z M214.269,137.981c0.84,0,1.523,0.684,1.523,1.524v6.48 c0,0.84-0.683,1.524-1.523,1.524h-18.244v18.579c0,0.84-0.684,1.523-1.524,1.523h-7.209c-0.84,0-1.523-0.683-1.523-1.523v-47.554 c0-0.839,0.683-1.524,1.523-1.524h27.653c0.839,0,1.524,0.684,1.524,1.524v6.48c0,0.84-0.684,1.524-1.524,1.524h-18.92v11.444 H214.269z",1,"st0"],["d","M109.418,137.706c1.212-1.092,1.798-2.645,1.798-4.749c0-2.096-0.587-3.649-1.798-4.741 c-1.263-1.13-2.928-1.68-5.098-1.68h-5.975v12.848h5.975C106.489,139.385,108.155,138.836,109.418,137.706z",1,"st0"],["d","M156.139,157.481c1.13-0.424,2.103-1.107,2.973-2.088c0.944-1.055,1.538-2.571,1.769-4.511 c0.26-2.208,0.386-5.091,0.386-8.569c0-3.485-0.126-6.369-0.386-8.569c-0.231-1.946-0.825-3.462-1.762-4.51 c-0.869-0.982-1.873-1.679-2.972-2.089c-1.182-0.453-2.534-0.676-4.042-0.676h-7.164v31.68h7.164 C153.605,158.15,154.965,157.927,156.139,157.481z",1,"st0"]],template:function(n,e){1&n&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return e.handleClick()}),t.O4$(),t.TgZ(1,"svg",1),t._UZ(2,"g",2)(3,"g",3),t.TgZ(4,"g",4)(5,"style",5),t._uU(6," .st0{fill:#fff;} "),t.qZA(),t.TgZ(7,"g"),t._UZ(8,"path",6)(9,"path",7)(10,"path",8)(11,"path",9),t.qZA()()(),t._uU(12),t.qZA()),2&n&&(t.ekj("w-full",!0===e.withFull),t.Q6J("ngClass",t.qbA(5,N,"orange"===e.color,"green"===e.color,"secondary"===e.color,"black"===e.color,e.disabled))("disabled",e.disabled),t.xp6(12),t.hij(" ",e.label,"\n"))},dependencies:[l.mk,g.lW],styles:[".btn-action[_ngcontent-%COMP%]{height:30px!important;min-height:30px!important;border-radius:10px!important;color:#fff!important;display:ruby-text!important;cursor:pointer!important;padding-left:9px!important;padding-right:9px!important;box-shadow:0 4px 6px #0003}.btn-warning-faam[_ngcontent-%COMP%]{background:#F39C12!important}.btn-success-faam[_ngcontent-%COMP%]{background:#b4beca!important}.btn-bad-faam[_ngcontent-%COMP%]{background:#1e293b!important}.btn-secondary-faam[_ngcontent-%COMP%]{background:#b4beca!important}.btn-disabled-faam[_ngcontent-%COMP%]{background:#D3D3D3!important;color:#1e293b!important;cursor:not-allowed}"]});var J=a(8675),G=a(4004),P=a(4006),B=a(8905),W=a(4719),Y=a(6628),$=a(1443),D=a(9549),Q=a(284),R=a(4385),j=a(3238),q=a(4850),L=a(7957),F=a(9602);function H(i,n){if(1&i&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.AsE(" ",e.firstName," ",e.lastName," ")}}function K(i,n){if(1&i&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}class E{constructor(n,e,r,f,b,x){this.fb=n,this.pipeDate=e,this.serviceClient=r,this.serviceWarehouse=f,this.toastService=b,this.serviceSale=x,this.listWarehouse=[],this.listSaleStatus=[],this.options=[],this.change=new t.vpe,this.form=this.fb.group({myControl:[null],clientId:[null],name:[null],warehouseId:[null],typeId:[null],dateInit:[null],dateEnd:[null]}),this.filteredOptions=this.form.get("myControl").valueChanges.pipe((0,J.O)(""),(0,G.U)(Jt=>this._filter(Jt||""))),this.setListWarehouse(),this.setListStatus(),this.setClient()}control(n){return this.form.controls[n]}setListWarehouse(){this.serviceWarehouse.getAllWarehouse().subscribe(n=>{this.listWarehouse=n})}setListStatus(){this.serviceSale.getSaleStatus().subscribe(n=>{this.listSaleStatus=n})}setClient(){this.serviceClient.getAllClient().subscribe(n=>{this.options=n})}_filter(n){const e=(n=n?.firstName?n?.firstName:n).toLowerCase();return this.options.filter(r=>r.firstName.toLowerCase().includes(e))}onSelectionChange(n){this.form.get("myControl").setValue(n?.option?.value?.firstName+" "+n?.option?.value?.lastName),this.form.get("clientId").setValue(n?.option?.value?.id)}save(){if(Object.values(this.form.value).every(e=>null===e))this.toastService.show("\xa1No hay criterio de busqueda!",3e3);else{const e=this.form.value;let r="&";null!=e.dateInit&&null!=e.dateEnd&&(r+="&DateInit="+this.pipeDate.transform(e.dateInit,"YYYY-MM-dd"),r+="&DateEnd="+this.pipeDate.transform(e.dateEnd,"YYYY-MM-dd")),null!=e.warehouseId&&(r+=(r.length>1?"&":"")+"WarehouseId="+e.warehouseId),null!=e.typeId&&(r+=(r.length>1?"&":"")+"TypeId="+e.typeId),null!=e.name&&(r+=(r.length>1?"&":"")+"Name="+e.name),null!=e.clientId&&(r+=(r.length>1?"&":"")+"ClientId="+e.clientId),this.change.emit(r)}}clean(){this.form.get("name").setValue(null),this.form.get("warehouseId").setValue(null),this.form.get("typeId").setValue(null),this.form.get("dateInit").setValue(null),this.form.get("dateEnd").setValue(null),this.form.get("clientId").setValue(null),this.form.get("myControl").setValue(null),this.change.emit("")}}E.\u0275fac=function(n){return new(n||E)(t.Y36(P.qu),t.Y36(B.E),t.Y36(W.y),t.Y36(Y.l),t.Y36($.k),t.Y36(u.F))},E.\u0275cmp=t.Xpm({type:E,selectors:[["sale-filter"]],outputs:{change:"emitQuery"},decls:58,vars:26,consts:[["ngNativeValidate","","autocomplete","off",3,"formGroup"],[1,"grid","grid-cols-2","xs:grid-cols-2","sm:grid-cols-12","w-full","min-w-0"],[1,"col-span-2","sm:col-span-6"],[1,"flex","flex-col","flex-auto"],["appearance","fill",1,"w-full","pr-3"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["type","text","placeholder","Nombre Cliente..","aria-label","Number","matInput","",1,"w-full",3,"formControl","matAutocomplete"],["autoActiveFirstOption","","required","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-1","sm:col-span-3"],[1,"w-full","pr-3"],[3,"formControl"],["value","1"],["value","2"],["color","accent",1,"w-full","pr-3"],["matInput","",3,"formControl","matDatepicker"],["matIconSuffix","",3,"for"],["picker1",""],["color","primary"],["picker2",""],[1,"col-span-2","mt-6","mb-3","sm:col-span-6","sm:mt-6","sm:mt-0"],[1,"flex","w-full","center-container"],[1,"px-6","ml-3",3,"color","label","icon","withFull","disabled","buttonClick"],[3,"value"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"mat-divider")(2,"br"),t.TgZ(3,"form",0)(4,"div",1)(5,"div",2)(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),t._uU(9,"Cliente:"),t.qZA(),t._UZ(10,"mat-icon",5)(11,"input",6),t.TgZ(12,"mat-autocomplete",7,8),t.NdJ("optionSelected",function(f){return e.onSelectionChange(f)}),t.YNc(14,H,2,3,"mat-option",9),t.ALo(15,"async"),t.qZA()()()(),t.TgZ(16,"div",10)(17,"div",3)(18,"mat-form-field",11)(19,"mat-label"),t._uU(20,"Almacen:"),t.qZA(),t.TgZ(21,"mat-select",12),t.YNc(22,K,2,2,"mat-option",9),t.qZA()()()(),t.TgZ(23,"div",10)(24,"div",3)(25,"mat-form-field",11)(26,"mat-label"),t._uU(27,"Tipo Venta"),t.qZA(),t.TgZ(28,"mat-select",12)(29,"mat-option",13),t._uU(30,"Contado"),t.qZA(),t.TgZ(31,"mat-option",14),t._uU(32,"Credito"),t.qZA()()()()()(),t.TgZ(33,"div",1)(34,"div",10)(35,"div",3)(36,"mat-form-field",15)(37,"mat-label"),t._uU(38,"Fecha Inicio:"),t.qZA(),t._UZ(39,"input",16)(40,"mat-datepicker-toggle",17)(41,"mat-datepicker",null,18),t.qZA()()(),t.TgZ(43,"div",10)(44,"div",3)(45,"mat-form-field",15)(46,"mat-label"),t._uU(47,"Fecha Fin:"),t.qZA(),t._UZ(48,"input",16)(49,"mat-datepicker-toggle",17)(50,"mat-datepicker",19,20),t.qZA()()(),t.TgZ(52,"div",21)(53,"div",3)(54,"div",22)(55,"btn-generic",23),t.NdJ("buttonClick",function(){return e.save()}),t.qZA(),t.TgZ(56,"btn-generic",23),t.NdJ("buttonClick",function(){return e.clean()}),t.qZA()()()()(),t._UZ(57,"mat-divider"),t.qZA()()),2&n){const r=t.MAs(13),f=t.MAs(42),b=t.MAs(51);t.xp6(3),t.Q6J("formGroup",e.form),t.xp6(7),t.Q6J("svgIcon","heroicons_solid:user-circle"),t.xp6(1),t.Q6J("formControl",e.control("myControl"))("matAutocomplete",r),t.xp6(3),t.Q6J("ngForOf",t.lcZ(15,24,e.filteredOptions)),t.xp6(7),t.Q6J("formControl",e.control("warehouseId")),t.xp6(1),t.Q6J("ngForOf",e.listWarehouse),t.xp6(6),t.Q6J("formControl",e.control("typeId")),t.xp6(11),t.Q6J("formControl",e.control("dateInit"))("matDatepicker",f),t.xp6(1),t.Q6J("for",f),t.xp6(8),t.Q6J("formControl",e.control("dateEnd"))("matDatepicker",b),t.xp6(1),t.Q6J("for",b),t.xp6(6),t.Q6J("color","green")("label","filtrar")("icon","filter_list")("withFull",!1)("disabled",!1),t.xp6(1),t.Q6J("color","secondary")("label","Limpiar")("icon","clear_all")("withFull",!1)("disabled",!1)}},dependencies:[l.sg,P.Fj,P.JJ,P.JL,T.Hw,P.oH,P.sg,D.KE,D.hX,D.qo,D.R9,Q.Nt,R.gD,j.ey,q.d,L.XC,L.ZL,F.Mq,F.hl,F.nW,O.e,l.Ov],styles:[".center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]});var z=a(5830);function V(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"sale-filter",30),t.NdJ("emitQuery",function(f){t.CHM(e);const b=t.oxw();return t.KtG(b.senfilter(f))}),t.qZA()()}}function X(i,n){1&i&&(t.TgZ(0,"th",31),t._uU(1," Orden "),t.qZA())}function tt(i,n){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.id," ")}}function et(i,n){1&i&&(t.TgZ(0,"th",31),t._uU(1," Sucursal "),t.qZA())}function nt(i,n){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",null==e||null==e.warehouse?null:e.warehouse.name," ")}}function it(i,n){1&i&&(t.TgZ(0,"th",31),t._uU(1," Cliente "),t.qZA())}function ot(i,n){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.AsE(" ",null==e||null==e.client?null:e.client.firstName," ",null==e||null==e.client?null:e.client.lastName," ")}}function at(i,n){1&i&&(t.TgZ(0,"th",31),t._uU(1," Fecha "),t.qZA())}function lt(i,n){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"dateFormatHours"),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,null==e?null:e.saleDate)," ")}}function st(i,n){1&i&&(t.TgZ(0,"th",31),t._uU(1," Monto Total "),t.qZA())}function rt(i,n){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" Bs. ",t.xi3(2,1,null==e?null:e.amountTotal,"1.2-2")," ")}}function ct(i,n){1&i&&(t.TgZ(0,"th",31),t._uU(1," Tipo de Venta "),t.qZA())}function dt(i,n){if(1&i&&(t.TgZ(0,"div",36),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e||null==e.saleType?null:e.saleType.name," ")}}function pt(i,n){if(1&i&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e||null==e.saleType?null:e.saleType.name," ")}}function mt(i,n){if(1&i&&(t.TgZ(0,"div",38),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e||null==e.saleType?null:e.saleType.name," ")}}function ut(i,n){if(1&i&&(t.TgZ(0,"td",32),t.YNc(1,dt,2,1,"div",33),t.YNc(2,pt,2,1,"div",34),t.YNc(3,mt,2,1,"div",35),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",1===e.saleType.id),t.xp6(1),t.Q6J("ngIf",2===e.saleType.id),t.xp6(1),t.Q6J("ngIf",3===e.saleType.id)}}function gt(i,n){1&i&&(t.TgZ(0,"th",31),t._uU(1," Pago "),t.qZA())}function ft(i,n){1&i&&t._UZ(0,"img",43)}function ht(i,n){1&i&&t._UZ(0,"img",44)}function _t(i,n){1&i&&t._UZ(0,"img",45)}function bt(i,n){1&i&&t._UZ(0,"img",46)}function vt(i,n){if(1&i&&(t.TgZ(0,"td",32),t.YNc(1,ft,1,0,"img",39),t.YNc(2,ht,1,0,"img",40),t.YNc(3,_t,1,0,"img",41),t.YNc(4,bt,1,0,"img",42),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",1===(null==e||null==e.paymentType?null:e.paymentType.id)),t.xp6(1),t.Q6J("ngIf",2===(null==e||null==e.paymentType?null:e.paymentType.id)),t.xp6(1),t.Q6J("ngIf",3===(null==e||null==e.paymentType?null:e.paymentType.id)),t.xp6(1),t.Q6J("ngIf",4===(null==e||null==e.paymentType?null:e.paymentType.id))}}function Ct(i,n){1&i&&(t.TgZ(0,"th",31),t._uU(1," Estado "),t.qZA())}function xt(i,n){if(1&i&&(t.TgZ(0,"div",36),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e||null==e.saleStatus?null:e.saleStatus.name," ")}}function yt(i,n){if(1&i&&(t.TgZ(0,"div",48),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e||null==e.saleStatus?null:e.saleStatus.name," ")}}function Tt(i,n){if(1&i&&(t.TgZ(0,"td",32),t.YNc(1,xt,2,1,"div",33),t.YNc(2,yt,2,1,"div",47),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",2===(null==e||null==e.saleStatus?null:e.saleStatus.id)),t.xp6(1),t.Q6J("ngIf",5===(null==e||null==e.saleStatus?null:e.saleStatus.id))}}function wt(i,n){1&i&&(t.TgZ(0,"th",31),t._uU(1," Acciones "),t.qZA())}function Zt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",32)(1,"mat-icon",49),t.NdJ("click",function(){const b=t.CHM(e).$implicit,x=t.oxw();return t.KtG(x.overView(b))}),t._uU(2,"visibility"),t.qZA(),t.TgZ(3,"mat-icon",49),t.NdJ("click",function(){const b=t.CHM(e).$implicit,x=t.oxw();return t.KtG(x.lowWarehouse(b))}),t._uU(4,"delete_forever"),t.qZA()()}}function At(i,n){1&i&&t._UZ(0,"tr",50)}function Ot(i,n){1&i&&t._UZ(0,"tr",51)}function Mt(i,n){if(1&i&&(t.TgZ(0,"div",80),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e||null==e.saleStatus?null:e.saleStatus.name," ")}}function Pt(i,n){if(1&i&&(t.TgZ(0,"div",81),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e||null==e.saleStatus?null:e.saleStatus.name," ")}}function Ut(i,n){if(1&i&&(t.TgZ(0,"div",82),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e?null:e.saleType.name," ")}}function St(i,n){if(1&i&&(t.TgZ(0,"div",83),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e?null:e.saleType.name," ")}}function It(i,n){1&i&&(t.TgZ(0,"div",84)(1,"div",85),t._uU(2," Cancelado "),t.qZA()())}function kt(i,n){1&i&&(t.TgZ(0,"div",84)(1,"div",86),t._uU(2," Vendido "),t.qZA()())}function Et(i,n){1&i&&t._UZ(0,"img",43)}function Dt(i,n){1&i&&t._UZ(0,"img",44)}function Nt(i,n){1&i&&t._UZ(0,"img",45)}function Ft(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",52)(2,"div",53)(3,"div",54)(4,"div",55)(5,"p")(6,"strong"),t._uU(7),t.qZA()()()(),t._UZ(8,"div",54),t.TgZ(9,"div",56)(10,"div",55)(11,"p")(12,"strong"),t._uU(13,"Fecha: "),t.qZA(),t._uU(14),t.ALo(15,"dateFormatHours"),t.qZA()()()(),t.TgZ(16,"div",57)(17,"div",58)(18,"div",55),t.YNc(19,Mt,2,1,"div",59),t.YNc(20,Pt,2,1,"div",60),t.qZA()(),t._UZ(21,"div",54),t.TgZ(22,"div",61)(23,"div",62),t.YNc(24,Ut,2,1,"div",63),t.YNc(25,St,2,1,"div",64),t.qZA()(),t.TgZ(26,"div",61)(27,"div",65),t.YNc(28,It,3,0,"div",66),t.YNc(29,kt,3,0,"div",66),t.qZA()()(),t.TgZ(30,"div",53)(31,"div",67)(32,"div",55)(33,"p"),t._uU(34),t.qZA()()(),t.TgZ(35,"div",61),t._UZ(36,"div",55),t.qZA()(),t.TgZ(37,"div",68)(38,"div",69)(39,"div",55)(40,"p",70),t._uU(41),t.ALo(42,"number"),t.qZA(),t.TgZ(43,"p",71)(44,"strong"),t._uU(45," Monto Total"),t.qZA()()()(),t.TgZ(46,"div",72),t._UZ(47,"div",73),t.qZA(),t.TgZ(48,"div",69)(49,"div",55)(50,"div",74),t.YNc(51,Et,1,0,"img",39),t.YNc(52,Dt,1,0,"img",40),t.YNc(53,Nt,1,0,"img",41),t.qZA(),t.TgZ(54,"p",71)(55,"strong"),t._uU(56," Tipo Pago"),t.qZA()()()()(),t.TgZ(57,"div",75)(58,"div",76)(59,"div",77)(60,"btn-actions",78),t.NdJ("buttonClick",function(){const b=t.CHM(e).$implicit,x=t.oxw();return t.KtG(x.overView(b))}),t.qZA(),t.TgZ(61,"btn-actions-pdf",78),t.NdJ("buttonClick",function(){const b=t.CHM(e).$implicit,x=t.oxw();return t.KtG(x.dowloadTermic(b))}),t.qZA(),t.TgZ(62,"btn-actions-whatsapp",79),t.NdJ("buttonClick",function(){const b=t.CHM(e).$implicit,x=t.oxw();return t.KtG(x.SendMessageWhatsApp(b))}),t.qZA()()(),t.TgZ(63,"div",54),t._UZ(64,"div",55),t.qZA()()()()}if(2&i){const e=n.$implicit;t.xp6(7),t.hij(" N\xb0 ",null==e?null:e.id," "),t.xp6(7),t.hij(" ",t.lcZ(15,28,null==e?null:e.saleDate)," "),t.xp6(5),t.Q6J("ngIf",1===e.saleStatus.id),t.xp6(1),t.Q6J("ngIf",2===e.saleStatus.id),t.xp6(4),t.Q6J("ngIf",1===(null==e?null:e.saleType.id)),t.xp6(1),t.Q6J("ngIf",2===(null==e?null:e.saleType.id)),t.xp6(3),t.Q6J("ngIf",!e.isActive),t.xp6(1),t.Q6J("ngIf",e.isActive),t.xp6(5),t.AsE("",null==e?null:e.client.firstName," ",null==e?null:e.client.lastName," "),t.xp6(7),t.hij(" Bs. ",t.xi3(42,30,e.amountTotal,"1.0-2")," "),t.xp6(10),t.Q6J("ngIf",1===(null==e?null:e.paymentType.id)),t.xp6(1),t.Q6J("ngIf",2===(null==e?null:e.paymentType.id)),t.xp6(1),t.Q6J("ngIf",3===(null==e?null:e.paymentType.id)),t.xp6(7),t.Q6J("color","green")("label","Ver")("icon","visibility")("withFull",!0)("disabled",!1),t.xp6(1),t.Q6J("color","green")("label","imprimir")("icon","print")("withFull",!0)("disabled",!1),t.xp6(1),t.Q6J("color","green")("label","Enviar")("withFull",!0)("disabled",!1)}}const Bt=[];class U{constructor(n,e,r,f){this.service=n,this.router=e,this.dialog=r,this.servicePettyCash=f,this.displayedColumns=["order","client","saleDate","amountTotal","saleType","paymentType","isActive","acciones"],this.dataSource=new c.by(Bt),this.dataValue=[],this.data=[],this.screenWidth=0,this.isPhone=!1,this.isFilterVisible=!1,this.isAdmin=!1,this.listOptionsPage=[5,10,20,50,100],this.totalLength=400,this.page=0,this.limit=10,this.queryFilter="",this.objComplete=null,this.listWarehouse=[],this.columns=[],this.actions=[]}applyFilter(n){n=(n=n.trim()).toLowerCase(),this.dataSource.filter=n}ngAfterViewInit(){}ngOnInit(){let n=localStorage.getItem("role"),e=localStorage.getItem("userLogged"),r=JSON.parse(n);JSON.parse(e),this.screenWidth=window.innerWidth,this.isPhone=this.screenWidth<=599,r.id==p.H.admin&&(this.isAdmin=!0,this.displayedColumns.splice(1,0,"warehouse"),this.getSale(this.CurrentPaginator)),this.columns=[{prop:"Id",value:"id"},{prop:"Nombre",value:"name"},{prop:"Descripci\xf3n",value:"Description"},{prop:"Ubicaci\xf3n",value:"ubication"}],this.actions=["Ver","Editar","Eliminar"]}getSale(n){this.isAdmin?this.service.getListSale(n).subscribe(e=>{this.dataSource.data=e.listSale,this.data=e.listSale,this.objComplete=e,this.totalLength=e.total}):this.service.getAllSaleByWarehouseAndPettyCash(this.warehouseId,this.PettyCashId,n).subscribe(e=>{this.dataSource.data=e.listSale,this.data=e.listSale,this.objComplete=e,this.totalLength=e.total})}senfilter(n){this.resetPaginator(),this.queryFilter=n,this.getSale(this.CurrentPaginator+n)}resetPaginator(){this.page=0,this.limit=10}pageEvent(n){this.limit=n.pageSize,this.page=n.pageIndex,this.getSale(this.CurrentPaginator+this.queryFilter)}get CurrentPaginator(){return`?Limit=${this.limit}&Page=${this.page}`}createNew(){this.router.navigate(["sale/sale/store"])}update(n){this.router.navigate(["sale/sale/store/"+n.id])}overView(n){this.dialog.open(d.K,{panelClass:"custom-container",maxWidth:"90vw",width:"450px",maxHeight:"85vh",data:{id:n.id}}).afterClosed().subscribe(r=>{})}toggleFilter(){this.isFilterVisible=!this.isFilterVisible}lowWarehouse(n){m().fire({title:"Seguro que quiere dar de baja?",text:"Recuerda que no estas eliminando permanentemente!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, dar de Baja!"}).then(e=>{e.isConfirmed&&this.service.saveSaleReject(n.id).subscribe(r=>{this.ngOnInit(),m().fire("Baja Exitosa!","Su Almacen se dio de baja exitosamente.","success")})})}dowloadTermic(n){this.service.generateReportingPdfSaleById3(n?.id).subscribe(e=>{const r=URL.createObjectURL(e);window.open(r,"_blank"),setTimeout(()=>{URL.revokeObjectURL(r)},100)},e=>{console.error("Error al descargar el PDF:",e)})}SendMessageWhatsApp(n){let e=n?.client?.phone&&8===n.client.phone.length;null!=e||e||m().fire({title:"Ingrese el numero destino",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonText:"Enviar",showLoaderOnConfirm:!0,preConfirm:r=>(m().close(),this.dialog.open(y.y,{autoFocus:!1,maxHeight:"90vh",maxWidth:"90vw",width:"450px",data:{order:n,phone:r}}).afterClosed().subscribe(b=>{b?m().fire({position:"top-end",icon:"success",title:"Se Envi\xf3 el comprobante Exitosamente",showConfirmButton:!1,timer:1500}):m().fire({icon:"error",title:"Oops...",text:"Ocurrio un error al enviar"})}),!1),allowOutsideClick:()=>!m().isLoading()}).then(r=>{})}}U.\u0275fac=function(n){return new(n||U)(t.Y36(u.F),t.Y36(h.F0),t.Y36(A.uw),t.Y36(I.$))},U.\u0275cmp=t.Xpm({type:U,selectors:[["app-sales-gestionary"]],viewQuery:function(n,e){if(1&n&&t.Gf(o.NW,5),2&n){let r;t.iGM(r=t.CRH())&&(e.paginator=r.first)}},decls:53,vars:16,consts:[[1,"contenido"],[1,"flex","items-center","justify-between","dark:bg-gray-700"],[1,"w-full","mt-4"],[1,"text-2xl","font-semibold","tracking-tight","leading-6"],[1,"font-medium","tracking-tight","text-secondary"],[1,"px-6","ml-3",3,"color","label","icon","withFull","disabled","buttonClick"],[1,"flex","items-center","justify-between","mt-2",2,"color","#a2c747 !important"],[1,"flex","items-center",3,"click"],[2,"color","#a2c747 !important"],[1,"ml-2","font-bold","text-black",2,"color","#a2c747 !important"],[4,"ngIf"],[1,"div"],[1,"mat-elevation-z0","table-responsive","hide-on-small-screen"],["mat-table","",1,"table",3,"dataSource"],["matColumnDef","order"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","warehouse"],["matColumnDef","client"],["matColumnDef","saleDate"],["matColumnDef","amountTotal"],["matColumnDef","saleType"],["matColumnDef","paymentType"],["matColumnDef","isActive"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","length","pageIndex","pageSize","page"],[1,"show-on-small-screen"],[4,"ngFor","ngForOf"],[3,"emitQuery"],["mat-header-cell",""],["mat-cell",""],["class","py-0.4 h-6 w-22 px-1 rounded-full text-xs text-center font-semibold text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500",4,"ngIf"],["class","py-0.4 h-6 w-22 px-1 rounded-full text-xs text-center font-semibold text-orange-800 bg-orange-100 dark:text-orange-50 dark:bg-orange-500",4,"ngIf"],["class","py-0.4 h-6 w-22 px-1 rounded-full text-xs text-center font-semibold text-blue-800 bg-blue-100 dark:text-blue-50 dark:bg-blue-500",4,"ngIf"],[1,"py-0.4","h-6","w-22","px-1","rounded-full","text-xs","text-center","font-semibold","text-green-800","bg-green-100","dark:text-green-50","dark:bg-green-500"],[1,"py-0.4","h-6","w-22","px-1","rounded-full","text-xs","text-center","font-semibold","text-orange-800","bg-orange-100","dark:text-orange-50","dark:bg-orange-500"],[1,"py-0.4","h-6","w-22","px-1","rounded-full","text-xs","text-center","font-semibold","text-blue-800","bg-blue-100","dark:text-blue-50","dark:bg-blue-500"],["style","width: 30px;","src","assets/images/ui/cash.png",4,"ngIf"],["style","width: 30px;","src","assets/images/ui/qr.png",4,"ngIf"],["style","width: 30px;","src","assets/images/ui/card.png",4,"ngIf"],["style","width: 30px;","src","assets/images/ui/payment-mix.png",4,"ngIf"],["src","assets/images/ui/cash.png",2,"width","30px"],["src","assets/images/ui/qr.png",2,"width","30px"],["src","assets/images/ui/card.png",2,"width","30px"],["src","assets/images/ui/payment-mix.png",2,"width","30px"],["class","py-0.4 h-6 w-22 px-1 rounded-full text-xs text-center font-semibold text-red-800 bg-red-100 dark:text-red-50 dark:bg-red-500",4,"ngIf"],[1,"py-0.4","h-6","w-22","px-1","rounded-full","text-xs","text-center","font-semibold","text-red-800","bg-red-100","dark:text-red-50","dark:bg-red-500"],[1,"mr-2",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mb-2","p-4",2,"height","16em","background","#fff","border-radius","14px","overflow","hidden","box-shadow","2px 4px 6px rgba(0, 0, 0, 0.3)"],[1,"grid","grid-cols-12"],[1,"col-span-2"],[1,"flex","flex-col","flex-auto"],[1,"col-span-8",2,"text-align","end"],[1,"grid","grid-cols-12","mt-2"],[1,"col-span-4"],["class","pt-1 py-0.4 h-6 w-22 px-1 rounded-full text-xs text-center font-semibold text-orange-800 bg-orange-100 dark:text-orange-50 dark:bg-orange-500",4,"ngIf"],["class","pt-1 py-0.4 h-6 w-22 px-1 rounded-full text-xs text-center font-semibold text-blue-800 bg-blue-100 dark:text-blue-50 dark:bg-blue-500",4,"ngIf"],[1,"col-span-3"],[2,"display","flex","justify-content","end","padding-right","4px"],["class","center-item py-0.4  h-6 w-16 px-1 rounded-full text-xs text-center font-semibold text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500",4,"ngIf"],["class","center-item py-0.4 h-6 w-16 px-1 rounded-full text-xs text-center font-semibold text-orange-800 bg-orange-100 dark:text-orange-50 dark:bg-orange-500",4,"ngIf"],[1,"flex","flex-col","flex-end",2,"justify-self","self-end"],["class","fuse-vertical-navigation-item-badge ng-star-inserted",4,"ngIf"],[1,"col-span-9"],[1,"grid","grid-cols-11","mt-2",2,"background-color","white","height","65px","border-radius","5px"],[1,"col-span-5","mt-2"],[1,"text-center","text-green-800","dark:text-green-50","dark:bg-green-500",2,"font-size","17px","font-weight","800"],[1,"text-center"],[1,"center-item","col-span-1","mt-2","mb-2"],[1,"",2,"width","3px","height","50px","background","#f1f1f1"],[1,"center-item"],[1,"grid","grid-cols-12","mt-3"],[1,"col-span-12","center-item"],[1,"",2,"display","flex"],[1,"mr-2",3,"color","label","icon","withFull","disabled","buttonClick"],[1,"mr-2",3,"color","label","withFull","disabled","buttonClick"],[1,"pt-1","py-0.4","h-6","w-22","px-1","rounded-full","text-xs","text-center","font-semibold","text-orange-800","bg-orange-100","dark:text-orange-50","dark:bg-orange-500"],[1,"pt-1","py-0.4","h-6","w-22","px-1","rounded-full","text-xs","text-center","font-semibold","text-blue-800","bg-blue-100","dark:text-blue-50","dark:bg-blue-500"],[1,"center-item","py-0.4","h-6","w-16","px-1","rounded-full","text-xs","text-center","font-semibold","text-green-800","bg-green-100","dark:text-green-50","dark:bg-green-500"],[1,"center-item","py-0.4","h-6","w-16","px-1","rounded-full","text-xs","text-center","font-semibold","text-orange-800","bg-orange-100","dark:text-orange-50","dark:bg-orange-500"],[1,"fuse-vertical-navigation-item-badge","ng-star-inserted"],[1,"w-16","h-6","fuse-vertical-navigation-item-badge-content","text-center","bg-red-500","text-white","rounded"],[1,"w-16","h-6","fuse-vertical-navigation-item-badge-content","text-center","bg-green-500","text-white","rounded"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Listado de ventas"),t.qZA(),t.TgZ(5,"div",4),t._uU(6,"Modulo de gestiones para ventas"),t.qZA()(),t.TgZ(7,"div")(8,"btn-generic",5),t.NdJ("buttonClick",function(){return e.createNew()}),t.qZA()()(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return e.toggleFilter()}),t.TgZ(11,"mat-icon",8),t._uU(12),t.qZA(),t.TgZ(13,"span",9),t._uU(14),t.qZA()()(),t.YNc(15,V,2,0,"div",10),t._UZ(16,"br")(17,"br"),t.TgZ(18,"div",11)(19,"div",12)(20,"table",13),t.ynx(21,14),t.YNc(22,X,2,0,"th",15),t.YNc(23,tt,2,1,"td",16),t.BQk(),t.ynx(24,17),t.YNc(25,et,2,0,"th",15),t.YNc(26,nt,2,1,"td",16),t.BQk(),t.ynx(27,18),t.YNc(28,it,2,0,"th",15),t.YNc(29,ot,2,2,"td",16),t.BQk(),t.ynx(30,19),t.YNc(31,at,2,0,"th",15),t.YNc(32,lt,3,3,"td",16),t.BQk(),t.ynx(33,20),t.YNc(34,st,2,0,"th",15),t.YNc(35,rt,3,4,"td",16),t.BQk(),t.ynx(36,21),t.YNc(37,ct,2,0,"th",15),t.YNc(38,ut,4,3,"td",16),t.BQk(),t.ynx(39,22),t.YNc(40,gt,2,0,"th",15),t.YNc(41,vt,5,4,"td",16),t.BQk(),t.ynx(42,23),t.YNc(43,Ct,2,0,"th",15),t.YNc(44,Tt,3,2,"td",16),t.BQk(),t.ynx(45,24),t.YNc(46,wt,2,0,"th",15),t.YNc(47,Zt,5,0,"td",16),t.BQk(),t.YNc(48,At,1,0,"tr",25),t.YNc(49,Ot,1,0,"tr",26),t.qZA(),t.TgZ(50,"mat-paginator",27),t.NdJ("page",function(f){return e.pageEvent(f)}),t.qZA()()(),t.TgZ(51,"div",28),t.YNc(52,Ft,65,33,"div",29),t.qZA()()),2&n&&(t.xp6(8),t.Q6J("color","green")("label","Nueva Venta")("icon","add")("withFull",!1)("disabled",!1),t.xp6(4),t.Oqu(e.isFilterVisible?"visibility_off":"visibility"),t.xp6(2),t.Oqu(e.isFilterVisible?"Ocultar filtros":"Mostrar filtros"),t.xp6(1),t.Q6J("ngIf",e.isFilterVisible),t.xp6(5),t.Q6J("dataSource",e.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",e.listOptionsPage)("length",e.totalLength)("pageIndex",e.page)("pageSize",e.limit),t.xp6(2),t.Q6J("ngForOf",null==e.dataSource?null:e.dataSource.data))},dependencies:[l.sg,l.O5,T.Hw,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,o.NW,O.e,C.P,w,k,E,l.JJ,z.L],styles:['@charset "UTF-8";.contenido[_ngcontent-%COMP%]{width:100%;padding:20px;margin:8px;border-radius:5px;background:#fff;transition:all .3s ease-in-out;box-shadow:0 0 25px #0000001a}.center-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly}.small-button[_ngcontent-%COMP%]{padding:2px 4px;font-size:12px;min-width:36px}.small-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}@media only screen and (max-width: 599px){.hide-on-small-screen[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 600px){.show-on-small-screen[_ngcontent-%COMP%]{display:none}}.text-black[_ngcontent-%COMP%]{color:#000}.font-bold[_ngcontent-%COMP%]{font-weight:700}']});const Lt=[{path:"",component:U},{path:"acept",component:U}];class S{}S.\u0275fac=function(n){return new(n||S)},S.\u0275mod=t.oAB({type:S}),S.\u0275inj=t.cJS({providers:[u.F,B.E,{provide:A.WI,useValue:{}},{provide:A.so,useValue:{}}],imports:[l.ez,_.m,h.Bz.forChild(Lt)]})},9836:(Z,v,a)=>{a.d(v,{P:()=>s});var l=a(4650),h=a(6895),_=a(4859),u=a(7392);function o(m,d){if(1&m&&l._UZ(0,"mat-icon",2),2&m){const p=l.oxw();l.s9C("fontIcon",p.icon)}}const c=function(m,d,p,y,t){return{"btn-warning-faam":m,"btn-success-faam":d,"btn-secondary-faam":p,"btn-bad-faam":y,"btn-disabled-faam":t}};class s{set item1(d){this.color=d}set item2(d){this.label=d}set item3(d){this.icon=d}set item4(d){this.withFull=d}set item5(d){this.disabled=d}constructor(){this.color="green",this.label="value",this.icon=null,this.withFull=!1,this.disabled=!1,this.buttonClick=new l.vpe}handleClick(){this.disabled||this.buttonClick.emit()}}s.\u0275fac=function(d){return new(d||s)},s.\u0275cmp=l.Xpm({type:s,selectors:[["btn-actions"]],inputs:{item1:["color","item1"],item2:["label","item2"],item3:["icon","item3"],item4:["withFull","item4"],item5:["disabled","item5"]},outputs:{buttonClick:"buttonClick"},decls:3,vars:12,consts:[["mat-flat-button","","type","button",1,"btn-action",3,"ngClass","disabled","click"],["class","mr-2","icon","","aria-hidden","false","aria-label","Example share icon",3,"fontIcon",4,"ngIf"],["icon","","aria-hidden","false","aria-label","Example share icon",1,"mr-2",3,"fontIcon"]],template:function(d,p){1&d&&(l.TgZ(0,"button",0),l.NdJ("click",function(){return p.handleClick()}),l._uU(1),l.YNc(2,o,1,1,"mat-icon",1),l.qZA()),2&d&&(l.ekj("w-full",!0===p.withFull),l.Q6J("ngClass",l.qbA(6,c,"orange"===p.color,"green"===p.color,"secondary"===p.color,"black"===p.color,p.disabled))("disabled",p.disabled),l.xp6(1),l.hij(" ",p.label," "),l.xp6(1),l.Q6J("ngIf",null!==p.icon))},dependencies:[h.mk,h.O5,_.lW,u.Hw],styles:[".btn-action[_ngcontent-%COMP%]{height:30px!important;min-height:30px!important;border-radius:10px!important;color:#fff!important;display:flex!important;cursor:pointer!important;padding-left:9px!important;padding-right:9px!important;box-shadow:0 4px 6px #0003}.btn-warning-faam[_ngcontent-%COMP%]{background:#F39C12!important}.btn-success-faam[_ngcontent-%COMP%]{background:var(--fuse-primary-600)!important}.btn-bad-faam[_ngcontent-%COMP%]{background:#1e293b!important}.btn-secondary-faam[_ngcontent-%COMP%]{background:#b4beca!important}.btn-disabled-faam[_ngcontent-%COMP%]{background:#D3D3D3!important;color:#1e293b!important;cursor:not-allowed}"]})},8306:(Z,v,a)=>{a.d(v,{e:()=>s});var l=a(4650),h=a(6895),_=a(4859),u=a(7392);function o(m,d){if(1&m&&l._UZ(0,"mat-icon",2),2&m){const p=l.oxw();l.s9C("fontIcon",p.icon)}}const c=function(m,d,p,y,t,A,I){return{"btn-warning-faam":m,"btn-success-faam":d,"btn-secondary-faam":p,"btn-bad-faam":y,"btn-danger-faam":t,"btn-disabled-faam":A,"btn-shadow-faam":I}};class s{set item1(d){this.color=d}set item2(d){this.label=d}set item3(d){this.icon=d}set item4(d){this.withFull=d}set item5(d){this.disabled=d}set item6(d){this.shadow=d}constructor(){this.color="green",this.label="value",this.icon="value",this.withFull=!1,this.disabled=!1,this.shadow=!1,this.buttonClick=new l.vpe}handleClick(){this.disabled||this.buttonClick.emit()}}s.\u0275fac=function(d){return new(d||s)},s.\u0275cmp=l.Xpm({type:s,selectors:[["btn-generic"]],inputs:{item1:["color","item1"],item2:["label","item2"],item3:["icon","item3"],item4:["withFull","item4"],item5:["disabled","item5"],item6:["shadow","item6"]},outputs:{buttonClick:"buttonClick"},decls:3,vars:14,consts:[["mat-flat-button","","type","button",3,"ngClass","disabled","click"],["icon","","aria-hidden","false","aria-label","Example share icon",3,"fontIcon",4,"ngIf"],["icon","","aria-hidden","false","aria-label","Example share icon",3,"fontIcon"]],template:function(d,p){1&d&&(l.TgZ(0,"button",0),l.NdJ("click",function(){return p.handleClick()}),l._uU(1),l.YNc(2,o,1,1,"mat-icon",1),l.qZA()),2&d&&(l.ekj("w-full",!0===p.withFull),l.Q6J("ngClass",l.Hh0(6,c,"orange"===p.color,"green"===p.color,"secondary"===p.color,"black"===p.color,"red"===p.color,p.disabled,p.shadow))("disabled",p.disabled),l.xp6(1),l.hij(" ",p.label," "),l.xp6(1),l.Q6J("ngIf",p.icon))},dependencies:[h.mk,h.O5,_.lW,u.Hw],styles:['@charset "UTF-8";.btn-warning-faam[_ngcontent-%COMP%]{background:#F39C12;color:#fff;border-radius:18px!important}.btn-success-faam[_ngcontent-%COMP%]{background-color:var(--fuse-primary-600)!important;color:#fff!important;border-radius:18px!important}.btn-bad-faam[_ngcontent-%COMP%]{background:#1e293b!important;color:#fff!important;border-radius:18px!important}.btn-secondary-faam[_ngcontent-%COMP%]{background:#b4beca!important;color:#fff!important;border-radius:18px!important}.btn-danger-faam[_ngcontent-%COMP%]{background:#ff5227!important;color:#fff!important;border-radius:18px!important}.btn-disabled-faam[_ngcontent-%COMP%]{background:#D3D3D3!important;color:#1e293b!important;border-radius:18px!important;cursor:not-allowed}.btn-shadow-faam[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000004d}']})},2365:(Z,v,a)=>{a.d(v,{b:()=>u});var l=a(529),h=a(7775),_=a(4650);class u{constructor(c){this.http=c,this.baseUri=h.N.production?h.N.apiUrlProd:h.N.apiUrlLocal}getHttpOptions(){const c=localStorage.getItem("token");return{headers:new l.WM({Authorization:`Bearer ${c}`})}}}u.\u0275fac=function(c){return new(c||u)(_.LFG(l.eN))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})},5830:(Z,v,a)=>{a.d(v,{L:()=>_});var l=a(6895),h=a(4650);class _{transform(o){return o?(o=new l.uU("en-US").transform(o,"dd/MM/yyyy HH:mm")||o)||"":o||""}}_.\u0275fac=function(o){return new(o||_)},_.\u0275pipe=h.Yjl({name:"dateFormatHours",type:_,pure:!0})}}]);