"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[87],{4719:(C,f,o)=>{o.d(f,{y:()=>d});var a=o(2365),g=o(4650),e=o(529);class d extends a.b{constructor(n){super(n)}getAllClient(){return this.http.get(`${this.baseUri}api/client/list`,this.getHttpOptions())}store(n){return n?.id?this.http.put(`${this.baseUri}api/client/${n.id}`,n,this.getHttpOptions()):this.http.post(`${this.baseUri}api/client`,n,this.getHttpOptions())}getById(n){return this.http.get(`${this.baseUri}api/client/${n}`,this.getHttpOptions())}lowById(n){return this.http.put(`${this.baseUri}api/client/${n}/low`,this.getHttpOptions())}getListZone(){return this.http.get(`${this.baseUri}api/client/zone/list`,this.getHttpOptions())}}d.\u0275fac=function(n){return new(n||d)(g.LFG(e.eN))},d.\u0275prov=g.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})},2420:(C,f,o)=>{o.d(f,{M:()=>d});var a=o(2365),g=o(4650),e=o(529);class d extends a.b{constructor(n){super(n)}getAllProduct(){return this.http.get(`${this.baseUri}api/product/list?limit=1000&page=0`,this.getHttpOptions())}store(n){return n?.id?this.http.put(`${this.baseUri}api/product/${n.id}`,n,this.getHttpOptions()):this.http.post(`${this.baseUri}api/product`,n,this.getHttpOptions())}getById(n){return this.http.get(`${this.baseUri}api/product/${n}`,this.getHttpOptions())}lowById(n){return this.http.put(`${this.baseUri}api/product/${n}/low`,{},this.getHttpOptions())}saveEquivalenceMassive(n,s){return this.http.post(`${this.baseUri}api/product/${n}/equivalence-massive`,s,this.getHttpOptions())}storeEquivalence(n){return this.http.post(`${this.baseUri}api/product/${n?.productId}/equivalence`,n,this.getHttpOptions())}updateEquivalence(n){return this.http.put(`${this.baseUri}api/product/${n?.productId}/equivalence/${n?.productId}`,n,this.getHttpOptions())}getionaryStatusItem(n){return this.http.put(n.isActive?`${this.baseUri}api/product/${n?.productId}/equivalence/${n?.id}/low`:`${this.baseUri}api/product/${n?.productId}/equivalence/${n?.id}/active`,{},this.getHttpOptions())}getAllProductEquivalence(n){return this.http.get(`${this.baseUri}api/product/${n}/equivalence`,this.getHttpOptions())}getWarehouseProductEquivalence(n){return this.http.get(`${this.baseUri}api/warehouse/product/${n}/equivalence`,this.getHttpOptions())}storeProductMassive(n){return this.http.post(`${this.baseUri}api/configuration/save/massive`,n,this.getHttpOptions())}getListWarehouseProductEquivalence(n){return this.http.get(`${this.baseUri}api/warehouse/warehouse-product/${n}/equivalences`,this.getHttpOptions())}selectFavorite(n,s){return this.http.put(`${this.baseUri}api/product/${n}/equivalence/${s}/favorite`,{},this.getHttpOptions())}selectPrint(n,s){return this.http.put(`${this.baseUri}api/product/${n}/equivalence/${s}/print`,{},this.getHttpOptions())}}d.\u0275fac=function(n){return new(n||d)(g.LFG(e.eN))},d.\u0275prov=g.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})},6234:(C,f,o)=>{o.d(f,{F:()=>s});var a=o(529),g=o(9646),e=o(2365),d=o(4650);const i={headers:new a.WM({"Access-Control-Allow-Origin":"*",Authorization:"authkey",userid:"1"})},n={headers:new a.WM({Authorization:"Bearer EAACgOY6LeWMBANPLSZAQm6ixiweWA25SzybGaUOQf6iBLUMJDtj1ByGaJej1FP1MySZBpyTZABXmngjaOl1alruVqhoMiZCAeFsDcp61Hkg6SrTucgWcSZBuozcqo7DApukjbfWDZALfC4IysDX0qn7M68cQIhK2P7kyy8RjIiDJ79Wbd3aZC3IuALOX3KPEJsMuI6mRojAni6P9xg6Bsau"})};class s extends e.b{constructor(t){super(t)}getListSale(t){return this.http.get(`${this.baseUri}api/sale/list${t}`,this.getHttpOptions())}getListSaleAssistant(t){return this.http.get(`${this.baseUri}api/sale/list/assistant${t}`,this.getHttpOptions())}store(t){return t?.id?this.http.put(`${this.baseUri}api/product/${t.id}`,t,this.getHttpOptions()):this.http.post(`${this.baseUri}api/sale`,t,this.getHttpOptions())}saveQuotation(t){return this.http.post(`${this.baseUri}api/sale/quotation`,t,this.getHttpOptions())}getById(t){return this.http.get(`${this.baseUri}api/sale/${t}`,this.getHttpOptions())}getSaleCreditById(t){return this.http.get(`${this.baseUri}api/sale/credit/`+t)}getSaleStatus(){return(0,g.of)([{id:1,name:"Reservado"},{id:2,name:"Entregado"},{id:3,name:"Pendiente"},{id:4,name:"Con Deuda"},{id:5,name:"Finalizado"}])}lowById(t){return this.http.put(`${this.baseUri}api/product/${t}/low`,{})}sendMessageWhatsApp(t){return this.http.post("https://api.ultramsg.com/instance55483/messages/chat",{token:"im3q0x5rf48k4i8e",to:t.to,body:"HOla Como EStas",priority:10,referenceId:"",msgId:"",mentions:""},n)}getAllSaleByWarehouseAndPettyCash(t,O,x){return this.http.get(`${this.baseUri}api/sale/warehouse/${t}/petty-cash/${O}/list${x}`,this.getHttpOptions())}generateReportingPdfSaleById(t){return this.http.post("https://report.takysoft.com/api/pdf-termic",t,{responseType:"arraybuffer"})}generateReportingPdfSaleById2(){const t={headers:new a.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.get(`${this.baseUri}api/reporting/sales`,t)}generateReportingPdfSaleById3(t){const O={headers:new a.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.get(`${this.baseUri}api/reporting/sale/${t}`,O)}generateReportingPdfSaleByIdLetter(t){const O={headers:new a.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.get(`${this.baseUri}api/reporting/sale/${t}/letter`,O)}getSaleLastDay(){return this.http.get(`${this.baseUri}api/sale/last-day`,i)}savePayment(t,O){return this.http.post(`${this.baseUri}api/sale/credit/${t}`,O,this.getHttpOptions())}saveSaleReject(t){return this.http.put(`${this.baseUri}api/sale/${t}/low`,this.getHttpOptions())}getListEarning(){return this.http.get(`${this.baseUri}api/earning/list`,this.getHttpOptions())}}s.\u0275fac=function(t){return new(t||s)(d.LFG(a.eN))},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})},1913:(C,f,o)=>{o.d(f,{I:()=>D});var a=o(5412),g=o(5226),e=o.n(g),d=o(7775),i=o(4650),n=o(6088),s=o(8811),b=o(4006),t=o(6895),O=o(7392),x=o(4850),I=o(5830);function L(A,m){if(1&A&&(i.TgZ(0,"div",40)(1,"div",41),i._uU(2),i.qZA(),i.TgZ(3,"div",42),i._uU(4),i.qZA(),i.TgZ(5,"div",43),i._uU(6),i.qZA(),i.TgZ(7,"div",44),i._uU(8),i.qZA(),i.TgZ(9,"div",43),i._uU(10),i.qZA(),i.TgZ(11,"div",45),i._uU(12),i.ALo(13,"number"),i.qZA(),i._UZ(14,"div",46),i.qZA()),2&A){const l=m.$implicit;i.xp6(2),i.Oqu(null==l||null==l.product?null:l.product.name),i.xp6(2),i.Oqu(null==l?null:l.priceShopping),i.xp6(2),i.Oqu(null==l?null:l.amount),i.xp6(2),i.Oqu(null==l||null==l.unitMeasurement?null:l.unitMeasurement.name),i.xp6(2),i.Oqu(null==l?null:l.discount),i.xp6(2),i.Oqu(i.xi3(13,6,null==l?null:l.subTotal,"1.0-2"))}}const U=function(A){return[A]};class D{constructor(m,l,T,B,S){this.dialogRef=m,this.service=l,this.router=T,this.fb=S,this.amountTotal=0,this.logoClient=d.N.logo,this.shoppingId=B.id,this.shoppingId>0&&this.setData(this.shoppingId)}setData(m){this.service.getShoppingById(m).subscribe(l=>{this.shoppingOrder=l,this.amountTotal=l.amountTotal})}close(){this.dialogRef.close(!0)}downloadPDFTermic(){this.shoppingOrder.clientStore=d.N.nameStore,this.shoppingOrder.codeClient=d.N.codeClient,this.service.generateReportingPdfShopingById3(this.shoppingOrder.id).subscribe(m=>{const l=URL.createObjectURL(m);window.open(l,"_blank"),setTimeout(()=>{URL.revokeObjectURL(l)},100)},m=>{console.error("Error al descargar el PDF:",m)})}SendMessageWhatsApp(){e().fire({title:'El cliente "'+this.shoppingOrder.client.firstName+'"  tiene el numero:'+this.shoppingOrder?.client?.phone,showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Enviar",denyButtonText:"Enviar a otro numero"}).then(m=>{m.isConfirmed?e().fire("Enviado!","","success"):m.isDenied&&e().fire({title:"Ingrese nuevo numero",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Enviar",showLoaderOnConfirm:!0,preConfirm:l=>{},allowOutsideClick:()=>!e().isLoading()}).then(l=>{})})}}D.\u0275fac=function(m){return new(m||D)(i.Y36(a.so),i.Y36(n.s),i.Y36(s.F0),i.Y36(a.WI),i.Y36(b.qu))},D.\u0275cmp=i.Xpm({type:D,selectors:[["app-overview-shopping"]],decls:91,vars:19,consts:[[1,"overview-sale","p-0","rounded-2xl","bg-card","print:w-auto","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"mt-2","grid","grid-cols-12","sm:grid-cols-12","md:grid-cols-12","lg:grid-cols-12","gap-6","w-full","min-w-0"],[1,"sm:col-span-4","lg:col-span-4"],[1,"flex","flex-col","flex-auto"],[1,"ml-3","max-w-20",3,"src"],[1,"flex","flex-col","flex-auto",2,"justify-self","center"],[1,"flex","mt-2"],[1,"flex","mr-2",2,"justify-self","right"],["svgIcon","heroicons_outline:x",3,"click"],[1,"pl-4","mt-2"],[1,"pl-4","pr-4"],[1,"pl-4","pr-4","box-1"],[1,"grid","grid-cols-12","pl-4","pr-2","gap-x-1","header-table"],[1,"col-span-3","text-lg","font-medium"],[1,"col-span-2","font-medium","text-lg","text-center"],[1,"col-span-1","font-medium","text-lg","text-center"],[1,"col-span-3","font-medium","text-lg","text-center"],["class","grid grid-cols-12 pt-2 pb-2",4,"ngFor","ngForOf"],[1,"grid","grid-cols-12",2,"padding","0px 15px","background","#d4d4d4","border-radius","5px"],[1,"fw-700","col-span-9","self-center","font-medium"],[1,"fw-700","col-span-3","text-center","font-medium"],[2,"margin","0px 11px","display","flex"],["src","https://i.pinimg.com/originals/c4/a7/ac/c4a7acec899193ab7a1e3b4f5c6fc023.png","alt","",2,"width","125px","height","125px"],[1,"btn-export","btn-whatsapp","flex","items-center","justify-center","m-1","p-1","pl-2","pr-2",3,"click"],["height","24px","width","24px","version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 512 512",0,"xml","space","preserve","fill","#000000",2,"margin-left","16px"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M378.853,294.202c-0.997-0.479-38.324-18.859-44.956-21.246c-2.708-0.972-5.609-1.922-8.694-1.922 c-5.04,0-9.274,2.512-12.572,7.446c-3.729,5.542-15.016,18.736-18.503,22.678c-0.456,0.52-1.077,1.142-1.45,1.142 c-0.334,0-6.111-2.379-7.86-3.138c-40.041-17.393-70.433-59.219-74.601-66.272c-0.595-1.014-0.62-1.474-0.625-1.474 c0.146-0.537,1.493-1.887,2.188-2.583c2.033-2.011,4.236-4.663,6.367-7.228c1.009-1.215,2.02-2.432,3.012-3.579 c3.092-3.597,4.468-6.39,6.064-9.625l0.836-1.681c3.897-7.742,0.569-14.274-0.507-16.384c-0.883-1.765-16.643-39.803-18.319-43.799 c-4.03-9.643-9.354-14.133-16.753-14.133c-0.687,0,0,0-2.879,0.121c-3.506,0.148-22.598,2.661-31.039,7.983 c-8.952,5.644-24.096,23.633-24.096,55.271c0,28.474,18.07,55.359,25.828,65.584c0.193,0.258,0.547,0.781,1.061,1.533 c29.711,43.39,66.75,75.547,104.297,90.546c36.148,14.439,53.265,16.108,62.996,16.108c0.002,0,0.002,0,0.002,0 c4.089,0,7.362-0.321,10.25-0.605l1.832-0.175c12.487-1.107,39.929-15.327,46.171-32.673c4.917-13.663,6.214-28.591,2.942-34.008 C387.604,298.403,383.742,296.549,378.853,294.202z",2,"fill","#8DC63F"],["d","M260.545,0C121.879,0,9.066,111.965,9.066,249.588c0,44.512,11.912,88.084,34.479,126.218 L0.352,503.216c-0.805,2.375-0.206,5.002,1.551,6.791C3.172,511.302,4.892,512,6.649,512c0.673,0,1.351-0.101,2.013-0.313 l132.854-42.217c36.355,19.424,77.445,29.678,119.03,29.678C399.199,499.15,512,387.197,512,249.588 C512,111.965,399.199,0,260.545,0z M260.545,447.159c-39.13,0-77.029-11.299-109.608-32.677c-1.095-0.72-2.367-1.089-3.647-1.089 c-0.677,0-1.355,0.103-2.015,0.313l-66.552,21.155l21.484-63.383c0.695-2.051,0.347-4.314-0.933-6.063 c-24.809-33.898-37.923-73.949-37.923-115.827c0-108.955,89.357-197.597,199.191-197.597c109.821,0,199.168,88.642,199.168,197.597 C459.713,358.53,370.367,447.159,260.545,447.159z",2,"fill","#8DC63F"],[1,"btn-export","btn-pdf","flex","items-center","justify-center","m-1","p-1","pl-2","pr-2",3,"click"],["height","24px","width","24px","version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 512 512",0,"xml","space","preserve","fill","#000000"],["d","M128,0c-17.6,0-32,14.4-32,32v448c0,17.6,14.4,32,32,32h320c17.6,0,32-14.4,32-32V128L352,0H128z",2,"fill","#E2E5E7"],["d","M384,128h96L352,0v96C352,113.6,366.4,128,384,128z",2,"fill","#B0B7BD"],["points","480,224 384,128 480,128 ",2,"fill","#CAD1D8"],["d","M416,416c0,8.8-7.2,16-16,16H48c-8.8,0-16-7.2-16-16V256c0-8.8,7.2-16,16-16h352c8.8,0,16,7.2,16,16 V416z",2,"fill","#F15642"],["d","M101.744,303.152c0-4.224,3.328-8.832,8.688-8.832h29.552c16.64,0,31.616,11.136,31.616,32.48 c0,20.224-14.976,31.488-31.616,31.488h-21.36v16.896c0,5.632-3.584,8.816-8.192,8.816c-4.224,0-8.688-3.184-8.688-8.816V303.152z M118.624,310.432v31.872h21.36c8.576,0,15.36-7.568,15.36-15.504c0-8.944-6.784-16.368-15.36-16.368H118.624z",2,"fill","#FFFFFF"],["d","M196.656,384c-4.224,0-8.832-2.304-8.832-7.92v-72.672c0-4.592,4.608-7.936,8.832-7.936h29.296 c58.464,0,57.184,88.528,1.152,88.528H196.656z M204.72,311.088V368.4h21.232c34.544,0,36.08-57.312,0-57.312H204.72z",2,"fill","#FFFFFF"],["d","M303.872,312.112v20.336h32.624c4.608,0,9.216,4.608,9.216,9.072c0,4.224-4.608,7.68-9.216,7.68 h-32.624v26.864c0,4.48-3.184,7.92-7.664,7.92c-5.632,0-9.072-3.44-9.072-7.92v-72.672c0-4.592,3.456-7.936,9.072-7.936h44.912 c5.632,0,8.96,3.344,8.96,7.936c0,4.096-3.328,8.704-8.96,8.704h-37.248V312.112z",2,"fill","#FFFFFF"],["d","M400,432H96v16h304c8.8,0,16-7.2,16-16v-16C416,424.8,408.8,432,400,432z",2,"fill","#CAD1D8"],[1,"grid","grid-cols-12","pt-2","pb-2"],[1,"col-span-3","text-secondary","font-medium","text-md","pl-4"],[1,"col-span-2","text-secondary","self-left","text-center"],[1,"col-span-1","text-secondary","self-center","text-center"],[1,"col-span-2","text-secondary","self-center","text-center"],[1,"col-span-3","text-secondary","self-left","text-center"],[1,"col-span-12","border-b"]],template:function(m,l){1&m&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),i._UZ(4,"img",4),i.qZA()(),i.TgZ(5,"div",2)(6,"div",5)(7,"div",6)(8,"p"),i._uU(9),i.qZA()()()(),i.TgZ(10,"div",2)(11,"div",7)(12,"mat-icon",8),i.NdJ("click",function(){return l.close()}),i.qZA()()()(),i.TgZ(13,"div",9)(14,"p")(15,"strong"),i._uU(16,"Proveedor:"),i.qZA(),i._uU(17),i.qZA(),i.TgZ(18,"p")(19,"strong"),i._uU(20,"Fecha Compra:"),i.qZA(),i._uU(21),i.ALo(22,"dateFormatHours"),i.qZA(),i.TgZ(23,"p")(24,"strong"),i._uU(25,"MontoTotal:"),i.qZA(),i._uU(26),i.ALo(27,"number"),i.qZA(),i.TgZ(28,"p")(29,"strong"),i._uU(30,"Sucursal:"),i.qZA(),i._uU(31),i.qZA()(),i.TgZ(32,"div",10),i._UZ(33,"br")(34,"mat-divider"),i.qZA(),i.TgZ(35,"div",11)(36,"div")(37,"div",12)(38,"div",13),i._uU(39,"Producto"),i.qZA(),i.TgZ(40,"div",14),i._uU(41,"Precio"),i.qZA(),i.TgZ(42,"div",15),i._uU(43,"Cant."),i.qZA(),i.TgZ(44,"div",14),i._uU(45,"Med."),i.qZA(),i.TgZ(46,"div",15),i._uU(47,"Desc."),i.qZA(),i.TgZ(48,"div",16),i._uU(49,"Total"),i.qZA()(),i._UZ(50,"mat-divider"),i.TgZ(51,"div"),i.YNc(52,L,15,9,"div",17),i.qZA()(),i.TgZ(53,"div",18)(54,"div",19),i._uU(55,"TOTAL"),i.qZA(),i.TgZ(56,"div",20),i._uU(57),i.ALo(58,"number"),i.qZA()()(),i.TgZ(59,"div",21),i._UZ(60,"img",22),i.TgZ(61,"p")(62,"strong"),i._uU(63,"Nota:"),i.qZA(),i._uU(64,"la presente nota de compra generada por licoreria-fernandez.com, para hacegurarse de que la nota de venta es autentica podrias escanear el codigo Qr"),i.qZA(),i.TgZ(65,"div")(66,"div",23),i.NdJ("click",function(){return l.SendMessageWhatsApp()}),i._uU(67," Enviar "),i.O4$(),i.TgZ(68,"svg",24),i._UZ(69,"g",25)(70,"g",26),i.TgZ(71,"g",27)(72,"g"),i._UZ(73,"path",28)(74,"path",29),i.qZA()()()(),i.kcU(),i.TgZ(75,"div",30),i.NdJ("click",function(){return l.downloadPDFTermic()}),i._uU(76," Exportar "),i.O4$(),i.TgZ(77,"svg",31),i._UZ(78,"g",25)(79,"g",26),i.TgZ(80,"g",27),i._UZ(81,"path",32)(82,"path",33)(83,"polygon",34)(84,"path",35),i.TgZ(85,"g"),i._UZ(86,"path",36)(87,"path",37)(88,"path",38),i.qZA(),i._UZ(89,"path",39),i.qZA()()()()(),i.kcU(),i._UZ(90,"br"),i.qZA()),2&m&&(i.xp6(4),i.Q6J("src",i.VKq(17,U,l.logoClient),i.LSH),i.xp6(5),i.hij("Nota de compra # ",null==l.shoppingOrder?null:l.shoppingOrder.id,""),i.xp6(8),i.AsE(" ",null==l.shoppingOrder||null==l.shoppingOrder.provider?null:l.shoppingOrder.provider.businessName," ",null==l.shoppingOrder||null==l.shoppingOrder.provider?null:l.shoppingOrder.provider.firstName,""),i.xp6(4),i.hij(" ",i.lcZ(22,9,null==l.shoppingOrder?null:l.shoppingOrder.shoppingDate),""),i.xp6(5),i.hij(" ",i.xi3(27,11,null==l.shoppingOrder?null:l.shoppingOrder.amountTotal,"1.0-2"),""),i.xp6(5),i.hij(" ",null==l.shoppingOrder||null==l.shoppingOrder.warehouse?null:l.shoppingOrder.warehouse.name,""),i.xp6(21),i.Q6J("ngForOf",null==l.shoppingOrder?null:l.shoppingOrder.details),i.xp6(5),i.hij("Bs. ",i.xi3(58,14,l.amountTotal,"1.2-2"),""))},dependencies:[t.sg,O.Hw,x.d,t.JJ,I.L],styles:[".overview-sale[_ngcontent-%COMP%]{background:red;max-width:700px}.box-1[_ngcontent-%COMP%]{background-color:#fff;border-width:20px;border:solid 1px #1e293b;border-radius:5px;padding:10px 1px;margin:5px 17px}.btn-export[_ngcontent-%COMP%]{border-radius:4px;background:#d4d4d4;width:-moz-fit-content;width:fit-content;cursor:pointer;color:#f0f8ff}.btn-whatsapp[_ngcontent-%COMP%]{background:#d4d4d4}.btn-pdf[_ngcontent-%COMP%]{background:#F15642}.btn-excel[_ngcontent-%COMP%]{background:#84BD5A}.fw-700[_ngcontent-%COMP%]{font-weight:700!important}.header-table[_ngcontent-%COMP%]{background:#A2C747;border-radius:5px;color:#fff!important}"]})},6588:(C,f,o)=>{o.d(f,{N:()=>Z});var a=o(4006),g=o(5412),e=o(4650),d=o(2420),i=o(6895),n=o(7392),s=o(9549),b=o(284),t=o(4850),O=o(9602),x=o(9007),I=o(8306),L=o(2005),U=o(8183);const D=["aForm2"],A=["countInput"],m=["suggestedPrice"],l=["discount"],T=["expired"],B=["birthdayDatepicker"];function S(P,p){if(1&P){const r=e.EpF();e.TgZ(0,"chips-info-label",33),e.NdJ("click",function(){const w=e.CHM(r).$implicit,y=e.oxw(2);return e.KtG(y.addQuantity(w))}),e.qZA()}if(2&P){const r=p.$implicit;e.Q6J("title",null==r||null==r.unitMeasurementMotive?null:r.unitMeasurementMotive.name)("label","Etiqueta de Ejemplo")("active",null==r?null:r.checkDefault)}}function N(P,p){if(1&P&&(e.TgZ(0,"div")(1,"div",29)(2,"p",30),e._uU(3,"tu compra es por:"),e.qZA(),e.TgZ(4,"div",31),e.YNc(5,S,1,3,"chips-info-label",32),e.qZA()()()),2&P){const r=e.oxw();e.xp6(5),e.Q6J("ngForOf",r.listUnitMeasurement)}}function R(P,p){1&P&&(e.TgZ(0,"mat-error")(1,"span",41),e._uU(2,"Fecha Vencimiento requerido"),e.qZA()())}function k(P,p){if(1&P){const r=e.EpF();e.TgZ(0,"div",34)(1,"mat-form-field",35)(2,"mat-label"),e._uU(3,"Fecha Vencimiento:"),e.qZA(),e._UZ(4,"mat-icon",36),e.TgZ(5,"input",37,38),e.NdJ("keydown.enter",function(_){e.CHM(r);const w=e.oxw();return e.KtG(w.handleKeyDown(_,"save"))})("keydown.space",function(){e.CHM(r);const _=e.oxw();return e.KtG(_.openDatepicker())})("keydown.escape",function(_){e.CHM(r);const w=e.oxw();return e.KtG(w.handleKeyDown(_,"discount"))})("keyup",function(){e.CHM(r);const _=e.oxw();return e.KtG(_.calculateSubTotal())}),e.qZA(),e._UZ(7,"mat-datepicker-toggle",39)(8,"mat-datepicker",null,40),e.YNc(10,R,3,0,"mat-error",11),e.qZA()()}if(2&P){const r=e.MAs(9),c=e.oxw();e.xp6(1),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:cube-transparent"),e.xp6(1),e.Q6J("matDatepicker",r)("formControlName","expirationDate")("placeholder","Fecha vencimiento"),e.xp6(2),e.Q6J("for",r),e.xp6(3),e.Q6J("ngIf",c.form.get("expirationDate").hasError("required")&&c.form.get("expirationDate").touched)}}class Z{constructor(p,r,c,_,w){this.dialogRef=p,this.service=c,this.fb=_,this.cdr=w,this.isNew=!1,this.isValidData=!0,this.activeAlert=!1,this.message="",this.product=r.data,this.picture=r?.data?.picture,this.isNew=r.isNew,this.form=this.fb.group({id:[null],suggestedPrice:[null,[a.kI.required,a.kI.maxLength(15)]],count:[null,[a.kI.required,a.kI.maxLength(15)]],picture:[null],discount:[null,[a.kI.maxLength(15)]],requiredExpired:[null],expirationDate:[null],subTotal:[null,[a.kI.required]]})}ngAfterViewInit(){setTimeout(()=>{this.isNew?this.setEquivalences():this.setValueExisting(this.product),this.product.requiredExpired?this.form.get("expirationDate")?.setValidators([a.kI.required]):this.form.get("expirationDate")?.clearValidators(),this.form.get("expirationDate")?.updateValueAndValidity(),this.cdr.detectChanges()},0)}ngOnInit(){}setEquivalences(){this.service.getAllProductEquivalence(this.product.id).subscribe(p=>{setTimeout(()=>{this.listUnitMeasurement=p,this.listUnitMeasurement.forEach(r=>{r.unitMeasurementMotiveId===this.product?.unitMeasurement?.id&&(r.checkDefault=!0,this.UnitMeasurementCheck=r)}),this.setValueCost(),this.setValuesDefault(this.product)})})}setValueCost(){this.form.get("suggestedPrice").setValue(this.UnitMeasurementCheck?.suggestedPricePurchase),this.calculateSubTotal()}setValuesDefault(p){this.form.get("id").setValue(p?.id),this.form.get("suggestedPrice").setValue(p?.suggestedPriceShopping),this.form.get("count").setValue(1),this.form.get("picture").setValue(p?.picture),this.form.get("discount").setValue(0),this.form.get("requiredExpired").setValue(p.requiredExpired),this.form.get("subTotal").setValue(p?.suggestedPriceShopping)}setValueExisting(p){this.form.get("id").setValue(p?.id),this.form.get("suggestedPrice").setValue(p?.price),this.form.get("count").setValue(p?.count),this.form.get("discount").setValue(p?.discount),this.form.get("subTotal").setValue(p?.subTotal),this.form.get("requiredExpired").setValue(p.requiredExpired),this.form.get("expirationDate").setValue(p.expirationDate),this.setUnitMeasurementDefault(p?.unitMeasurementSelect?.id)}setUnitMeasurementDefault(p){this.service.getAllProductEquivalence(this.product.id).subscribe(r=>{this.listUnitMeasurement=r,this.listUnitMeasurement.forEach(c=>{c.unitMeasurementMotiveId===p&&(c.checkDefault=!0,this.UnitMeasurementCheck=c)}),this.cdr.detectChanges()})}addQuantity(p){this.listUnitMeasurement.map(r=>{r.unitMeasurementMotive.name===p.unitMeasurementMotive.name&&(r.checkDefault=!0,this.UnitMeasurementCheck=r,this.setValueCost(),this.cdr.detectChanges()),r.checkDefault=!1})}close(){this.form.reset(),this.dialogRef.close(!0)}validateStockAvailable(){let p=parseFloat(this.form.get("count").value),r=this.product?.amount;p>r?(this.message="Stock Disponible : "+r,this.isValidData=!1):(this.message="",this.isValidData=!0)}calculateSubTotal(){this.validateStockAvailable();let p=parseFloat(this.form.get("suggestedPrice").value),r=parseFloat(this.form.get("count").value),c=parseFloat(this.form.get("discount").value);p=isNaN(p)?0:p,r=isNaN(r)?0:r,c=isNaN(c)?0:c;let _=p*r-c;this.form.get("subTotal").setValue(_)}handleKeyDown(p,r){("Enter"===p.key||"Enter"===p.code||"Escape"===p.key||"Escape"===p.code)&&(p.preventDefault(),this.onFocus(r))}onFocus(p){const c={save:()=>this.save(),close:()=>this.close(),countInput:()=>this.countInput.nativeElement.focus(),suggestedPrice:()=>this.suggestedPrice.nativeElement.focus(),discount:()=>this.discount.nativeElement.focus(),expired:()=>{this.product.requiredExpired?this.expired.nativeElement.focus():this.save()}}[p];c?c():console.warn(`No action defined for value: ${p}`)}openDatepicker(){this.birthdayDatepicker.open()}save(){if(this.activeAlert=!1,this.form.valid)if(this.isValidData){let p=this.form.value;p.unitMeasurement=this.product.unitMeasurement,p.unitMeasurementSelect=this.UnitMeasurementCheck.unitMeasurementMotive,p.price=p.suggestedPrice,p.picture=this.product.picture,p.name=this.product?.name,p.description=this.product?.description,this.dialogRef.close(p),this.form.reset()}else{const p=this.aForm2.nativeElement.count;p&&(p.focus(),this.activeAlert=!0)}else Object.keys(this.form.controls).forEach(p=>{this.form.get(p)?.markAsTouched()})}}Z.\u0275fac=function(p){return new(p||Z)(e.Y36(g.so),e.Y36(g.WI),e.Y36(d.M),e.Y36(a.qu),e.Y36(e.sBO))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-preview-product-shopping"]],viewQuery:function(p,r){if(1&p&&(e.Gf(D,5),e.Gf(A,7),e.Gf(m,5),e.Gf(l,5),e.Gf(T,5),e.Gf(B,5)),2&p){let c;e.iGM(c=e.CRH())&&(r.aForm2=c.first),e.iGM(c=e.CRH())&&(r.countInput=c.first),e.iGM(c=e.CRH())&&(r.suggestedPrice=c.first),e.iGM(c=e.CRH())&&(r.discount=c.first),e.iGM(c=e.CRH())&&(r.expired=c.first),e.iGM(c=e.CRH())&&(r.birthdayDatepicker=c.first)}},decls:51,vars:36,consts:[[1,"p-6"],[1,"flex","items-center","justify-between","dark:bg-gray-700"],[3,"click"],["aria-hidden","false","aria-label","Example add icon","fontIcon","close"],[1,"content"],[1,"text-product-name","text-lg"],[1,"text-secondary",2,"font-size","12px"],[1,"flex","items-center","justify-between","mt-2"],[2,"font-weight","800","padding-right","10px"],[1,"flex","items-center","justify-center"],[2,"width","200px",3,"src"],[4,"ngIf"],["ngNativeValidate","","autocomplete","off",3,"formGroup"],["aForm2",""],[1,"grid","grid-cols-6"],[1,"col-span-2","m-1"],["nameInput","count","numberDecimal","2",3,"formControl","label","keydown.enter","keydown.escape","keyup"],["nameInput","suggestedPrice","numberDecimal","2","name","suggestedPrice",3,"formControl","label","keydown.enter","keydown.escape","keyup"],["nameInput","discount","numberDecimal","2","name","discount",3,"formControl","label","keydown.enter","keydown.escape","keyup"],["class","sm:col-span-6",4,"ngIf"],[1,"btn-sub-total","mt-2"],[2,"color","#fff"],[1,"box"],[1,"alert"],[1,"grid","grid-cols-12"],[1,"col-span-4"],[1,"flex","flex-col","flex-auto","ml-1","mr-1"],[3,"color","label","icon","withFull","disabled","buttonClick"],[1,"col-span-8"],[1,"mb-2"],[2,"margin","0"],[2,"display","ruby"],[3,"title","label","active","click",4,"ngFor","ngForOf"],[3,"title","label","active","click"],[1,"sm:col-span-6"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","",3,"matDatepicker","formControlName","placeholder","keydown.enter","keydown.space","keydown.escape","keyup"],["expired",""],["matSuffix","",3,"for"],["birthdayDatepicker",""],[1,"text-red-500"]],template:function(p,r){1&p&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div"),e._uU(3," Agregar producto "),e.qZA(),e.TgZ(4,"div",2),e.NdJ("click",function(){return r.close()}),e._UZ(5,"mat-icon",3),e.qZA()(),e._UZ(6,"mat-divider"),e.TgZ(7,"div",4)(8,"div",1)(9,"div")(10,"div")(11,"label",5),e._uU(12),e.ALo(13,"truncate"),e.qZA(),e.TgZ(14,"div",6),e._uU(15),e.ALo(16,"truncate"),e.qZA()()()(),e.TgZ(17,"div",7)(18,"div",8),e._uU(19),e.qZA(),e._UZ(20,"div"),e.qZA(),e.TgZ(21,"div",9),e._UZ(22,"img",10),e.qZA(),e.YNc(23,N,6,1,"div",11),e.TgZ(24,"form",12,13)(26,"div",14)(27,"div",15)(28,"input-decimal",16),e.NdJ("keydown.enter",function(_){return r.handleKeyDown(_,"suggestedPrice")})("keydown.escape",function(_){return r.handleKeyDown(_,"close")})("keyup",function(){return r.calculateSubTotal()}),e.qZA()(),e.TgZ(29,"div",15)(30,"input-decimal",17),e.NdJ("keydown.enter",function(_){return r.handleKeyDown(_,"discount")})("keydown.escape",function(_){return r.handleKeyDown(_,"countInput")})("keyup",function(){return r.calculateSubTotal()}),e.qZA()(),e.TgZ(31,"div",15)(32,"input-decimal",18),e.NdJ("keydown.enter",function(_){return r.handleKeyDown(_,"expired")})("keydown.escape",function(_){return r.handleKeyDown(_,"suggestedPrice")})("keyup",function(){return r.calculateSubTotal()}),e.qZA()(),e.YNc(33,k,11,7,"div",19),e.qZA(),e.TgZ(34,"div",20)(35,"strong",21),e._uU(36,"Sub Total: Bs."),e.TgZ(37,"strong",21),e._uU(38),e.ALo(39,"number"),e.qZA()()(),e.TgZ(40,"div")(41,"div",22)(42,"p",23),e._uU(43),e.qZA()(),e.TgZ(44,"div",24)(45,"div",25)(46,"div",26)(47,"btn-generic",27),e.NdJ("buttonClick",function(){return r.close()}),e.qZA()()(),e.TgZ(48,"div",28)(49,"div",26)(50,"btn-generic",27),e.NdJ("buttonClick",function(){return r.save()}),e.qZA()()()()()()()()),2&p&&(e.xp6(12),e.Oqu(e.xi3(13,27,null==r.product?null:r.product.name,20)),e.xp6(3),e.Oqu(e.xi3(16,30,null==r.product?null:r.product.description,25)),e.xp6(4),e.hij(" cod:",null==r.product?null:r.product.id," "),e.xp6(3),e.MGl("src","data:image/png;base64,",r.product.picture,"",e.LSH),e.xp6(1),e.Q6J("ngIf",(null==r.listUnitMeasurement?null:r.listUnitMeasurement.length)>0),e.xp6(1),e.Q6J("formGroup",r.form),e.xp6(4),e.Q6J("formControl",r.form.get("count"))("label","Cantidad: "),e.xp6(2),e.Q6J("formControl",r.form.get("suggestedPrice"))("label","Precio sugerido: "),e.xp6(2),e.Q6J("formControl",r.form.get("discount"))("label","Descuento: "),e.xp6(1),e.Q6J("ngIf",r.product.requiredExpired),e.xp6(5),e.Oqu(e.xi3(39,33,r.form.get("subTotal").value||0,"1.0-2")),e.xp6(4),e.ekj("parpadea",r.activeAlert),e.xp6(1),e.Oqu(r.message),e.xp6(4),e.Q6J("color","secondary")("label","Cerrar")("icon","close")("withFull",!0)("disabled",!1),e.xp6(3),e.Q6J("color","green")("label",r.isNew?"Agregar":"Actualizar")("icon","shopping_basket")("withFull",!0)("disabled",!1))},dependencies:[i.sg,i.O5,a.Fj,a.JJ,a.JL,n.Hw,a.oH,a.sg,a.u,s.KE,s.hX,s.TO,s.qo,s.R9,b.Nt,t.d,O.Mq,O.hl,O.nW,x.a,I.e,L.h,i.JJ,U.W],styles:[".btn-add[_ngcontent-%COMP%]{background:#5FB960;color:#fff;width:100%;height:40px;text-align:center;align-items:center;place-content:center;cursor:pointer!important}.btn-sub-total[_ngcontent-%COMP%]{background:#f39c12;padding:5px;border-radius:10px;box-shadow:0 4px 6px #0000004d;text-align:center;height:47px;font-size:23px}.alert[_ngcontent-%COMP%]{color:red}.box[_ngcontent-%COMP%]{width:100%;height:25px}.text-product-name[_ngcontent-%COMP%]{color:#000;font-weight:600;font-size:1.6em!important}.parpadea[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_parpadeo;animation-duration:.9s;animation-timing-function:linear;animation-iteration-count:3;-webkit-animation-name:_ngcontent-%COMP%_parpadeo;-webkit-animation-duration:.9s;-webkit-animation-timing-function:linear;-webkit-animation-iteration-count:3}@keyframes _ngcontent-%COMP%_parpadeo{0%{opacity:1}50%{opacity:0}to{opacity:1}}"],changeDetection:0})},2540:(C,f,o)=>{o.d(f,{l:()=>y});var a=o(4006),g=o(5412),e=o(5269),d=o(7775),i=o(8675),n=o(4004),s=o(5226),b=o.n(s),t=o(4650),O=o(3833),x=o(6628),I=o(8811),L=o(6088),U=o(6895),D=o(7392),A=o(4859),m=o(9549),l=o(284),T=o(9349),B=o(4385),S=o(3238),N=o(4850),R=o(7957),k=o(7084),Z=o(8306),P=o(8183);function p(M,h){if(1&M&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&M){const u=h.$implicit;t.Q6J("value",u),t.xp6(1),t.AsE(" ",u.firstName," ",u.lastName," ")}}function r(M,h){1&M&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo es obligatorio. "),t.qZA())}function c(M,h){if(1&M&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&M){const u=h.$implicit;t.Q6J("value",u.id),t.xp6(1),t.hij(" ",u.name," ")}}function _(M,h){1&M&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo es obligatorio. "),t.qZA())}function w(M,h){if(1&M&&(t.TgZ(0,"div")(1,"div",40)(2,"div",41)(3,"div",42)(4,"div",43),t._UZ(5,"img",44),t.qZA()(),t.TgZ(6,"div",45)(7,"div",43)(8,"p",46),t._uU(9),t.ALo(10,"truncate"),t.qZA()()(),t.TgZ(11,"div",42)(12,"div",43)(13,"p",47),t._uU(14,"Cant."),t.qZA(),t.TgZ(15,"p",48),t._uU(16),t.qZA()()(),t.TgZ(17,"div",42)(18,"div",43)(19,"p",49),t._uU(20,"U. Med."),t.qZA(),t.TgZ(21,"p",48),t._uU(22),t.qZA()()(),t.TgZ(23,"div",42)(24,"div",43)(25,"p",50),t._uU(26,"Sub T."),t.qZA(),t.TgZ(27,"p",51),t._uU(28),t.ALo(29,"number"),t.qZA()()()()()()),2&M){const u=h.$implicit;t.xp6(5),t.Q6J("src","data:image/png;base64,"+u.picture,t.LSH),t.xp6(4),t.hij("",t.xi3(10,5,u.name,35)," "),t.xp6(7),t.Oqu(u.count),t.xp6(6),t.Oqu(u.unitMeasurementSelect.name),t.xp6(6),t.hij("",t.xi3(29,8,u.price*u.count,"1.0-2")," ")}}class y{constructor(h,u,v,E,F,K,q,H){this.dialogRef=h,this.providerService=u,this.serviceWarehouse=v,this.router=E,this.dialog=F,this.service=K,this.fb=H,this.options=[],this.myDate=new Date,this.detailParsed=[],this.logoClient=d.N.logo,this.buttondisabled=!1,this.orderNote=q,this.orderNote.total<=0&&(this.buttondisabled=!0),this.form=this.fb.group({id:[null],myControl:["",[a.kI.required]],providerId:[1,[a.kI.required]],WarehouseId:[null,[a.kI.required]],discount:[0],amount:[0],amountTotal:[null],note:[null],search:[""]}),this.providerService.getListProvider().subscribe(W=>{this.options=W}),this.serviceWarehouse.getAllWarehouse().subscribe(W=>{this.listWarehouse=W}),this.filteredOptions=this.form.get("myControl").valueChanges.pipe((0,i.O)(""),(0,n.U)(W=>this._filter(W||""))),this.setValuesDefault()}setValuesDefault(){this.form.get("amountTotal").setValue(this.orderNote.total)}cleanSearch(){this._filter(""),this.form.get("myControl").setValue("")}setListProvider(){this._filter(""),this.form.get("myControl").setValue("")}addClient(){this.dialog.open(e.W,{panelClass:"custom-container",maxHeight:"80vh",width:"450px",data:{id:null}}).afterClosed().subscribe(u=>{this.options.push(u);let v=u?.businessName+" - "+u.firstName+" "+u.lastName;this.form.get("myControl").setValue(v),this.form.get("providerId").setValue(u?.id)})}close(){this.dialogRef.close(!0)}_filter(h){const u=(h=h?.businessName?h.businessName:h)?h.toLowerCase():"";return this.options.filter(v=>v?.businessName?.toLowerCase().includes(u))}onSelectionChange(h){this.form.get("myControl").setValue(h?.option?.value?.businessName+" "+h?.option?.value?.firstName+" "+h?.option?.value?.lastName),this.form.get("providerId").setValue(h?.option?.value?.id)}isValidForm(){return Object.keys(this.form.controls).forEach(u=>{this.form.get(u)?.markAsTouched({onlySelf:!0})}),this.form.valid}calculateSubTotal(){let v=this.orderNote.total-parseFloat(this.form.get("discount")?.value);this.form.get("amountTotal").setValue(v)}saveShopping(){if(this.isValidForm()){this.buttondisabled=!0;let h=this.form.value;this.parseDataDetail(),h.detail=this.detailParsed,h.amountTotal=this.orderNote?.total,h.amount=h.amountTotal-h.discount,delete h.search,this.service.store(h).subscribe(u=>{this.close(),b().fire({position:"top-end",icon:"success",title:"Su compra se realizo con exito!",showConfirmButton:!1,timer:1500}),this.router.navigate(["shopping/shopping"])})}}control(h){return this.form.controls[h]}parseDataDetail(){let h=this.orderNote.detailProduct;for(let v=0;v<h.length;v++){const E=this.orderNote.detailProduct[v];this.detailParsed.push({productId:E?.id,amount:E?.count,priceShopping:E?.price,discount:E?.discount,expirationDate:E?.expirationDate,unitMeasurementId:E?.unitMeasurementSelect?.id,subTotal:E?.subTotal})}}}y.\u0275fac=function(h){return new(h||y)(t.Y36(g.so),t.Y36(O.H),t.Y36(x.l),t.Y36(I.F0),t.Y36(g.uw),t.Y36(L.s),t.Y36(g.WI),t.Y36(a.qu))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-preview-shopping"]],decls:65,vars:36,consts:[[1,"preview-sale","p-0","rounded-2xl","bg-card","print:w-auto","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"flex","items-start","justify-between"],[1,"p-4"],[1,"p-4",3,"click"],["svgIcon","heroicons_outline:x"],[1,"mb-2"],[3,"formGroup"],[1,"pl-4","pr-4"],[1,"grid","sm:grid-cols-4","w-full","mb-2"],[1,"sm:col-span-4"],[1,"grid","grid-cols-9"],[1,"col-span-9","xs:col-span-9","sm:col-span-9",2,"display","flex"],[1,"flex","flex-col","flex-auto","mr-1"],[1,"w-full"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["type","text","placeholder","Nombre Proveedor..","aria-label","Number","matInput","","required","",1,"w-full",3,"formControl","matAutocomplete","click"],["mat-icon-button","",1,"absolute","right-0",3,"click"],["autoActiveFirstOption","","required","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,""],[1,"container-botton"],[1,"add-client","center",3,"click"],["src","assets/icons/add-user.svg",1,"icon-btn"],[1,"w-full",3,"subscriptSizing"],[3,"formControlName"],[1,"mt-4"],[3,"collapsedHeight"],[1,"flex"],[1,"flex-auto",3,"ngClass"],["matInput","","cdkTextareaAutosize","",3,"formControlName","cdkAutosizeMinRows"],["matSuffix","",1,"icon-size-5",3,"svgIcon"],[4,"ngFor","ngForOf"],["matInput","",3,"formControlName","keyup"],[1,"flex","items-center","justify-between"],[1,"ml-3",3,"color","label","icon","withFull","disabled","buttonClick"],[1,"flex","items-center"],[1,"mr-3",3,"color","label","icon","withFull","disabled","buttonClick"],[3,"value"],[1,"m-3","p-3","item-product","card"],[1,"grid","grid-cols-12",2,"background","white"],[1,"col-span-2"],[1,"flex","flex-col","flex-auto"],["alt","","srcset","",2,"width","50px !important",3,"src"],[1,"col-span-4"],[2,"font-weight","700","color","#5FB960"],[2,"text-align","center","font-weight","700","color","#000"],[2,"text-align","center"],[2,"font-weight","700","text-align","center","color","#000"],[2,"font-weight","700","color","#000","text-align","center"],[2,"font-weight","700","color","#ec9e29","text-align","center"]],template:function(h,u){if(1&h&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Previsualisaci\xf3n de la compra"),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return u.close()}),t._UZ(5,"mat-icon",4),t.qZA()(),t._UZ(6,"mat-divider",5),t.TgZ(7,"form",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"mat-form-field",13)(15,"mat-label"),t._uU(16,"Proveedor:"),t.qZA(),t._UZ(17,"mat-icon",14),t.TgZ(18,"input",15),t.NdJ("click",function(){return u.setListProvider()}),t.qZA(),t.TgZ(19,"button",16),t.NdJ("click",function(){return u.cleanSearch()}),t._UZ(20,"mat-icon",14),t.qZA(),t.TgZ(21,"mat-autocomplete",17,18),t.NdJ("optionSelected",function(E){return u.onSelectionChange(E)}),t.YNc(23,p,2,3,"mat-option",19),t.ALo(24,"async"),t.qZA(),t.YNc(25,r,2,0,"mat-error",20),t.qZA()(),t.TgZ(26,"div",21)(27,"div",22)(28,"button",23),t.NdJ("click",function(){return u.addClient()}),t._UZ(29,"img",24),t.qZA()()()()()(),t.TgZ(30,"div",9)(31,"mat-form-field",25)(32,"mat-label"),t._uU(33,"Compras para la sucurzal: "),t.qZA(),t._UZ(34,"mat-icon",14),t.TgZ(35,"mat-select",26),t.YNc(36,c,2,2,"mat-option",19),t.qZA(),t.YNc(37,_,2,0,"mat-error",20),t.qZA()()(),t.TgZ(38,"mat-expansion-panel",27)(39,"mat-expansion-panel-header",28)(40,"mat-panel-title"),t._uU(41,"\xbfDeseas dejar alguna nota?"),t.qZA()(),t.TgZ(42,"div",29)(43,"mat-form-field",30)(44,"mat-label"),t._uU(45,"Nota:"),t.qZA(),t._UZ(46,"textarea",31)(47,"mat-icon",32),t.qZA()()(),t._UZ(48,"br")(49,"mat-divider"),t.qZA(),t.YNc(50,w,30,11,"div",33),t.TgZ(51,"div",7)(52,"mat-form-field",25)(53,"mat-label"),t._uU(54,"Descuento:"),t.qZA(),t._UZ(55,"mat-icon",14),t.TgZ(56,"input",34),t.NdJ("keyup",function(){return u.calculateSubTotal()}),t.qZA()()(),t._UZ(57,"br"),t.TgZ(58,"div",35)(59,"btn-generic",36),t.NdJ("buttonClick",function(){return u.close()}),t.qZA(),t.TgZ(60,"div",37)(61,"btn-generic",38),t.NdJ("buttonClick",function(){return u.saveShopping()}),t.ALo(62,"number"),t.qZA()()(),t._UZ(63,"br")(64,"br"),t.qZA()()),2&h){const v=t.MAs(22);let E;t.xp6(7),t.Q6J("formGroup",u.form),t.xp6(10),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControl",u.control("myControl"))("matAutocomplete",v),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:x"),t.xp6(3),t.Q6J("ngForOf",t.lcZ(24,31,u.filteredOptions)),t.xp6(2),t.Q6J("ngIf",u.form.get("myControl").hasError("required")&&u.form.get("myControl").touched),t.xp6(6),t.Q6J("subscriptSizing","dynamic"),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:library"),t.xp6(1),t.Q6J("formControlName","WarehouseId"),t.xp6(1),t.Q6J("ngForOf",u.listWarehouse),t.xp6(1),t.Q6J("ngIf",u.form.get("WarehouseId").hasError("required")&&u.form.get("WarehouseId").touched),t.xp6(2),t.Q6J("collapsedHeight","56px"),t.xp6(4),t.Q6J("ngClass","formFieldHelpers"),t.xp6(3),t.Q6J("formControlName","note")("cdkAutosizeMinRows",3),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:location-marker"),t.xp6(3),t.Q6J("ngForOf",u.orderNote.detailProduct),t.xp6(2),t.Q6J("subscriptSizing","dynamic"),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:briefcase"),t.xp6(1),t.Q6J("formControlName","discount"),t.xp6(3),t.Q6J("color","secondary")("label"," Cancelar")("icon","close")("withFull",!1)("disabled",!1),t.xp6(2),t.Q6J("color","green")("label","Bs. "+t.xi3(62,33,(null==(E=u.form.get("amountTotal"))?null:E.value)||0,"1.0-2")+" Pagar")("icon","cash")("withFull",!1)("disabled",u.buttondisabled)}},dependencies:[U.mk,U.sg,U.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,D.Hw,a.oH,a.sg,a.u,A.RK,m.KE,m.hX,m.TO,m.qo,m.R9,l.Nt,T.IC,B.gD,S.ey,N.d,R.XC,R.ZL,k.ib,k.yz,k.yK,Z.e,U.Ov,U.JJ,P.W],styles:[".fw-700[_ngcontent-%COMP%]{color:#000;font-weight:900;font-size:1.4em!important}.add-client[_ngcontent-%COMP%]{background:#A2C747;border-radius:10px;width:50px;height:50px;color:#fff;margin-top:3px}.icon-btn[_ngcontent-%COMP%]{height:21px;width:21px}.container-botton[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.item-product[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 6px #00000026}"]})},4983:(C,f,o)=>{o.d(f,{k:()=>a});const a="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"},6088:(C,f,o)=>{o.d(f,{s:()=>i});var a=o(529),g=o(2365),e=o(4650);const d={headers:new a.WM({"Access-Control-Allow-Origin":"*",Authorization:"authkey",userid:"1"})};class i extends g.b{constructor(s){super(s)}getAllShopping(s){return this.http.get(`${this.baseUri}api/shopping/list${s}`,d)}getAllProductShopping(s,b){return this.http.get(`${this.baseUri}api/product/list/shopping-fast?limit=${s}&page=${b}`,this.getHttpOptions())}store(s){return s?.id?this.http.put(`${this.baseUri}api/product/${s.id}`,s,this.getHttpOptions()):this.http.post(`${this.baseUri}api/shopping`,s,this.getHttpOptions())}getById(s){return this.http.get(`${this.baseUri}api/product/`+s)}getShoppingById(s){return this.http.get(`${this.baseUri}api/shopping/`+s)}lowById(s){return this.http.put(`${this.baseUri}api/shopping/${s}/low`,{})}generateReportingPdfShopingById3(s){const b={headers:new a.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.get(`${this.baseUri}api/reporting/shoping/${s}`,b)}}i.\u0275fac=function(s){return new(s||i)(e.LFG(a.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})},6628:(C,f,o)=>{o.d(f,{l:()=>d});var a=o(529),g=o(2365),e=o(4650);class d extends g.b{constructor(n){super(n)}getAllWarehouse(){return this.http.get(`${this.baseUri}api/warehouse/list`,this.getHttpOptions())}getAllProvider(){return this.http.get(`${this.baseUri}api/provider/list`,this.getHttpOptions())}store(n){return n?.id?this.http.put(`${this.baseUri}api/warehouse/${n.id}`,n,this.getHttpOptions()):this.http.post(`${this.baseUri}api/warehouse`,n,this.getHttpOptions())}getById(n){return this.http.get(`${this.baseUri}api/warehouse/`+n,this.getHttpOptions())}getProductByWarehouseId(n,s){return this.http.get(`${this.baseUri}api/warehouse/${n}/product${s}`,this.getHttpOptions())}lowWarehouseById(n){return this.http.put(`${this.baseUri}api/warehouse/${n}/low`,{},this.getHttpOptions())}upWarehouseById(n){return this.http.put(`${this.baseUri}api/warehouse/${n}/up`,{},this.getHttpOptions())}createMovementRequest(n){return this.http.post(`${this.baseUri}api/warehouse/movement/request`,n,this.getHttpOptions())}getListMovementRequest(n){return this.http.get(`${this.baseUri}api/warehouse/${n}/movement/request`,this.getHttpOptions())}getMovementById(n){return this.http.get(`${this.baseUri}api/warehouse/movement/${n}/request`,this.getHttpOptions())}rejectRequestMovement(n,s){return this.http.put(`${this.baseUri}api/warehouse/movement/${n}/reject`,s,this.getHttpOptions())}acceptRequestMovement(n,s){return this.http.put(`${this.baseUri}api/warehouse/movement/${n}/accept`,s,this.getHttpOptions())}getMovementByProductId(n,s){return this.http.get(`${this.baseUri}api/warehouse/${n}/movement/product/${s}`,this.getHttpOptions())}getHistoryByProductId(n){return this.http.get(`${this.baseUri}api/warehouse/batch/product/${n}`,this.getHttpOptions())}getWarehouseMovementByWarehouseId(n,s){return this.http.get(`${this.baseUri}api/warehouse/${n}/movement${s}`,this.getHttpOptions())}generateReportingExcelProductById(n,s){const b={headers:new a.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.get(`${this.baseUri}api/reporting/warehouse/${n}/product${s}`,b)}UpdatePriceWarehouseProduct(n,s){return this.http.put(`${this.baseUri}api/warehouse/warehouse-product/${n}/price`,s,this.getHttpOptions())}removeWarehouseProduct(n){return this.http.put(`${this.baseUri}api/warehouse/warehouse-product/${n}/remove`,{},this.getHttpOptions())}getWahouseIdByAssistant(){return this.http.get(`${this.baseUri}api/warehouse/assistant-current`,this.getHttpOptions())}}d.\u0275fac=function(n){return new(n||d)(e.LFG(a.eN))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})},2005:(C,f,o)=>{o.d(f,{h:()=>i});var a=o(4650),g=o(6895);const e=function(n){return{"card-faam-active":n}},d=function(n){return{"card-faam-active-label-title":n}};class i{constructor(){this.title="none",this.label="none",this.active=!1}set item1(s){this.title=s}set item2(s){this.label=s}set item3(s){this.active=s}}i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["chips-info-label"]],inputs:{item1:["title","item1"],item2:["label","item2"],item3:["active","item3"]},decls:4,vars:7,consts:[[1,"card-main",3,"ngClass"],[2,"width","100%"],[1,"label-title",3,"ngClass"]],template:function(s,b){1&s&&(a.TgZ(0,"div",0)(1,"div",1)(2,"p",2),a._uU(3),a.qZA()()()),2&s&&(a.Q6J("ngClass",a.VKq(3,e,!0===b.active)),a.xp6(2),a.Q6J("ngClass",a.VKq(5,d,!0===b.active)),a.xp6(1),a.Oqu(b.title))},dependencies:[g.mk],styles:[".card-main[_ngcontent-%COMP%]{border:3px solid #A2C747;border-radius:23px;height:35px;width:-moz-fit-content;width:fit-content;box-shadow:0 4px 6px #0000001a;margin:2px;padding:10px;display:flex;align-items:center;justify-content:center;cursor:pointer}.label-title[_ngcontent-%COMP%]{color:#a2c747;font-weight:600;padding-top:2px}.label-data[_ngcontent-%COMP%]{color:#000;font-weight:500}.card-faam-active[_ngcontent-%COMP%]{border:3px solid #b4beca;background:#A2C747;cursor:pointer}.card-faam-active-label-title[_ngcontent-%COMP%]{color:#fff;margin:0;padding-top:2px}.card-faam-active-label-data[_ngcontent-%COMP%]{color:#fff}"]})},2365:(C,f,o)=>{o.d(f,{b:()=>d});var a=o(529),g=o(7775),e=o(4650);class d{constructor(n){this.http=n,this.baseUri=g.N.production?g.N.apiUrlProd:g.N.apiUrlLocal}getHttpOptions(){const n=localStorage.getItem("token");return{headers:new a.WM({Authorization:`Bearer ${n}`})}}}d.\u0275fac=function(n){return new(n||d)(e.LFG(a.eN))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})},5830:(C,f,o)=>{o.d(f,{L:()=>e});var a=o(6895),g=o(4650);class e{transform(i){return i?(i=new a.uU("en-US").transform(i,"dd/MM/yyyy HH:mm")||i)||"":i||""}}e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=g.Yjl({name:"dateFormatHours",type:e,pure:!0})}}]);