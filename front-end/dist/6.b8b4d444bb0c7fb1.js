"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[6],{6034:(b,f,o)=>{o.d(f,{$:()=>a});var t=o(529),s=o(7775),u=o(4650);const h={headers:new t.WM({"Access-Control-Allow-Origin":"*",Authorization:"authkey",userid:"1"})};class a{constructor(n){this.http=n,this.baseUri="",this.baseUri=s.N.production?s.N.apiUrlProd:s.N.apiUrlLocal}getAllPettyCash(n){return this.http.get(`${this.baseUri}api/petty-cash/list${n}`,h)}store(n){return n?.id?this.http.put(`${this.baseUri}api/petty-cash/${n.id}`,n):this.http.post(`${this.baseUri}api/petty-cash`,n)}getById(n){return this.http.get(`${this.baseUri}api/petty-cash/`+n)}getBySellerId(n){return this.http.get(`${this.baseUri}api/petty-cash/seller/`+n)}getByWarehouseId(n){return this.http.get(`${this.baseUri}api/petty-cash/warehouse/`+n)}lowById(n){return this.http.put(`${this.baseUri}api/petty-cash/${n}/low`,{})}closePettyCash(n,m){return this.http.put(`${this.baseUri}api/petty-cash/${n}/close`,m)}getMovementsById(n){return this.http.get(`${this.baseUri}api/petty-cash/${n}/movements`)}getReportPettyCashById(n){const m={headers:new t.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.get(`${this.baseUri}api/reporting/petty-cash/${n}/movement`,m)}getReportExcelPettyCashById(n){const m={headers:new t.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.get(`${this.baseUri}api/reporting/excel/petty-cash/${n}/movement`,m)}saveOperators(n){return this.http.post(`${this.baseUri}api/petty-cash/assistant`,n)}getOperatorsByPettyCashId(n){return this.http.get(`${this.baseUri}api/petty-cash/${n}/assistant`)}}a.\u0275fac=function(n){return new(n||a)(u.LFG(t.eN))},a.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})},9836:(b,f,o)=>{o.d(f,{P:()=>n});var t=o(4650),s=o(6895),u=o(4859),h=o(7392);function a(m,l){if(1&m&&t._UZ(0,"mat-icon",2),2&m){const r=t.oxw();t.s9C("fontIcon",r.icon)}}const d=function(m,l,r,C,g){return{"btn-warning-faam":m,"btn-success-faam":l,"btn-secondary-faam":r,"btn-bad-faam":C,"btn-disabled-faam":g}};class n{set item1(l){this.color=l}set item2(l){this.label=l}set item3(l){this.icon=l}set item4(l){this.withFull=l}set item5(l){this.disabled=l}constructor(){this.color="green",this.label="value",this.icon=null,this.withFull=!1,this.disabled=!1,this.buttonClick=new t.vpe}handleClick(){this.disabled||this.buttonClick.emit()}}n.\u0275fac=function(l){return new(l||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["btn-actions"]],inputs:{item1:["color","item1"],item2:["label","item2"],item3:["icon","item3"],item4:["withFull","item4"],item5:["disabled","item5"]},outputs:{buttonClick:"buttonClick"},decls:3,vars:12,consts:[["mat-flat-button","","type","button",1,"btn-action",3,"ngClass","disabled","click"],["class","mr-2","icon","","aria-hidden","false","aria-label","Example share icon",3,"fontIcon",4,"ngIf"],["icon","","aria-hidden","false","aria-label","Example share icon",1,"mr-2",3,"fontIcon"]],template:function(l,r){1&l&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return r.handleClick()}),t._uU(1),t.YNc(2,a,1,1,"mat-icon",1),t.qZA()),2&l&&(t.ekj("w-full",!0===r.withFull),t.Q6J("ngClass",t.qbA(6,d,"orange"===r.color,"green"===r.color,"secondary"===r.color,"black"===r.color,r.disabled))("disabled",r.disabled),t.xp6(1),t.hij(" ",r.label," "),t.xp6(1),t.Q6J("ngIf",null!==r.icon))},dependencies:[s.mk,s.O5,u.lW,h.Hw],styles:[".btn-action[_ngcontent-%COMP%]{height:30px!important;min-height:30px!important;border-radius:10px!important;color:#fff!important;display:flex!important;cursor:pointer!important;padding-left:9px!important;padding-right:9px!important;box-shadow:0 4px 6px #0003}.btn-warning-faam[_ngcontent-%COMP%]{background:#F39C12!important}.btn-success-faam[_ngcontent-%COMP%]{background:var(--fuse-primary-600)!important}.btn-bad-faam[_ngcontent-%COMP%]{background:#1e293b!important}.btn-secondary-faam[_ngcontent-%COMP%]{background:#b4beca!important}.btn-disabled-faam[_ngcontent-%COMP%]{background:#D3D3D3!important;color:#1e293b!important;cursor:not-allowed}"]})},8885:(b,f,o)=>{o.d(f,{y:()=>C});var t=o(4650),s=o(4006),u=o(6895),h=o(4859),a=o(9549),d=o(284),n=o(7392);function m(g,e){if(1&g&&t._UZ(0,"img",9),2&g){const i=t.oxw();t.Q6J("src",i.image,t.LSH)}}function l(g,e){1&g&&(t.TgZ(0,"div")(1,"div",10),t._UZ(2,"img",11),t.qZA()())}class r{get value(){return this.innerValue}set value(e){this.innerValue=e,this.onChange(e),this.onTouched()}set itemLabel(e){this.label=e}set itemIcon(e){this.icon=e}set itemImage(e){this.image=e}set item2(e){this.active=e}set item3(e){this.justifyContent=e}writeValue(e){this.innerValue=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}onKeyUp(e){const i=e.target.value;this.keyUpEvent.emit(i),this.value=i}onInputChange(e){const c=this.validateDecimal(e.target.value,this.numberDecimal);e.target.value=c,this.value=c}handleClick(){this.buttonClick.emit()}validateDecimal(e,i){const p=e.replace(/[^\d.]/g,"").split(".");return p.length>1&&(p[1]=p[1].slice(0,i)),p.join(".")}constructor(e,i){this.changeDetector=e,this.ngZone=i,this.keyUpEvent=new t.vpe,this.buttonClick=new t.vpe,this.isRecording=!1,this.transcribedText="",this.label="",this.recognition=null,this.enterPressed=new t.vpe,this.valueChanged=new t.vpe,this.controls="discount",this.controlValue="",this.nameInput="",this.placeholderValue="",this.numberDecimal=2,this.label2="",this.icon="",this.image=null,this.active=!1,this.justifyContent=null,this.innerValue="",this.onChange=p=>{},this.onTouched=()=>{};const c=window.SpeechRecognition||window.webkitSpeechRecognition;c?(this.recognition=new c,this.recognition.lang="es-ES",this.recognition.interimResults=!1,this.recognition.onresult=p=>{const _=this.convertToNumber(p.results[p.resultIndex][0].transcript);this.ngZone.run(()=>{this.transcribedText+=_,this.value=this.transcribedText}),this.changeDetector.detectChanges()},this.recognition.onend=()=>{this.ngZone.run(()=>{this.isRecording=!1}),this.changeDetector.detectChanges()}):console.error("SpeechRecognition not supported in this browser.")}convertToNumber(e){return(e=e.replace(/punto/gi,".")).replace(/[^0-9.]/g,"").trim()}startRecording(){this.recognition&&(this.ngZone.run(()=>{this.isRecording=!0,this.transcribedText=""}),this.recognition.start(),this.changeDetector.detectChanges())}stopRecording(){this.recognition&&(this.ngZone.run(()=>{this.isRecording=!1}),setTimeout(()=>{this.recognition.stop(),this.changeDetector.detectChanges()},1e3))}}r.\u0275fac=function(e){return new(e||r)(t.Y36(t.sBO),t.Y36(t.R0b))},r.\u0275cmp=t.Xpm({type:r,selectors:[["input-invoice-decimal"]],inputs:{formControl:"formControl",itemLabel:["label","itemLabel"],itemIcon:["icon","itemIcon"],itemImage:["image","itemImage"],item2:["active","item2"],item3:["justifyContent","item3"]},outputs:{keyUpEvent:"keyUpEvent",buttonClick:"buttonClick",enterPressed:"enterPressed",valueChanged:"valueChanged"},features:[t._Bn([{provide:s.JU,useExisting:r,multi:!0}])],decls:12,vars:10,consts:[[1,"item-input"],[1,"contenedor-center","mb-1",3,"click"],[2,"display","contents"],["style","width: 50px; height: 50px;",3,"src",4,"ngIf"],[1,"ml-2"],[4,"ngIf"],[1,"w-full",3,"subscriptSizing"],["matInput","","name","miname","type","text",3,"formControl","value","keyup"],["mat-icon-button","",1,"absolute","right-0",3,"mousedown","mouseup"],[2,"width","50px","height","50px",3,"src"],[1,"icon-record"],["src","https://static.vecteezy.com/system/resources/thumbnails/013/083/621/small/recording-icon-red-logo-camera-video-recording-signs-rec-illustrations-png.png",2,"width","50px"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return i.handleClick()}),t.TgZ(2,"div",2),t.YNc(3,m,1,1,"img",3),t.TgZ(4,"label",4),t._uU(5),t.qZA()()(),t.YNc(6,l,3,0,"div",5),t.TgZ(7,"mat-form-field",6)(8,"input",7),t.NdJ("keyup",function(p){return i.onInputChange(p)}),t.qZA(),t.TgZ(9,"button",8),t.NdJ("mousedown",function(){return i.startRecording()})("mouseup",function(){return i.stopRecording()}),t.TgZ(10,"mat-icon"),t._uU(11,"mic"),t.qZA()()()()),2&e&&(t.ekj("active-card",i.active),t.xp6(1),t.Udp("justify-content",i.justifyContent),t.xp6(2),t.Q6J("ngIf",null!==i.image),t.xp6(2),t.Oqu(i.label),t.xp6(1),t.Q6J("ngIf",i.isRecording),t.xp6(1),t.Q6J("subscriptSizing","dynamic"),t.xp6(1),t.Q6J("formControl",i.formControl)("value",i.transcribedText))},dependencies:[u.O5,s.Fj,s.JJ,s.oH,h.RK,a.KE,d.Nt,n.Hw],styles:[".icon-record[_ngcontent-%COMP%]{background-color:#cecece;width:-moz-fit-content;width:fit-content;border-radius:10px;padding:4px 6px}.item-input[_ngcontent-%COMP%]{background:#cecece!important;padding:5px;border-radius:5px}.contenedor-center[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;font-weight:600}.active-card[_ngcontent-%COMP%]{background:#A2C747!important;width:100%!important;color:#f0f8ff;box-shadow:0 4px 6px #0000004d}"]});class C{constructor(e,i){this.ngControl=e,this.fb=i,this.enterPressed=new t.vpe,this.previousAmountMain=null,this.updating=!1,this.label="",this.icon="",this.onChange=c=>{},this.onTouched=()=>{},this.ngControl.valueAccessor=this,this.form=this.fb.group({amountMain:[null,s.kI.required],amountCash:[null],amountQr:[null],amountCard:[null]}),this.form.get("amountMain")?.valueChanges.subscribe(c=>{this.updateDetails()}),this.form.get("amountCash")?.valueChanges.subscribe(c=>{this.updateDetails()}),this.form.get("amountQr")?.valueChanges.subscribe(c=>{this.updateDetails()}),this.form.get("amountCard")?.valueChanges.subscribe(c=>{this.updateDetails()}),this.form.valueChanges.subscribe(c=>{this.onChange(this.toFloatValues(c))})}set itemLabel(e){this.label=e}set itemIcon(e){this.icon=e}ngOnInit(){}writeValue(e){e?this.form.patchValue(this.toFloatValues(e)):this.form.reset()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}onInputChange(){}control(e){return this.form.controls[e]}onKeyUp(e){}onEnter(){this.enterPressed.emit()}updateDetails(){if(this.updating)return;this.updating=!0;const e=this.form.get("amountMain")?.value;if(e!==this.previousAmountMain)this.form.get("amountCash")?.setValue(e),this.form.get("amountQr")?.setValue(null),this.form.get("amountCard")?.setValue(null);else{const p=e-(this.form.get("amountQr")?.value||0)-(this.form.get("amountCard")?.value||0);this.form.get("amountCash")?.setValue(p)}this.previousAmountMain=e,this.updating=!1}isActive(e){return this.form.get(e)?.value>0}toFloatValues(e){return{amountMain:parseFloat(e.amountMain)||null,amountCash:parseFloat(e.amountCash)||null,amountQr:parseFloat(e.amountQr)||null,amountCard:parseFloat(e.amountCard)||null}}}C.\u0275fac=function(e){return new(e||C)(t.Y36(s.a5,2),t.Y36(s.qu))},C.\u0275cmp=t.Xpm({type:C,selectors:[["input-amount-cash"]],inputs:{itemLabel:["label","itemLabel"],itemIcon:["icon","itemIcon"]},outputs:{enterPressed:"enterPressed"},decls:10,vars:21,consts:[[1,"compoent-amount"],[1,"grid","grid-cols-12"],[1,"col-span-12","p-1"],[3,"icon","label","formControl","keyup"],[1,"col-span-4","p-1"],[3,"icon","label","image","active","justifyContent","formControl"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input-invoice-decimal",3),t.NdJ("keyup",function(p){return i.onKeyUp(p)}),t.qZA()(),t.TgZ(4,"div",4),t._UZ(5,"input-invoice-decimal",5),t.qZA(),t.TgZ(6,"div",4),t._UZ(7,"input-invoice-decimal",5),t.qZA(),t.TgZ(8,"div",4),t._UZ(9,"input-invoice-decimal",5),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("icon",i.icon)("label",i.label)("formControl",i.control("amountMain")),t.xp6(2),t.Q6J("icon","money")("label","Efectivo")("image","assets/images/ui/cash.png")("active",i.isActive("amountCash"))("justifyContent","center")("formControl",i.control("amountCash")),t.xp6(2),t.Q6J("icon","code")("label","QR")("image","assets/images/ui/qr.png")("active",i.isActive("amountQr"))("justifyContent","center")("formControl",i.control("amountQr")),t.xp6(2),t.Q6J("icon","credit_card")("label","Tarjeta")("image","https://cdn-icons-png.flaticon.com/512/5571/5571272.png")("active",i.isActive("amountCard"))("justifyContent","center")("formControl",i.control("amountCard")))},dependencies:[s.JJ,s.oH,r],styles:[".compoent-amount[_ngcontent-%COMP%]{background:#f1f1f1;box-shadow:0 4px 6px #0000004d;padding:10px;border-radius:10px}"]})},2365:(b,f,o)=>{o.d(f,{b:()=>h});var t=o(529),s=o(7775),u=o(4650);class h{constructor(d){this.http=d,this.baseUri=s.N.production?s.N.apiUrlProd:s.N.apiUrlLocal}getHttpOptions(){const d=localStorage.getItem("token");return{headers:new t.WM({Authorization:`Bearer ${d}`})}}}h.\u0275fac=function(d){return new(d||h)(u.LFG(t.eN))},h.\u0275prov=u.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})},5830:(b,f,o)=>{o.d(f,{L:()=>u});var t=o(6895),s=o(4650);class u{transform(a){return a?(a=new t.uU("en-US").transform(a,"dd/MM/yyyy HH:mm")||a)||"":a||""}}u.\u0275fac=function(a){return new(a||u)},u.\u0275pipe=s.Yjl({name:"dateFormatHours",type:u,pure:!0})}}]);