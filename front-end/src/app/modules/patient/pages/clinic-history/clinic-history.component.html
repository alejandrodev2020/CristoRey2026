<div class="base-content">
  <div class="contenido">
    <!---------------------------------------------------------------->
    <div class="flex flex-col md:flex-row items-center justify-between dark:bg-gray-700 ">
      <div class="w-full mt-4">
        <div class="text-2xl font-semibold tracking-tight leading-6">Historico Paciente</div>
        <div class="font-medium tracking-tight text-secondary">Módulo de gestiones de Citas</div>
      </div>
      <div class="flex flex-col md:flex-row items-center mt-4 md:mt-0">
        <btn-actions 
          class="" 
          [color]="'secondary'"
          [label]="'Imprimir'"
          [icon]="'print'"
          [withFull]="false"
          [disabled]="false"
          (buttonClick)="printReport()">
        </btn-actions>
      </div>
    </div> 
    <!-- ------------------------------table------------------------------------------------------- -->
      <div *ngFor="let item of listClinicalHistory" class="mb-4">
        <mat-card class="shadow-sm">
          <mat-card-header>
            <div class="w-full flex items-center justify-between">
              <div class="text-base font-semibold">
                Historia Clínica #{{ item.id }}
              </div>

              <div class="text-sm text-secondary">
                {{ item.dateQuery | dateFormatHours }}
              </div>
            </div>      
          </mat-card-header>
          <mat-card-subtitle class="ml-4 w-full">
              Paciente: {{ item.patient.firstName }} {{ item.patient.lastName }}
          </mat-card-subtitle>
          <mat-card-content class="space-y-1 mt-2 text-sm">
            <p><strong>Motivo:</strong> {{ item.motive || '—' }}</p>
            <p><strong>Diagnóstico:</strong> {{ item.diagnostic || '—' }}</p>
            <p><strong>Observaciones:</strong> {{ item.observations || '—' }}</p>

        

             <div class="w-full flex items-center justify-between">
                <p class="mt-2 text-lg font-semibold text-primary">
                  Total: {{ item.totalCost | number:'1.2-2' }} Bs.
                </p>
                  <btn-actions
                     [color]="'green'"
                     [label]="'Gestionar'"
                     [icon]="'dvr'"
                     [withFull]="true"
                     [disabled]="false"
                     (buttonClick)="onManageClinicalHistory(item)";
                   >
                  </btn-actions>
             </div>
          </mat-card-content>
        </mat-card>
      </div>
    <!-- ------------------------------table------------------------------------------------------- -->
  </div>
</div>
