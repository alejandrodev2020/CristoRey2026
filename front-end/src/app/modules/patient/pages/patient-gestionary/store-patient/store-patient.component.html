<div class="father">
    <div class="contenido">
        <!-------------------------------------------->
        <div class="pd-20 card-box">
            <div class="">
                <div class="">
                    <div class="w-full mt-4">
                        <div *ngIf="isCreate" class="text-2xl font-semibold tracking-tight leading-6">Registro de
                            Paciente</div>
                        <div *ngIf="!isCreate" class="text-2xl font-semibold tracking-tight leading-6">Actualizaci처n de
                            Paciente</div>
                        <div class="font-medium tracking-tight text-secondary">Modulo de gestiones para clientes</div>
                    </div>
                    <br>
                    <hr>
                    <form [formGroup]="form" ngNativeValidate autocomplete="off">
                        <!-------------------------------------------------------------------------------------------------------------------------------->
                        <div>
                            <div class="flex items-center justify-center">
                                <img class="image" [src]="imageSource" alt="Image Source">
                            </div>
                            <div class="flex items-center justify-center mt-1">
                                <div style="width: 200px;" class="flex items-center justify-center">
                                    <div class="flex items-center justify-center bg-primary-500 p-1"
                                        style="border-radius: 5px; width: 100%;">
                                        <input id="avatar-file-input"
                                            class="absolute h-0 w-0 opacity-0 invisible pointer-events-none" type="file"
                                            [multiple]="false" [accept]="'image/jpeg, image/png'"
                                            (change)="uploadAvatar(avatarFileInput.files)" #avatarFileInput>
                                        <label
                                            class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer hover:bg-hover"
                                            for="avatar-file-input" matRipple>
                                            <mat-icon class="text-white"
                                                [svgIcon]="'heroicons_outline:camera'"></mat-icon>
                                        </label>
                                    </div>
                                    <div (click)="removeAvatar()"
                                        class=" flex items-center justify-center bg-gray-300 p-1"
                                        style="border-radius: 5px;width: 100%; height: 48px;">
                                        <mat-icon class="text-white" [svgIcon]="'heroicons_outline:trash'"></mat-icon>
                                    </div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: center; justify-items: center;">
                                <btn-actions *ngIf="hasLink"
                                    class="mt-2 mr-2"
                                    [color]="'orange'"
                                    [label]="'Ir a la Direcci처n'"
                                    [icon]="'location_on'"
                                    [withFull]="false"
                                    [disabled]="false"
                                    (buttonClick)="getLocation()">
                                </btn-actions>
                            </div>
                        </div>
                        <!-------------------------------------------------------------------------------------------------------------------------------->
                        <!------------------------------------------------------------------------------------------------------------------------------------------------------------>
                        <div class="grid sm:grid-cols-2 md:grid-cols-4 gap-6 w-full mt-8">
                            <div [class.sm:col-span-2]="!isModal" [class.sm:col-span-4]="isModal">

                            <input-text [formControl]="control('firstName')" [label]="'Nombres:'" [maxLength]="50"
                            [minLength]="3" [icon]="'heroicons_outline:user-circle'" [disabled]="false"
                            [placeholder]="'Nombres..'">
                           </input-text>

                            </div>

                            <div [class.sm:col-span-2]="!isModal" [class.sm:col-span-4]="isModal">
                                <input-text [formControl]="control('lastName')" [label]="'Apellidos:'" [maxLength]="50"
                                    [minLength]="3" [icon]="'heroicons_outline:user-circle'" [disabled]="false"
                                    [placeholder]="'Apellido..'">
                                </input-text>
                            </div>
                        </div>

                        <!------------------------------------------------------------------------------------------------------------------------------------------------------------>
                        <!------------------------------------------------------------------------------------------------------------------------------------------------------------>
                        <div class="grid sm:grid-cols-2 md:grid-cols-4 gap-6 w-full mt-8">
                            <div [class.sm:col-span-2]="!isModal" [class.sm:col-span-4]="isModal">
                           <input-text [formControl]="control('phone')" [label]="'Celular:'" [maxLength]="50"
                                [minLength]="3" [icon]="'heroicons_outline:phone'" [disabled]="false"
                                [placeholder]="'Celular..'">
                            </input-text>
                            </div>

                            <div [class.sm:col-span-2]="!isModal" [class.sm:col-span-4]="isModal">
                                <input-text [formControl]="control('ci')" [label]="'Carnet:'" [maxLength]="50"
                                [minLength]="3" [icon]="'heroicons_outline:identification'" [disabled]="false"
                                [placeholder]="'Carnet..'">
                            </input-text>
                            </div>
                        </div>

                        <!------------------------------------------------------------------------------------------------------------------------------------------------------------>
                        <!------------------------------------------------------------------------------------------------------------------------------------------------------------>
                        <div class="grid sm:grid-cols-2 md:grid-cols-4 gap-6 w-full mt-8">
                            <div [class.sm:col-span-2]="!isModal" [class.sm:col-span-4]="isModal">
                                <input-text [formControl]="control('nit')" [label]="'N째 Nit:'" [maxLength]="50"
                                [minLength]="3" [icon]="'heroicons_solid:briefcase'" [disabled]="false"
                                [placeholder]="'N째 Nit..'">
                               </input-text>
                            </div>

                            <div [class.sm:col-span-2]="!isModal" [class.sm:col-span-4]="isModal">
                                <mat-form-field class="w-full">
                                    <mat-label>Departamento</mat-label>
                                    <mat-select [formControlName]="'departamentId'">
                                        <mat-option *ngFor="let item of listDepartament" [value]="item.id">
                                            {{item.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                        </div>

                        <!------------------------------------------------------------------------------------------------------------------------------------------------------------>
                        <!------------------------------------------------------------------------------------------------------------------------------------------------------------>
                        <div class="grid sm:grid-cols-2 md:grid-cols-4 gap-6 w-full mt-2">                            
                            <div [class.sm:col-span-2]="!isModal" [class.sm:col-span-4]="isModal">
                                <mat-form-field class="w-full">
                                    <mat-label>Ciudad</mat-label>
                                    <mat-select [formControlName]="'cityId'">
                                        <mat-option *ngFor="let item of optionsCity" [value]="item.id">
                                            {{item.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div [class.sm:col-span-2]="!isModal" [class.sm:col-span-4]="isModal">
                                <mat-form-field class="w-full">
                                    <mat-label>Genero</mat-label>
                                    <mat-select [formControlName]="'genderId'">
                                        <mat-option *ngFor="let item of optionsGender" [value]="item.id">
                                            {{item.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <!------------------------------------------------------------------------------------------------------------------------------------------------------------>
                        <div class="flex items-center justify-between  px-8 py-5  dark:bg-gray-700">
                            <div></div>
                            <div style="display: flex;">
                                <btn-generic class="px-6 ml-3" [color]="'secondary'" [label]="' Cancelar'"
                                    [icon]="'close'" [withFull]="false" [disabled]="false" (buttonClick)="cancel()">
                                </btn-generic>
                                <btn-generic class="" [color]="'green'" [label]="' Guardar1'" [icon]="'save'"
                                    [withFull]="false" [disabled]="isSaving" (buttonClick)="save()">
                                </btn-generic>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
