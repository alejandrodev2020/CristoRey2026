<div class="contenido">
    <!-- -------------------------------------tabla------------------------------------------------- -->
    <div class="preview-sale  p-0 rounded-2xl bg-card print:w-auto print:rounded-none print:shadow-none print:bg-transparent">
        <div class="flex items-start justify-between mb-2">
            <div>
                <div class="w-full mt-4 ml-6">
                    <div class="text-2xl font-semibold tracking-tight leading-6">Detalle de Distribución</div>
                     <div class="font-medium tracking-tight text-secondary">Visualización de informacíon de caja</div>
                </div>
            </div>
            <div  class="p-4" >
                <div class="flex">
                    <!-- <btn-export-pdf (click)="exportPdf()"></btn-export-pdf>
                    <btn-export-excel (click)="downloadPDFTermic()"></btn-export-excel> -->
                </div>
            </div>
        </div>
        <mat-divider></mat-divider>
    
        <mat-tab-group   #tabGroup  class="mt-4" (selectedTabChange)="selectTab($event)">
            <mat-tab label="Datos">
                    <section class="ml-6 mr-6">
                            <mat-divider></mat-divider>
                            <div class="mt-2">
                            <div style="border-radius: 6px;" class="mb-2 py-0.4 px-1 pt-3 pb-3  pl-2  text-sm text-start font-semibold text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500">
                                <div class="text-3x2 font-extrabold tracking-tight leading-none">Dinero Total:</div>
                                <div class="text-3x1 font-extrabold tracking-tight leading-none" style="font-size:30px"> Bs.{{ pettyCashObj?.cashAmountMain  ?? 0 | number : '1.2-2'}}</div>
    
                            </div>
                            <mat-divider></mat-divider>
                            <div class="mt-2 mb-2 grid grid-cols-1 sm:grid-cols-12 gap-6 w-full min-w-0">
                                <div class="sm:col-span-4 lg:col-span-4">
                                    <div style="border-radius: 6px;" class="py-0.4 px-1 pt-3 pb-3 pl-2  text-sm text-start font-semibold text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500">
                                        <div class="text-3x2 font-extrabold tracking-tight leading-none">Efectivo Total:</div>
                                        <div class="text-3x1 font-extrabold tracking-tight leading-none" style="font-size:30px"> Bs.{{ pettyCashObj?.cashAmountCash  ?? 0 | number : '1.2-2'}}</div>
    
                                    </div>
                                </div>
                                <div class="sm:col-span-4 lg:col-span-4">
                                    <div style="border-radius: 6px;" class="py-0.4 px-1 pt-3 pb-3 pl-2  text-sm text-start font-semibold text-blue-800 bg-blue-100 dark:text-blue-50 dark:bg-blue-500">
                                        <div class="text-3x2 font-extrabold tracking-tight leading-none">Qr Total:</div>
                                        <div class="text-3x1 font-extrabold tracking-tight leading-none" style="font-size:30px"> Bs.{{ pettyCashObj?.cashAmountQr  ?? 0 | number : '1.2-2'}}</div>
    
                                    </div>
                                </div>
                                <div class="sm:col-span-4 lg:col-span-4">
                                    <div style="border-radius: 6px;" class="py-0.4 px-1 pt-3 pb-3 pl-2  text-sm text-start font-semibold text-orange-800 bg-orange-100 dark:text-orange-50 dark:bg-orange-500">
                                        <div class="text-3x2 font-extrabold tracking-tight leading-none">Tarjeta Total:</div>
                                        <div class="text-3x1 font-extrabold tracking-tight leading-none" style="font-size:30px"> Bs.{{ pettyCashObj?.cashAmountCard  ?? 0 | number : '1.2-2'}}</div>
    
                                    </div>
                                </div>
                            </div>
                            <mat-divider></mat-divider>
                        </div>
    
                        <br>

                        
                        <div class="grid grid-cols-1 sm:grid-cols-12 gap-6 w-full min-w-0">
                            <!-- Budget distribution -->
                            <div class="sm:col-span-6 lg:col-span-6" (click)="goOrders()">
                                <div class="flex flex-col flex-auto">
                                      <div style="background-color: #A2C747;box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2);
                                      border-radius: 10px; color:#fff ; height: 30px; padding: 20px; display: flex; align-items: center;">
                                          <h2 style="font-weight: 700;">Mis Ventas</h2>
                                      </div>
                                </div>
                            </div>
                            <!-- Expense -->
                            <div class="sm:col-span-6 lg:col-span-6" (click)="goSales()">
                                <div class="flex flex-col flex-auto">
                                       <div style="background-color: #b4beca;box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2);
                                       border-radius: 10px; color:#fff; height: 30px; padding: 20px; display: flex; align-items: center;">
                                         <h2 style="font-weight: 700;">Mis pedidos</h2>
                                      </div>
                                </div>  
                            </div>
                        </div>
                        <!--LO QUE NESECITO-->
                        <mat-divider class="mt-2 mb-2"></mat-divider>
                        <div class="mt-2 ml-6 mr-6 mb-1 text-3x2 font-extrabold tracking-tight leading-none">QUE NESECITO</div>
                        <div style="box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.3);" class="card-details mt-2 py-4 px-5 rounded-lg ng-star-inserted">

                            <table style="overflow-x: scroll;">
                                <tr>
                                    <td style="font-weight: 700; width: auto; padding-left: 10px; padding-right: 10px;">Cod.</td>
                                    <td style="font-weight: 700; width: auto; padding-left: 10px; padding-right: 10px;">Nombre</td>
                                    <td style="font-weight: 700; width: auto; padding-left: 10px; padding-right: 10px;">Apellido</td>
                                    <td style="font-weight: 700; width: auto; padding-left: 10px; padding-right: 10px;">Producto</td>
                                    <td style="font-weight: 700; width: auto; padding-left: 10px; padding-right: 10px;">Descripción</td>
                                    <td style="font-weight: 700; width: auto; padding-left: 10px; padding-right: 10px;">Cantidad</td>
                                    <td style="font-weight: 700; width: auto; padding-left: 10px; padding-right: 10px;">Medida</td>
                                </tr>
                                <tbody>
                                    <tr *ngFor="let item of listDetailOrder" style="border-bottom: 1px solid rgb(133, 133, 133);">
                                        <td style="width: auto; padding-left: 10px; padding-right: 10px;">{{item?.id}}</td>
                                        <td style="width: auto; padding-left: 10px; padding-right: 10px;">{{item?.firstName}}</td>
                                        <td style="width: auto; padding-left: 10px; padding-right: 10px;">{{item?.lastName}}</td>
                                        <td style="width: auto; padding-left: 10px; padding-right: 10px;">{{item?.name}}</td>
                                        <td style="width: auto; padding-left: 10px; padding-right: 10px;">{{item?.description}}</td>
                                        <td style="width: auto; padding-left: 10px; padding-right: 10px;">{{item?.amountOrigin}}</td>
                                        <td style="width: auto; padding-left: 10px; padding-right: 10px;">{{item?.unitMeasurement?.name}}</td>
                                    </tr>
                                </tbody>
                            </table>
                    

<!-- 
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-4" >
                                <div style="border-radius: 6px;">
                                    <div class="text-3x2 font-semibold tracking-tight leading-none">Dinero Inicio:</div>
                                    <p>{{pettyCashObj?.amountInit  ?? 0 | number : '1.2-2'}} </p>
                                </div>
                                <div style="border-radius: 6px;">
                                    <div class="text-3x2 font-semibold tracking-tight leading-none">Dinero Sobrante:</div>
                                    <p>{{pettyCashObj?.amountSpareMoney  ?? 0 | number : '1.2-2'}}</p>
                                </div>
                                <div style="border-radius: 6px;">
                                    <div class="text-3x2 font-semibold tracking-tight leading-none">Dinero Faltante:</div>
                                    <p>Bs.- {{pettyCashObj?.amountMissingMoney  ?? 0 | number : '1.2-2'}}</p>
                                </div>
                                <div style="border-radius: 6px;">
                                    <div class="text-3x2 font-semibold tracking-tight leading-none">Monto Ventas - Credito:</div>
                                <p>Bs.- {{pettyCashObj?.amountCreditCredit  ?? 0 | number : '1.2-2'}}</p>
                                </div>
                                <div style="border-radius: 6px;">
                                    <div class="text-3x2 font-semibold tracking-tight leading-none">Sucursal:</div>
                                <p>{{pettyCashObj?.warehouse?.name}} </p>
                                </div>
                                <div style="border-radius: 6px;">
                                    <div class="text-3x2 font-semibold tracking-tight leading-none">Nota Vendedor:</div>
                                    <p>{{pettyCashObj?.note}}</p>
                                </div>
                            </div> -->
                            </div>
                        <!--LO QUE NESECITO-->
                           <!--LO QUE TENGO-->
                           <mat-divider class="mt-2 mb-2"></mat-divider>
                           <div class="mt-2 ml-6 mr-6 mb-1 text-3x2 font-extrabold tracking-tight leading-none">QUE TENGO</div>
                           <div style="box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.3);" class="card-details mt-2 py-4 px-5 rounded-lg ng-star-inserted">
                               <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-4" >
                                   <div style="border-radius: 6px;">
                                       <div class="text-3x2 font-semibold tracking-tight leading-none">Dinero Inicio:</div>
                                       <p>{{pettyCashObj?.amountInit  ?? 0 | number : '1.2-2'}} </p>
                                   </div>
                                   <div style="border-radius: 6px;">
                                       <div class="text-3x2 font-semibold tracking-tight leading-none">Dinero Sobrante:</div>
                                       <p>{{pettyCashObj?.amountSpareMoney  ?? 0 | number : '1.2-2'}}</p>
                                   </div>
                                   <div style="border-radius: 6px;">
                                       <div class="text-3x2 font-semibold tracking-tight leading-none">Dinero Faltante:</div>
                                       <p>Bs.- {{pettyCashObj?.amountMissingMoney  ?? 0 | number : '1.2-2'}}</p>
                                   </div>
                                   <div style="border-radius: 6px;">
                                       <div class="text-3x2 font-semibold tracking-tight leading-none">Monto Ventas - Credito:</div>
                                   <p>Bs.- {{pettyCashObj?.amountCreditCredit  ?? 0 | number : '1.2-2'}}</p>
                                   </div>
                                   <div style="border-radius: 6px;">
                                       <div class="text-3x2 font-semibold tracking-tight leading-none">Sucursal:</div>
                                   <p>{{pettyCashObj?.warehouse?.name}} </p>
                                   </div>
                                   <div style="border-radius: 6px;">
                                       <div class="text-3x2 font-semibold tracking-tight leading-none">Nota Vendedor:</div>
                                       <p>{{pettyCashObj?.note}}</p>
                                   </div>
                               </div>
                               </div>
                           <!--LO QUE TENGO-->

                        <mat-divider class="mt-2 mb-2"></mat-divider>
    
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="mb-1 text-3x2 font-extrabold tracking-tight leading-none">Datos Principales</div>
                            </div>
                            <div class="flex items-center"> </div>
                        </div>
                        <div style="box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.3);" class="card-details mt-2 mb-2 py-4 px-5 rounded-lg ng-star-inserted">
                             <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-4" >
                                    <div style="border-radius: 6px;">
                                    <div class="text-3x2 font-semibold tracking-tight leading-none">Fecha Apertura:</div>
                                    <p>{{pettyCashObj?.pettyCashInit | dateFormatHours}} </p>
                                    </div>
                                    <div style="border-radius: 6px;">
                                    <div class="text-3x2 font-semibold tracking-tight leading-none">Fecha Cierre</div>
                                    <p>{{pettyCashObj?.pettyCashEnd | dateFormatHours}}</p>
                                    </div>
                                    <div style="border-radius: 6px;">
                                    <div class="text-3x2 font-semibold tracking-tight leading-none">Ventas Total</div>
                                    <p>Bs.- {{pettyCashObj?.amountSale  ?? 0 | number : '1.2-2'}}</p>
                                    </div>
                                    <div style="border-radius: 6px;">
                                        <div class="text-3x2 font-semibold tracking-tight leading-none">Monto Caja:</div>
                                        <p>Bs.- {{pettyCashObj?.cashAmountMain  ?? 0 | number : '1.2-2'}}</p>
                                    </div>
                                    <div style="border-radius: 6px;">
                                        <div class="text-3x2 font-semibold tracking-tight leading-none">Vendedor Resp.:</div>
                                        <p>{{pettyCashObj?.userSeller?.firstName}} {{ pettyCashObj?.userSeller?.lastName}} </p>
                                    </div>
                                    <div style="border-radius: 6px;">
                                        <div class="text-3x2 font-semibold tracking-tight leading-none">Administrador Resp.:</div>
                                        <p>{{pettyCashObj?.userAdmin?.firstName}} {{pettyCashObj?.userAdmin?.lastName}}</p>
                                    </div>
                                </div>
                                <mat-divider></mat-divider>
                            </div>
    
                    </section>
                    <mat-divider class="mt-5 ml-6 mr-6"></mat-divider>
                    <div class="mt-2 ml-6 mr-6 mb-1 text-3x2 font-extrabold tracking-tight leading-none">Datos Secundarios</div>
                    <section class="ml-6 mr-6">
                        <div style="box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.3);" class="card-details mt-2 py-4 px-5 rounded-lg ng-star-inserted">
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-4" >
                                <div style="border-radius: 6px;">
                                    <div class="text-3x2 font-semibold tracking-tight leading-none">Dinero Inicio:</div>
                                    <p>{{pettyCashObj?.amountInit  ?? 0 | number : '1.2-2'}} </p>
                                </div>
                                <div style="border-radius: 6px;">
                                    <div class="text-3x2 font-semibold tracking-tight leading-none">Dinero Sobrante:</div>
                                    <p>{{pettyCashObj?.amountSpareMoney  ?? 0 | number : '1.2-2'}}</p>
                                </div>
                                <div style="border-radius: 6px;">
                                    <div class="text-3x2 font-semibold tracking-tight leading-none">Dinero Faltante:</div>
                                    <p>Bs.- {{pettyCashObj?.amountMissingMoney  ?? 0 | number : '1.2-2'}}</p>
                                </div>
                                <div style="border-radius: 6px;">
                                    <div class="text-3x2 font-semibold tracking-tight leading-none">Monto Ventas - Credito:</div>
                                <p>Bs.- {{pettyCashObj?.amountCreditCredit  ?? 0 | number : '1.2-2'}}</p>
                                </div>
                                <div style="border-radius: 6px;">
                                    <div class="text-3x2 font-semibold tracking-tight leading-none">Sucursal:</div>
                                <p>{{pettyCashObj?.warehouse?.name}} </p>
                                </div>
                                <div style="border-radius: 6px;">
                                    <div class="text-3x2 font-semibold tracking-tight leading-none">Nota Vendedor:</div>
                                    <p>{{pettyCashObj?.note}}</p>
                                </div>
                            </div>
                            </div>
          
    
                            <div class="mt-3" *ngIf="viewGraphics" style="background: #f2f2f2;    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.3); padding: 10px; border-radius: 7px;">
                                <div style="text-align:center">
                                    <apx-chart
                                      [series]="chartOptions.series"
                                      [chart]="chartOptions.chart"
                                      [xaxis]="chartOptions.xaxis"
                                      [colors]="chartOptions.colors"
                                      [title]="chartOptions.title"
                                    ></apx-chart>
                                  </div>
                            </div>
    
                    </section>
    
                    <br>
                    <mat-divider></mat-divider>
                    <br>
    
                    <div class="flex items-center justify-between">
                        <div></div>
                        <div class="flex items-center">
                            <btn-generic
                                class="px-6 ml-3"
                                [color]="'black'"
                                [label]="' Imprimir'"
                                [icon]="'list'"
                                [withFull]="false"
                                [disabled]="true"
                                (buttonClick)="closePettyCash()">
                            </btn-generic>
                            <btn-generic
                                class="px-6 ml-3"
                                [color]="'green'"
                                [label]="' Cerrar Caja'"
                                [icon]="'close'"
                                [withFull]="false"
                                [disabled]="pettyCashObj?.status?.id === 2"
                                (buttonClick)="closePettyCash()"
                                >
                            </btn-generic>
                        </div>
                    </div>

             </mat-tab>
             <mat-tab label="Ventas">
                <petty-cash-movement *ngIf="viewMovements" [data]="id"></petty-cash-movement>
    
            </mat-tab>
            <mat-tab label="Pedidos">
                <div class="grid grid-cols-1 sm:grid-cols-12 gap-6 w-full min-w-0">
                    <div class="sm:col-span-12 md:col-span-12 lg:col-span-12 ">
                        <div class="flex flex-col">
                            <div class="flex items-center justify-between">
                                <div>
                                  <div class="text-3x2 font-extrabold tracking-tight leading-none">Detalles de los pedidos</div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <btn-actions 
                                        [color]="'green'" 
                                        [label]="' Levantar Pedido'" 
                                        [icon]="'add'"
                                        [withFull]="false"
                                        [disabled]="false" 
                                        (buttonClick)="goRaiseOrder()">
                                    </btn-actions>
                                </div>                   
                            </div>
                        </div>
                        <!---->
                        <div class="mat-elevation-z0 table-responsive hide-on-small-screen">
                            <table mat-table [dataSource]="dataSource" class="table">
                      
                              <ng-container matColumnDef="order">
                                <th mat-header-cell *matHeaderCellDef> Orden </th>
                                <td mat-cell *matCellDef="let element"> {{element?.id}} </td>
                              </ng-container>
                      
                              <ng-container matColumnDef="warehouse">
                                <th mat-header-cell *matHeaderCellDef> Sucursal </th>
                                <td mat-cell *matCellDef="let element"> {{element?.warehouse?.name}} </td>
                              </ng-container>
                      
                      
                              <ng-container matColumnDef="client">
                                <th mat-header-cell *matHeaderCellDef> Cliente </th>
                                <td mat-cell *matCellDef="let element"> {{element?.client?.firstName}} {{element?.client?.lastName}} </td>
                              </ng-container>
                      
                      
                              <ng-container matColumnDef="saleDate">
                                <th mat-header-cell *matHeaderCellDef> Fecha </th>
                                <td mat-cell *matCellDef="let element"> {{element?.saleDate | dateFormatHours }} </td>
                              </ng-container>
                      
                              <ng-container matColumnDef="amountTotal">
                                <th mat-header-cell *matHeaderCellDef> Monto Total </th>
                                <td mat-cell *matCellDef="let element"> Bs. {{element?.amountTotal  ?? 0 | number : '1.2-2'}} </td>
                              </ng-container>
                      
                              <ng-container matColumnDef="saleType">
                                <th mat-header-cell *matHeaderCellDef> Tipo de Venta </th>
                                <td mat-cell *matCellDef="let element">
                                  <div *ngIf="element.saleType.id === 1"
                                    class="py-0.4 h-6 w-22 px-1 rounded-full text-xs text-center font-semibold text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500">
                                    {{element?.saleType?.name}}
                                  </div>
                                  <div *ngIf="element.saleType.id === 2"
                                    class="py-0.4 h-6 w-22 px-1 rounded-full text-xs text-center font-semibold text-orange-800 bg-orange-100 dark:text-orange-50 dark:bg-orange-500">
                                    {{element?.saleType?.name}}
                                  </div>
                                  <div *ngIf="element.saleType.id === 3"
                                      class="py-0.4 h-6 w-22 px-1 rounded-full text-xs text-center font-semibold text-blue-800 bg-blue-100 dark:text-blue-50 dark:bg-blue-500">
                                      {{element?.saleType?.name}}
                                  </div>
                                </td>
                              </ng-container>
                      
                      
                              <ng-container matColumnDef="paymentType">
                                <th mat-header-cell *matHeaderCellDef> Pago </th>
                                <td mat-cell *matCellDef="let element">
                                  <img *ngIf="element?.paymentType?.id === 1" style="width: 30px;" src="assets/images/ui/cash.png" />
                                  <img *ngIf="element?.paymentType?.id === 2" style="width: 30px;" src="assets/images/ui/qr.png" />
                                  <img *ngIf="element?.paymentType?.id === 3" style="width: 30px;" src="assets/images/ui/card.png" />
                                  <img *ngIf="element?.paymentType?.id === 4" style="width: 30px;" src="assets/images/ui/payment-mix.png" />
                                </td>
                              </ng-container>
                      
                      
                      
                              <ng-container matColumnDef="isActive">
                                <th mat-header-cell *matHeaderCellDef> Estado </th>
                                <td mat-cell *matCellDef="let element">
                                  <div
                                    class="py-0.4 h-6 w-22 px-1 rounded-full text-xs text-center font-semibold text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500">
                                    reservado
                                  </div>
                       
                      
                                </td>
                              </ng-container>
                      
                              <ng-container matColumnDef="acciones">
                                <th mat-header-cell *matHeaderCellDef> Acciones </th>
                                <td mat-cell *matCellDef="let element">
                                  <mat-icon class="mr-2" (click)="overView(element)">visibility</mat-icon>
                                  <mat-icon class="mr-2" (click)="lowWarehouse(element)">delete_forever</mat-icon>
                                </td>
                              </ng-container>
                      
                              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                            </table>
                      
                            <mat-paginator [pageSizeOptions]="listOptionsPage" [length]="totalLength" [pageIndex]="page" [pageSize]="limit"
                              showFirstLastButtons (page)="pageEvent($event)" aria-label="Select page of periodic elements">
                            </mat-paginator>
                          </div>
                    </div>
                  </div>
            </mat-tab>
            <mat-tab label="Mi Ruta">

                    <google-map

                      [width]="'100%'"
                      [style.height]="'100%'"
                      [center]="center"
                      [zoom]="zoom">
                      
                      <map-marker
                        *ngFor="let marker of markers"
                        [position]="marker"
                        [icon]="imageIcon"
                        (markerClick)="onMarkerClick(marker)">
                      </map-marker>
                    </google-map>
          
            </mat-tab>
        </mat-tab-group>
    
    </div>
    
    <!-- -------------------------------------tabla------------------------------------------------- -->
</div>

    