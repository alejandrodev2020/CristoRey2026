<div class="base-content">
    <div class="contenido">
     <div class="grid grid-cols-1 sm:grid-cols-12 w-full h-full min-w-0">
        <div class="sm:col-span-12 lg:col-span-12" style="overflow: hidden;">
            <div class="w-full pl-2 pr-2" style="height: 90px;">

                <div class="flex items-center justify-between -mx-8  px-8 py-5  dark:bg-gray-700">
                    <div>
                        <div class="w-full">
                            <div class="text-2xl font-semibold tracking-tight leading-6">Listado de productos</div>
                             <div class="font-medium tracking-tight text-secondary">Gestion de productos del almacen {{warehouseId}}</div>
                        </div>

                    </div>

                    <div style="display: flex;">
                       <btn-actions
                         class="mr-2"
                         [color]="'green'"
                         [label]="'Exportar'"
                         [icon]="'cloud_download'"
                         [withFull]="true"
                         [disabled]="false"
                         (buttonClick)="gestionaryTransfer()">
                       </btn-actions>
                  </div>
               </div>
            </div>
            <warehouse-product-report-filter  (emitQuery)="senfilter($event)"></warehouse-product-report-filter>
            <mat-divider></mat-divider>
            <mat-paginator
                    [pageSizeOptions]="listOptionsPage"
                    [length]="totalLength"
                    [pageIndex]="page"
                    [pageSize]="limit"
                    showFirstLastButtons
                    (page)="pageEvent($event)"
                    aria-label="Select page of periodic elements">
            </mat-paginator>
            <mat-divider></mat-divider>
            <cdk-virtual-scroll-viewport class="example-viewport  h-full" itemSize="100">
                <div class="grid grid-cols-1 sm:grid-cols-12 w-full min-w-0">
                        <div *ngFor="let product of productList" class="sm:col-span-6 xs:col-span-12  md:col-span-3   lg:col-span-2
                                     flex flex-col flex-auto p-0 bg-card shadow rounded overflow-hidden p-1 m-1" (click)="selectProduct(product)" style="background: #fff !important;">
                            <div class="p-2">
                                <div class="flex justify-between">
                                    <div> 
                                        <div class="py-0.5 px-3 rounded-full text-sm font-semibold text-blue-800 bg-blue-100 dark:text-blue-50 dark:bg-blue-500">
                                            Cantidad : {{product?.amount | number : '1.0-2'}}
                                        </div>
                                        <div class="py-0.5 px-3 mt-1 rounded-full w-min text-sm font-semibold text-orange-800 bg-orange-100 dark:text-orange-50 dark:bg-orange-500">
                                            {{product?.unitMeasurement?.name}}
                                        </div>
                                    </div>
                                    <div>
                                        <mat-icon *ngIf="product?.amount<=5"  style="height: 15px; color: #F5B041;">warning</mat-icon>
                                    </div>
                                </div>
                            </div>
                            <img style="max-width: 230px; max-height: 230px;"  [src]="product.product?.picture ? 'data:image/png;base64,' + product.product.picture : imageSource" >
                            <div class="text-center mt-1 mb-1 h-full">
                                <div class="product-name">{{product?.product?.name | truncate : 40}}</div>
                                <div class="product-description">{{product?.product?.description | truncate : 40}}</div>       
                            </div>
                            <div class="text-center" style="background: #D5D8DC;">
                            </div>
                        </div>
                </div>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
              </cdk-virtual-scroll-viewport>
        </div>
       </div>
<!---------------------------------------------------------------------------------------------------------------------------->
    </div>
</div>

 